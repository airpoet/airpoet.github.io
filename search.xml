<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hadoopå­¦ä¹ ç¬”è®°-3 HDFS åŸç†å‰–æ]]></title>
    <url>%2F2018%2F06%2F03%2FHadoop%2FStudy%2FHadoop%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3-HDFS%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%2F</url>
    <content type="text"><![CDATA[1. HDFSä½“ç³»ç»“æ„ä¸»ä»ã€‚ã€‚ã€‚ 2.NameNodeæ¦‚å¿µ [x] æ˜¯æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ç®¡ç†èŠ‚ç‚¹ã€‚å®ƒç»´æŠ¤ç€æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ç›®å½•æ ‘ï¼Œæ–‡ä»¶/ç›®å½•çš„å…ƒä¿¡æ¯å’Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”çš„æ•°æ®å—åˆ—è¡¨ã€‚æ¥æ”¶ç”¨æˆ·çš„æ“ä½œè¯·æ±‚ã€‚ [x] åœ¨hdfs-site.xmlä¸­çš„dfs.namenode.name.dirå±æ€§ [x] æ–‡ä»¶åŒ…æ‹¬ï¼š [x] æ–‡ä»¶åŒ…æ‹¬: â‘ fsimage:å…ƒæ•°æ®é•œåƒæ–‡ä»¶ã€‚å­˜å‚¨æŸä¸€æ—¶æ®µNameNodeå†…å­˜å…ƒæ•°æ®ä¿¡æ¯ã€‚ â‘¡edits:æ“ä½œæ—¥å¿—æ–‡ä»¶ã€‚ â‘¢fstime:ä¿å­˜æœ€è¿‘ä¸€æ¬¡checkpointçš„æ—¶é—´ ä»¥ä¸Šè¿™äº›æ–‡ä»¶æ˜¯ä¿å­˜åœ¨linuxçš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚ æŸ¥çœ‹ NameNodeä¸­ fsimage çš„å†…å®¹ æŸ¥çœ‹ fsimageé•œåƒæ–‡ä»¶å†…å®¹Usage: bin/hdfs oiv [OPTIONS] -i INPUTFILE -o OUTPUTFILE 1234567# ä½¿ç”¨ç¦»çº¿çš„æŸ¥çœ‹å™¨ è¾“å‡ºåˆ°ç½‘é¡µæŸ¥çœ‹oiv -i hadoopdata/namenode/current/fsimage_0000000000000000250 -o 0000000000000000250# å¦èµ·ä¸€ä¸ªçª—å£æŸ¥çœ‹hadoop fs -ls -R webhdfs://127.0.0.1:5978# å¯ä»¥çŸ¥é“æ•°æ®å­˜åœ¨é‚£ä¸ªå“ªä¸ª fsimage é•œåƒä¸­]]></content>
      <categories>
        <category>Hadoop</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[â–ã€Šå›ç­”ã€‹ -åŒ—å²›]]></title>
    <url>%2F2018%2F06%2F03%2FPoetry%2F%E5%9B%9E%E7%AD%94%2F</url>
    <content type="text"><![CDATA[å‘é„™æ˜¯å‘é„™è€…çš„é€šè¡Œè¯ï¼Œé«˜å°šæ˜¯é«˜å°šè€…çš„å¢“å¿—é“­ï¼Œçœ‹å§ï¼Œåœ¨é‚£é•€é‡‘çš„å¤©ç©ºä¸­ï¼Œé£˜æ»¡äº†æ­»è€…å¼¯æ›²çš„å€’å½±ã€‚ å†°å·çºªè¿‡å»äº†ï¼Œä¸ºä»€ä¹ˆåˆ°å¤„éƒ½æ˜¯å†°å‡Œï¼Ÿå¥½æœ›è§’å‘ç°äº†ï¼Œä¸ºä»€ä¹ˆæ­»æµ·é‡Œåƒå¸†ç›¸ç«ï¼Ÿ æˆ‘æ¥åˆ°è¿™ä¸ªä¸–ç•Œä¸Šï¼Œåªå¸¦ç€çº¸ã€ç»³ç´¢å’Œèº«å½±ï¼Œä¸ºäº†åœ¨å®¡åˆ¤ä¹‹å‰ï¼Œå®£è¯»é‚£äº›è¢«åˆ¤å†³çš„å£°éŸ³ã€‚ å‘Šè¯‰ä½ å§ï¼Œä¸–ç•Œæˆ‘â€“ä¸â€“ç›¸â€“ä¿¡ï¼çºµä½¿ä½ è„šä¸‹æœ‰ä¸€åƒåæŒ‘æˆ˜è€…ï¼Œé‚£å°±æŠŠæˆ‘ç®—ä½œç¬¬ä¸€åƒé›¶ä¸€åã€‚ æˆ‘ä¸ç›¸ä¿¡å¤©æ˜¯è“çš„ï¼Œæˆ‘ä¸ç›¸ä¿¡é›·çš„å›å£°ï¼Œæˆ‘ä¸ç›¸ä¿¡æ¢¦æ˜¯å‡çš„ï¼Œæˆ‘ä¸ç›¸ä¿¡æ­»æ— æŠ¥åº”ã€‚ å¦‚æœæµ·æ´‹æ³¨å®šè¦å†³å ¤ï¼Œå°±è®©æ‰€æœ‰çš„è‹¦æ°´éƒ½æ³¨å…¥æˆ‘å¿ƒä¸­ï¼Œå¦‚æœé™†åœ°æ³¨å®šè¦ä¸Šå‡ï¼Œå°±è®©äººç±»é‡æ–°é€‰æ‹©ç”Ÿå­˜çš„å³°é¡¶ã€‚ æ–°çš„è½¬æœºå’Œé—ªé—ªæ˜Ÿæ–—ï¼Œæ­£åœ¨ç¼€æ»¡æ²¡æœ‰é®æ‹¦çš„å¤©ç©ºã€‚é‚£æ˜¯äº”åƒå¹´çš„è±¡å½¢æ–‡å­—ï¼Œé‚£æ˜¯æœªæ¥äººä»¬å‡è§†çš„çœ¼ç›ã€‚ ä½œè€… / åŒ—å²›]]></content>
      <categories>
        <category>æ–‡è‰º</category>
        <category>è¯—æ­Œ</category>
      </categories>
      <tags>
        <tag>è¯—æ­Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hadoopå­¦ä¹ ç¬”è®°-2 HDFSåŸºç¡€å…¥é—¨]]></title>
    <url>%2F2018%2F06%2F02%2FHadoop%2FStudy%2FHadoop%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2-HDFS%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Hadoopçš„æ ¸å¿ƒç»„ä»¶ ä¹‹ HDFSHDFS1. HDFSæ˜¯ä»€ä¹ˆ: åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ 2. HDFS è®¾è®¡æ€æƒ³ åˆ†è€Œæ²»ä¹‹, åˆ‡åˆ†å­˜å‚¨, å½“ä¸€ä¸ªæ–‡ä»¶è¿‡å¤§çš„æ—¶å€™, ä¸€ä¸ªèŠ‚ç‚¹å­˜å‚¨ä¸äº†, é‡‡ç”¨åˆ‡åˆ†å­˜å‚¨ åˆ†å—å­˜å‚¨: æ¯ä¸€ä¸ªå—å«åš block å¦‚æœä¸€ä¸ª8Tçš„æ•°æ®, è¿™ä¸ªæ€ä¹ˆåˆ†åˆé€‚??? è®¾ç½®åˆ†å—çš„æ—¶å€™è¦è€ƒè™‘ä¸€ä¸ªäº‹æƒ… : è´Ÿè½½å‡è¡¡ å—çš„å¤§å°ä¸èƒ½å¤ªå¤§, å¤ªå¤§ä¼šé€ æˆè´Ÿè½½ä¸å‡è¡¡ hadoop2.x ä¸­é»˜è®¤çš„åˆ‡åˆ†çš„å—çš„å¤§å°æ˜¯: 128M, 1.xä¸­é»˜è®¤çš„æ˜¯64M å¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸è¶³128M, ä¹Ÿä¼šå•ç‹¬å­˜ä¸€ä¸ªå¿«, å¿«çš„å¤§å°å°±æ˜¯å­˜å‚¨æ•°æ®çš„å®é™…å¤§å° è¿™ä¸ªåˆ†å—å­˜å‚¨æ€æƒ³ä¸­, å¦‚æœä¸€ä¸ªå—çš„å­˜å‚¨èŠ‚ç‚¹å®•æœºäº†, è¿™ä¸ªæ—¶å€™, æ•°æ®çš„å®‰å…¨æ€§å¾—ä¸åˆ°ä¿è¯äº† HDFSä¸­é»˜è®¤å—çš„å­˜å‚¨é‡‡ç”¨å¤‡ä»½æœºåˆ¶ é»˜è®¤çš„å¤‡ä»½ä¸ªæ•°æ˜¯3ä¸ª(æ€»å…±å­˜çš„, å­˜åˆ°datanodeä¸Šçš„, namenodeä¸å­˜), ä¹‹å‰è‡ªå·±é…çš„æ˜¯2ä¸ª, æ‰€æœ‰å¤‡ä»½ç›¸åŒåœ°ä½æ˜¯ç›¸åŒçš„. ç›¸åŒçš„æ•°æ®å—çš„å¤‡ä»½ä¸€å®šå­˜å‚¨åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Š å¦‚æœèŠ‚ç‚¹æ€»å…±2ä¸ª, dfs.replication=3 å‰¯æœ¬ä¸ªæ•°æ˜¯3ä¸ª, å®é™…å­˜å‚¨2ä¸ª, å¦ä¸€ä¸ªè¿›è¡Œè®°è´¦, å½“é›†ç¾¤èŠ‚ç‚¹ä¸ªæ•°å¤§äº3ä¸ªæ—¶, ä¼šå¤åˆ¶è¿™ä¸ªå‰¯æœ¬, æœ€ç»ˆè¾¾åˆ°3ä¸ª å‡è®¾é›†ç¾¤ä¸­çš„èŠ‚ç‚¹4ä¸ª, å‰¯æœ¬3ä¸ª, æœ‰ä¸€ä¸ªå‰¯æœ¬çš„æœºå™¨å®•æœºäº†, è¿™ä¸ªæ—¶å€™å‘ç°å‰¯æœ¬çš„ä¸ªæ•° å°äº è®¾å®šçš„ä¸ªæ•°, å°±ä¼šè¿›è¡Œå¤åˆ¶, è¾¾åˆ°3ä¸ªå‰¯æœ¬, å¦‚æœ è¿™ä¸ªæ—¶å€™, åˆšæ‰å®•æœºçš„èŠ‚ç‚¹åˆæ¢å¤äº†, è¿™ä¸ªæ—¶å€™é›†ç¾¤å‰¯æœ¬ä¸ªæ•°ä¸º4äº†, é›†ç¾¤ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´, å¦‚æœå‘ç°è¿˜æ˜¯4ä¸ª, å°±ä¼šåˆ é™¤ä¸€ä¸ªå‰¯æœ¬, è¾¾åˆ°3ä¸ª(è®¾å®šå€¼) å¤‡ä»½è¶Šå¤šè¶Šå¥½å—? ç†è®ºä¸Šå‰¯æœ¬æ•°è¶Šå¤š, æ•°æ®å®‰å…¨æ€§è¶Šé«˜ ä½†æ˜¯å‰¯æœ¬æ•°è¶Šå¤š, ä¼šå ç”¨è¿‡å¤šçš„å­˜å‚¨èµ„æº, ä¼šé€ æˆé›†ç¾¤çš„ç»´æŠ¤å˜å¾—è¶Šå›°éš¾ 100 ä¸ªèŠ‚ç‚¹, 50ä¸ªå‰¯æœ¬, åœ¨è¿™50ä¸ªå‰¯æœ¬ä¸­, éšæ—¶éƒ½æœ‰å¯èƒ½å®•æœº, hdfså°±éœ€è¦ç»´æŠ¤å‰¯æœ¬ ä¸€èˆ¬æƒ…å†µä¸‹, 3ä¸ªå°±å¯ä»¥äº† hadoopæ˜¯åŸºäºå»‰ä»·çš„pcæœºè®¾è®¡çš„, ä¼šé€ æˆæœºå™¨éšæ—¶å¯èƒ½å®•æœº HDFSçš„ç›®å½•ç»“æ„ hdfsçš„ç›®å½•ç»“æ„ä¸linux æ“ä½œç³»ç»Ÿç±»ä¼¼, ä»¥ /ä¸ºè·ŸèŠ‚ç‚¹, æˆ‘ä»¬å°†è¿™ä¸ªç›®å½•ğŸŒ²ç§°ä¸ºæŠ½è±¡ç›®å½•æ ‘ å› ä¸ºhdfsçš„ç›®å½•ç»“æ„ä»£è¡¨çš„æ˜¯æ‰€æœ‰æ•°æ®èŠ‚ç‚¹çš„æŠ½è±¡å‡ºæ¥çš„ç›®å½•, ä¸ä»£è¡¨ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹ hdfs: /hadoop.zip 500M è¢«åˆ†æˆ4ä¸ªå—å­˜å‚¨ hdfsä¸­å­˜å‚¨çš„æ•°æ®å— æ˜¯æœ‰ç¼–å·çš„, blk_1, blk_2, blk_3, blk_4 /spark.zip 300M 3ä¸ªå—, blk_5 blk_6 blk_7 åº•å±‚å­˜å‚¨çš„æ—¶å€™, æ¯ä¸€ä¸ªblockéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„id hdfsçš„æ•°æ®åº•å±‚å­˜å‚¨çš„æ—¶å€™å—, è¿˜æ˜¯å­˜åœ¨çœŸæ­£çš„ç‰©ç†èŠ‚ç‚¹ä¸Š. 3. HDFS çš„æ•´ä½“ç»“æ„ä¸»ä»ç»“æ„: ä¸€ä¸ªä¸»èŠ‚ç‚¹, å¤šä¸ªä»èŠ‚ç‚¹ namenode: ç”¨äºå­˜å‚¨å…ƒæ•°æ®, åŒ…æ‹¬: æŠ½è±¡ç›®å½•æ ‘ å­˜å‚¨æ•°æ®å’Œblockçš„å¯¹åº”å…³ç³» blockå­˜å‚¨çš„ä½ç½® å¤„ç†å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ è¯»: ä¸‹è½½ å†™: ä¸Šä¼  datanode è´Ÿè´£çœŸæ­£çš„æ•°æ®å­˜å‚¨, å­˜å‚¨æ•°æ®çš„block çœŸæ­£å¤„ç†è¯»å†™ secondarynamenode: å†·å¤‡ä»½èŠ‚ç‚¹: åŠ©ç† å½“namenodeå®•æœºçš„æ—¶å€™, secondarynamenodeä¸èƒ½ä¸»åŠ¨åˆ‡æ¢ä¸º namenode, ä½†æ˜¯ secondarynamenodeä¸­å­˜å‚¨çš„æ•°æ®ä¸namenodeç›¸åŒ. ä¸»è¦ä½œç”¨: namenodeå®•æœºçš„æ—¶å€™, å¸®åŠ©namenodeæ¢å¤ å¸®åŠ©namenodeåšä¸€äº›äº‹æƒ…, åˆ†æ‹…namenodeçš„å‹åŠ› 4. HDFSä¼˜ç¼ºç‚¹: ä¼˜ç‚¹: å¯æ„å»ºåœ¨å»‰ä»·æœºå™¨ä¸Š, æˆæœ¬ä½, é€šè¿‡å¤šå‰¯æœ¬æé«˜å¯é æ€§, æä¾›äº†å®¹é”™å’Œæ¢å¤æœºåˆ¶ é«˜å®¹é”™æ€§ å®¹é”™æ€§: æ•°æ®è®¿é—®ä¸Š, ä¸€ä¸ªèŠ‚ç‚¹æ•°æ®ä¸¢å¤±, ä¸å½±å“æ•´ä½“çš„æ•°æ®è®¿é—® æ•°æ®è‡ªåŠ¨ä¿å­˜å¤šä¸ªå‰¯æœ¬, å‰¯æœ¬ä¸¢å¤±å, è‡ªåŠ¨æ¢å¤, æœ€ç»ˆæ¢å¤åˆ°ç”¨æˆ·é…ç½®çš„å‰¯æœ¬ä¸ªæ•° é€‚åˆæ‰¹å¤„ç†, é€‚åˆç¦»çº¿æ•°æ®å¤„ç† ç§»åŠ¨è®¡ç®—è€Œéæ•°æ®, æ•°æ®ä½ç½®æš´éœ²ç»™è®¡ç®—æ¡†æ¶ é€‚åˆå¤§æ•°æ®å¤„ç† GB, TB ç”šè‡³ PB çº§æ•°æ®, ç™¾ä¸‡è§„æ¨¡ä»¥ä¸Šçš„æ–‡ä»¶æ•°é‡, 10k+ èŠ‚ç‚¹è§„æ¨¡ æµå¼æ–‡ä»¶è®¿é—®, ä¸æ”¯æŒæ•°æ®ä¿®æ”¹, hdfsç”¨äºæ•°æ®å­˜å‚¨ ä¸€æ¬¡æ€§å†™å…¥, å¤šæ¬¡è¯»å–, ä¿è¯æ•°æ®ä¸€è‡´æ€§ ç¼ºç‚¹: ä¸æ”¯æŒä½å»¶è¿Ÿçš„æ•°æ®è®¿é—®, ä¸æ”¯æŒ å®æ—¶/è¿‘å®æ—¶ æ•°æ®è®¿é—®, å› ä¸ºæ¶‰åŠåˆ°å¤šè½®RPCè°ƒç”¨ å‘ NameNode å¯»å€.. æ‹¿åˆ°åœ°å€åï¼Œ å‘ DataNode è¯·æ±‚æ•°æ®.. ä¸æ“…é•¿å­˜å‚¨å¤§é‡çš„å°æ–‡ä»¶â€“kbçº§åˆ«çš„ å¯»å€æ—¶é—´å¯èƒ½å¤§äºè¯»å–æ•°æ®çš„æ—¶é—´, ä¸åˆ’ç®— è¿›è¡Œæ•°æ®è®¿é—®çš„æ—¶å€™å…ˆæ‰¾å…ƒæ•°æ® å…ƒæ•°æ®æ˜¯å’Œblockå¯¹åº”çš„, 1ä¸ªblockå—å¯¹åº”ä¸€æ¡å…ƒæ•°æ® 1000wä¸ª1kbçš„æ–‡ä»¶, å­˜äº†1000wä¸ªå— â€” 1000wå…ƒæ•°æ® åœ¨è¿›è¡Œæ•°æ®è®¿é—®çš„æ—¶å€™å¯èƒ½èŠ±äº† 1s çš„æ—¶é—´, æ€»ä½“ä¸Šä¸åˆ’ç®— è¿™æ ·ä¼šé€ æˆå…ƒæ•°æ®å­˜å‚¨é‡è¿‡å¤§, å¢åŠ namenodeçš„å‹åŠ› åœ¨hdfsä¸­ä¸€èˆ¬æƒ…å†µä¸‹, ä¸€æ¡å…ƒæ•°æ®å¤§å° 150byte å·¦å³ 1000wæ¡å…ƒæ•°æ® â€” 1000w * 150, 1.5Gå·¦å³ ä¸æ”¯æŒæ–‡ä»¶å†…å®¹ä¿®æ”¹, ä»…ä»…æ”¯æŒæ–‡ä»¶æœ«å°¾è¿½åŠ  appendï¼Œ ä¸€ä¸ªæ–‡ä»¶åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªå†™è€…ï¼Œä¸æ”¯æŒå¹¶å‘æ“ä½œ ==5. HDFS çš„ å¸¸ç”¨å‘½ä»¤:==HDFSå½’æ ¹ç»“åº•å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ, ç±»ä¼¼äº linux, éœ€è¦ç”¨å‘½ä»¤æ¥æ“ä½œ 1. hapdoop fs å‘½ä»¤ hadoop fs / hdfs dfs æ•ˆæœæ˜¯ä¸€æ ·çš„ åœ¨hadoopä¸­æŸ¥çœ‹, åªæœ‰ç»å¯¹è·¯å¾„çš„è®¿é—®æ–¹å¼ æŸ¥çœ‹å¸®åŠ© hadoop fs -help æŸ¥çœ‹æ‰€æœ‰ hadoop fsçš„å¸®åŠ© hadoop fs -help ls æŸ¥çœ‹ fsä¸‹çš„ lsçš„å¸®åŠ© åˆ—å‡ºæ ¹ç›®å½•: hadoop fs -ls / hadoop fs -ls -R / é€’å½’å±•ç¤º hadoop fs -ls -R -h /å‹å¥½å±•ç¤ºï¼Œ å±•ç¤ºæ–‡ä»¶å¤§å°å•ä½ å¦‚æœä¸æŒ‡å®šç›®å½•ï¼Œ ä¼šé»˜è®¤æ‰¾å½“å‰ç”¨æˆ·xxå¯¹åº”çš„/user/xxçš„ç›®å½• é€’å½’åˆ›å»º -mkdir -p: hadoop fs -mkdir -p /aa/bb/cc/dd ä¸åŠ  -p ä¸ºæ™®é€šåˆ›å»º åˆ›å»ºç©ºæ–‡ä»¶-touchz ç±»ä¼¼äº Linux ä¸‹çš„ touch ä¸Šä¼  put: [-put [-f][-p] [-l] &lt;localsrc&gt; ... &lt;dst&gt;] ä¸Šä¼ ä¸€ä¸ª: hadoop fs -put hadoop-2.7.6.tar.gz /ss ä¸Šä¼ å¤šä¸ª: hadoop fs -put aa.txt bb.txt /ss ä¸‹è½½ get hadoop fs -get hdfsè·¯å¾„ æœ¬åœ°è·¯å¾„ åˆå¹¶ä¸‹è½½ hadoop fs -getmerge /ss/aa.txt /ss/bb.txt /home/ap/cc.txt ä¼šå°†æœ€åä¸€ä¸ªè·¯å¾„ä¹‹å‰8çš„å½“åšéœ€è¦åˆå¹¶çš„æ–‡ä»¶, æœ€åä¸€ä¸ªè·¯å¾„ä¸­æŒ‡å®šçš„æ–‡ä»¶å°±æ˜¯åˆå¹¶ç”Ÿæˆçš„æ–‡ä»¶ æŸ¥çœ‹æ–‡ä»¶å†…å®¹ cat -cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹ -textä¹Ÿæ˜¯ç±»ä¼¼ åˆ é™¤æ–‡ä»¶ rm rm -rf (é”™è¯¯çš„) rm -r(é€’å½’) -f(å¼ºåˆ¶) æ–‡ä»¶hadoop fs -rm -f /ss/aa.txt æ–‡ä»¶å¤¹ hadoop fs -rm -f -r /aa mv ä¿®æ”¹åå­—, ç§»åŠ¨ ç§»åŠ¨çš„æ–‡ä»¶ä» hdfs åˆ° hdfs hadoop fs -mv .. .. cp å¤åˆ¶ hadoop fs -cp /hdfsfile /hdfsfile: ä» hdfs å¤åˆ¶åˆ° hdfs å‚æ•° -p ï¼š å¤åˆ¶åä¿æŒæ–‡ä»¶çš„åŸæœ¬å±æ€§, æ—¶é—´æˆ³ï¼Œ æƒé™ç­‰ Passing -p preserves status [topax] (timestamps, ownership, permission, ACLs, XAttr). å‚æ•° -f : å·²æœ‰åŒåæ–‡ä»¶çš„è¯ï¼Œ ç›´æ¥è¦†ç›– åœ¨æœ«å°¾è¿½åŠ : -appendToFile æœ¬åœ°æ–‡ä»¶ hdfsæ–‡ä»¶` å°†æœ¬åœ°æ–‡ä»¶bb.txt è¿½åŠ åˆ° htfdçš„ /aa/aa.txt ä¸Š hadoop fs -appendToFile aa.txt /ss/bb.txt ä»å‘½ä»¤è¡Œè¿½åŠ  , ä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆç»“æŸï¼Œ å…ˆå­˜ç–‘ï¼Ÿï¼Ÿ hadoop fs -appendToFile - /a.txt` è¿™ä¸ªè¿½åŠ æ˜¯åœ¨åŸå§‹å—çš„æœ«å°¾è¿½åŠ çš„. ä¼šæ”¹å˜é›†ç¾¤ä¸Šçš„æ–‡ä»¶ å¦‚æœè¶…è¿‡128Mæ‰ä¼šè¿›è¡Œåˆ‡åˆ†, ä½†è¿™ä¸ªå‘½ä»¤ä¸€èˆ¬ä¸ä¼šä½¿ç”¨ æŸ¥çœ‹æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹æ•°é‡ count DIR_COUNT FILE_COUNT CONTENT_SIZE FILE_NAME 8 3 176.5 K /tmp hadoop fs -count -h /tmp: -h æ˜¯å‹å¥½å±•ç¤º hdfs dfs -count -h /tmp: ä¸ä¸Šé¢æ•ˆæœä¸€æ · hdfs dfs -count -q -h /tmp: æŸ¥çœ‹æ–‡ä»¶é…é¢ï¼Œ å…·ä½“çœ‹ help duï¼š å±•ç¤ºæ–‡ä»¶å¤§å°ï¼Œ å¦‚æœå‚æ•°æ˜¯æ–‡ä»¶å¤¹ï¼Œ åˆ™å±•ç¤ºæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„å¤§å° hadoop fs -du -h /tmp hadoop fs -du -s -h /tmp: s åº”è¯¥æ˜¯ sum çš„æ„æ€ï¼Œ å±•ç¤ºæ‰€æœ‰æ–‡ä»¶å¤§å°çš„æ€»å’Œ å±•ç¤ºæ–‡ä»¶æœ€å1kbå†…å®¹-tail Show the last 1KB of the file. hadoop fs -tail /dd.txt` -f Shows appended data as the file grows. åº”ç”¨åœºæ™¯ï¼š ç›‘æ§æ—¥å¿— ä¿®æ”¹æ–‡ä»¶æƒé™ chmod 12345678910111213141516# 1. ç›´æ¥ä½¿ç”¨åè¿›åˆ¶æ•°å­—ä¿®æ”¹ [ap@cs2]~/test% hadoop fs -ls /drwxr-xr-x - ap supergroup 0 2018-06-01 08:55 /aa# -Rï¼š /aa ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶é€’å½’ä¿®æ”¹æƒé™[ap@cs2]~/test% hadoop fs -chmod -R 777 /aa[ap@cs2]~/test% hadoop fs -ls /drwxrwxrwx - ap supergroup 0 2018-06-01 08:55 /aa# 2. é’ˆå¯¹ç”¨æˆ·ç»„ä¿®æ”¹ï¼Œæ³¨æ„ï¼Œä¿®æ”¹2ä¸ªä¸åŒç»„æƒé™ï¼Œ ç”¨ï¼Œéš”å¼€hadoop fs -chmod u+x,g+x /a.txt # 3. æœ€å¸¸ç”¨çš„æ–‡ä»¶æƒé™ï¼Œ æ˜¯ 644(-rw-r--r--) å’Œ 755(-rwxr-xr-x) æ–‡ä»¶åˆ›å»ºé»˜è®¤å°±æ˜¯644# 4. u+x ä¸ +x çš„åŒºåˆ« å‰è€…æŒ‡å®šåŠ åœ¨å“ªç»„ç”¨æˆ·ä¸Šï¼Œ åè€…æ˜¯æ‰€æœ‰ç»„éƒ½åŠ  ä¿®æ”¹ç”¨æˆ·æƒé™ chown 1hadoop fs -chown -R ç”¨æˆ·å:ç»„å hdfsç›®å½•/æ–‡ä»¶ 2. hdfs dfsadminå‘½ä»¤ ç®¡ç†å‘˜å¯¹å½“å‰èŠ‚ç‚¹çš„ä¸€äº›æ“ä½œ hdfs dfsadmin -report æŠ¥å‘Šå½“å‰çš„ä¸€äº›çŠ¶æ€ -live æ´»è·ƒçš„ -dead æ­»çš„ -decommissioning é€€å½¹çš„ **hdfs dfsadmin -safemode å®‰å…¨æ¨¡å¼ ç³»ç»Ÿåˆšå¯åŠ¨çš„æ—¶å€™ï¼Œ ä¼šæœ‰30ç§’çš„å®‰å…¨æ¨¡å¼å¼€å¯çŠ¶æ€ï¼Œ è¿‡äº†30ç§’å°±å…³äº† enter è¿›å…¥ leave ç¦»å¼€ get æŸ¥çœ‹ hdfs dfsadmin è®¾ç½®é…é¢ -setQuota ï¼š é…é¢æ˜¯é™å®šçš„æ–‡ä»¶&amp;æ–‡ä»¶å¤¹çš„æ•°é‡ A quota of 1 would force the directory to remain empty. ç©ºæ–‡ä»¶æœ¬èº«ç®—ä¸€ä¸ªæ–‡ä»¶ bin/hdfs dfsadmin -setQuota 10 lisi -clrQuota -setSpaceQuotaï¼š ç©ºé—´é…é¢é™å®šçš„æ˜¯å¤§å° bin/hdfs dfsadmin -setSpaceQuota 4k /lisi/ -clrSpaceQuota hdfs dfs -count -q -h /user: åŠ ä¸Š -q æ˜¯æŸ¥çœ‹é…é¢ 3. httpFSè®¿é—®ä½¿ç”¨ REST çš„å½¢å¼ï¼Œ å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šç›´æ¥è®¿é—®é›†ç¾¤ï¼Œ å¯ä»¥åœ¨é Linux å¹³å°è®¿é—® 123456789101112131415161718192021# ç¼–è¾‘æ–‡ä»¶httpfs-env.sh# æ‰“å¼€æ­¤å¥æ³¨é‡Š, ä½¿ç”¨å†…åµŒçš„ tomcatexport HTTPFS_HTTP_PORT=14000# ç¼–è¾‘æ–‡ä»¶core-site.xml&lt;property&gt; &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt; &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt; &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;ç¼–è¾‘æ–‡ä»¶hdfs-site.xml&lt;property&gt; &lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt; &lt;value&gt;true&lt;/value&gt;&lt;/property&gt;é‡æ–°å¯åŠ¨namenodeï¼Œæ‰§è¡Œ sbin/httpfs.sh start# æ‰§è¡Œå‘½ä»¤curl -i "http://cs1:14000/webhdfs/v1?user.name=root&amp;op=LISTSTATUS" æ›´å¤šå‘½ä»¤å‚è€ƒ ç›¸å…³çŸ¥è¯†ç‚¹ è¿™äº›å‘½ä»¤åœ¨é›†ç¾¤ä¸­çš„ä»»ä½•èŠ‚ç‚¹éƒ½å¯ä»¥åš, hdfsæ–‡ä»¶ç³»ç»Ÿä¸­, çœ‹åˆ°çš„ç›®å½•ç»“æ„åªæ˜¯ä¸€ä¸ªæŠ½è±¡ç›®å½•, å®é™…å­˜å‚¨åœ¨é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¸Š aa.txt , å¤§å°150M, hadoop fs -put aa.txt / ä¼šåœ¨æ ¹ç›®å½•ä¸‹çœ‹åˆ° /aa.txt, ä½†æ˜¯ aa.txt çœŸå®å­˜å‚¨çš„æ—¶å€™, ä¼šå…ˆè¿›è¡Œåˆ†å—, åˆ†2å—, è¿›è¡Œå­˜å‚¨, å‡è®¾é›†ç¾¤ä¸­5ä¸ªå­˜å‚¨èŠ‚ç‚¹, è¿™2ä¸ªå—å­˜å‚¨åœ¨å“ªä¸ªèŠ‚ç‚¹, ç”±namenodeè¿›è¡Œåˆ†é… å›¾å½¢ç•Œé¢ç‚¹è¿›å», å¯ä»¥çœ‹åˆ°å­˜å‚¨çš„å— Linuxçš„æƒé™ç®¡ç†å‘½ä»¤: ä¿®æ”¹ æ–‡ä»¶/æ–‡ä»¶å¤¹ æƒé™çš„ chmod: å¯è¯»: r , =4 å¯å†™: w, =2 å¯æ‰§è¡Œ: x, =1 æœ€å¤§æƒé™æ˜¯7 -rw-rw-râ€“ æ–‡ä»¶å±æ€§ d:ç›®å½• -:æ–‡ä»¶ l:é“¾æ¥ ç¬¬ä¸€ç»„: æœ¬ç”¨æˆ·, ç¬¬äºŒç»„: æœ¬ç»„ç”¨æˆ·, ç¬¬ä¸‰ç»„: å…¶å®ƒç”¨æˆ· chmod 711 æ”¹ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶æƒé™ä¸º711 chmod -R 711 ç›®å½• ä¿®æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ·å’Œç»„ chown chown -R root:root ss/æŠŠssçš„æ–‡ä»¶å¤¹å…¨éƒ¨æ”¹æˆrootç”¨æˆ·å’Œrootç»„ â€‹ 6. é€šè¿‡ Java APIçš„æ–¹å¼æ“ä½œ HDFSã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>Hadoop</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HashMapçš„å®ç°åŸç†]]></title>
    <url>%2F2018%2F06%2F02%2FJava%2FHashMap%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[1.ä»€ä¹ˆæ˜¯HashMap Hash: æ•£åˆ—å°†ä¸€ä¸ªä»»æ„çš„é•¿åº¦é€šè¿‡æŸç§(hashå‡½æ•°)ç®—æ³•è½¬æ¢æˆä¸€ä¸ªå›ºå®šå€¼ Map: åœ°å›¾, (x,y)å­˜å‚¨ åº•å±‚å°±æ˜¯ä¸€ä¸ªæ•°ç»„ç»“æ„, æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹åˆæ˜¯ä¸€ä¸ªé“¾è¡¨, å½“æ–°å»ºä¸€ä¸ªHashMapçš„æ—¶å€™, å°±ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ æ€»ç»“: é€šè¿‡ hash å‡ºæ¥å€¼, ç„¶åé€šè¿‡å€¼å®šä½åˆ°æŸä¸ª map, ç„¶åvalue å­˜å‚¨åˆ°è¿™ä¸ª mapä¸­, valueåªä¸è¿‡æ˜¯ key çš„é™„å±. 2.æºç åˆ†æå…ˆç»™å‡ºç»“è®ºæ•°æ®ç»“æ„: åº•å±‚æ˜¯æ•°ç»„ Entry å°±æ˜¯æ•°ç»„ä¸­çš„å…ƒç´  æ¯ä¸ªMap.Entryå…¶å®å°±æ˜¯ä¸€ä¸ªkey-valueå¯¹, å®ƒæŒæœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨Entry&lt;K,V&gt; next;, è¿™å°±æ„æˆäº†é“¾è¡¨ å­˜å–å®ç°: å­˜å‚¨put : è¿‡ç¨‹ å…ˆæ ¹æ® key çš„ hashCode é‡æ–°è®¡ç®— hash å€¼, æ ¹æ® hash å€¼å¾—åˆ°è¿™ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®(ä¸‹æ ‡) å¦‚æœæ•°ç»„è¯¥ä½ç½®ä¸Šå·²ç»å­˜æ”¾æœ‰å…¶ä»–å…ƒç´ äº†, é‚£ä¹ˆåœ¨è¿™ä¸ªä½ç½®ä¸Šçš„å…ƒç´ å°†ä»¥é“¾è¡¨çš„å½¢å¼å­˜æ”¾, æ–°åŠ å…¥çš„æ”¾åœ¨é“¾å¤´, æœ€å…ˆåŠ å…¥çš„æ”¾åœ¨é“¾å°¾. å¦‚æœæ•°ç»„è¯¥ä½ç½®ä¸Šæ²¡æœ‰å…ƒç´ , å°±ç›´æ¥å°†è¯¥å…ƒç´ æ”¾åˆ°æ•°ç»„ä¸­çš„è¯¥ä½ç½®ä¸Š. æ³¨æ„ç‚¹ å½“ç³»ç»Ÿå†³å®šå­˜å‚¨ HashMap ä¸­çš„ key-value å¯¹æ—¶ï¼Œå®Œå…¨æ²¡æœ‰è€ƒè™‘ Entry ä¸­çš„ valueï¼Œä»…ä»…åªæ˜¯æ ¹æ® keyæ¥è®¡ç®—å¹¶å†³å®šæ¯ä¸ªEntryçš„å­˜å‚¨ä½ç½®ã€‚å½“ç³»ç»Ÿå†³å®šäº† keyçš„å­˜å‚¨ä½ç½®ä¹‹åï¼Œvalueéšä¹‹ä¿å­˜åœ¨é‚£é‡Œå³å¯ã€‚ å¯¹äºäºä»»æ„ç»™å®šçš„å¯¹è±¡ï¼Œåªè¦å®ƒçš„ hashCode()è¿”å›å€¼ç›¸åŒï¼Œé‚£ä¹ˆç¨‹åºè°ƒç”¨ hash(int h)æ–¹æ³•æ‰€è®¡ç®—å¾—åˆ°çš„hash ç å€¼æ€»æ˜¯ç›¸åŒçš„ã€‚ æœ¬è´¨ä¸Šå°±æ˜¯æŠŠ hash å€¼å¯¹æ•°ç»„é•¿åº¦å–æ¨¡è¿ç®—ï¼Œ è¿™æ ·ä¸€æ¥ï¼Œå…ƒç´ çš„åˆ†å¸ƒç›¸å¯¹æ¥è¯´æ˜¯æ¯”è¾ƒå‡åŒ€çš„ ä½†æ˜¯ç³»ç»Ÿæ˜¯ç”¨çš„ä½è¿ç®—ï¼Œ æ–¹æ³•æ›´å·§å¦™ï¼Œ æ¶ˆè€—æ›´å° è¯»å–get è¿‡ç¨‹ é¦–å…ˆè®¡ç®— key çš„ hashCodeï¼Œæ‰¾åˆ°æ•°ç»„ä¸­å¯¹åº”ä½ç½®çš„æŸä¸€å…ƒç´ ï¼Œç„¶åé€šè¿‡key çš„ equals æ–¹æ³•åœ¨å¯¹åº”ä½ç½®çš„é“¾è¡¨ä¸­æ‰¾åˆ°éœ€è¦çš„å…ƒç´ ã€‚ å­˜å‚¨å®ç°æ€»ç»“: HashMap åœ¨åº•å±‚å°† key-value å½“æˆä¸€ä¸ªæ•´ä½“è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸ªæ•´ä½“å°±æ˜¯ä¸€ä¸ª Entry å¯¹è±¡ã€‚ HashMap åº•å±‚é‡‡ç”¨ä¸€ä¸ª Entry[] æ•°ç»„æ¥ä¿å­˜æ‰€æœ‰çš„ key- value å¯¹ï¼Œå½“éœ€è¦å­˜å‚¨ä¸€ä¸ª Entry å¯¹è±¡æ—¶ï¼Œä¼šæ ¹æ® hash ç®—æ³•æ¥å†³å®šå…¶åœ¨æ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œåœ¨æ ¹æ® equals æ–¹æ³•å†³å®šå…¶åœ¨è¯¥æ•°ç»„ä½ç½®ä¸Šçš„é“¾è¡¨ä¸­çš„å­˜å‚¨ä½ç½®ï¼› å½“éœ€è¦å–å‡ºä¸€ä¸ª Entry æ—¶ï¼Œä¹Ÿä¼šæ ¹æ® hash ç®—æ³•æ‰¾åˆ°å…¶åœ¨æ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œå†æ ¹æ® equals æ–¹æ³•ä»è¯¥ä½ç½®ä¸Šçš„é“¾è¡¨ä¸­å–å‡ºè¯¥ Entryã€‚ 3. HashMap çš„æ€§èƒ½å‚æ•°123456789101112131415161718192021222324252627282930313233343536/** * æ¡¶è¡¨é»˜è®¤å®¹é‡ 16, å¿…é¡»æ˜¯ 2 çš„å€æ•°ï¼Œ ä¾¿äºåé¢çš„ ä½è¿ç®— * æ§åˆ¶hashcode ä¸è¶…16èŒƒå›´, a.hashcode = xx % 16 (hashcode å–æ¨¡ æ¡¶ä¸ªæ•°) */static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16/** * MUST be a power of two &lt;= 1&lt;&lt;30. * æ¡¶è¡¨æœ€å¤§ 2^30 */static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;/** * æ‰©å®¹å› å­ï¼ˆè´Ÿè½½å› å­ï¼‰: 0.75 * æ‰©å®¹: æ¯æ¬¡2å€ */static final float DEFAULT_LOAD_FACTOR = 0.75f;/** * é“¾è¡¨: hashç®—æ³•å€¼ç›¸åŒçš„æ—¶å€™, ä¼šæŠŠå€¼ç›¸åŒçš„æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨ä¸Š, é“¾è¡¨ä¸Šçš„å…ƒç´ ä¸ªæ•° * è¶…è¿‡8ä¸ªæ—¶, é“¾è¡¨è½¬åŒ–ä¸ºäºŒå‰æ ‘, æå‡æŸ¥è¯¢æ•ˆç‡ */static final int TREEIFY_THRESHOLD = 8;/** * å°äº6ä¸ªï¼Œ åˆå˜å›é“¾è¡¨ */static final int UNTREEIFY_THRESHOLD = 6;/** * The smallest table capacity for which bins may be treeified. * (Otherwise the table is resized if too many nodes in a bin.) * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts * between resizing and treeification thresholds. */static final int MIN_TREEIFY_CAPACITY = 64;]]></content>
      <categories>
        <category>Java</category>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[â–ã€Šæ— é¢˜ã€‹ -éšå±…çš„äº‹]]></title>
    <url>%2F2018%2F06%2F02%2FPoetry%2F%E6%97%A0%E9%A2%98%2F</url>
    <content type="text"><![CDATA[åœ¨æ·®æµ·ä¸­è·¯çœ‹æ²¹ç”»ï¼Œè¦æŠŠå¤©ç©ºè°ƒå¼± è®©æ²¹èœèŠ±æš—ä¸‹å»ï¼Œçœ‹çœ‰å¼æ¸…ç§€ä¹‹äººç¦»å¼€èº«ä½“ ç©¿è¿‡è¡—å··ä¸­æ¶‚æŠ¹è¿‡çš„äººç¾¤ï¼Œæ‚„æ‚„æŠ•äº†æ°´ã€‚ åœ¨æ·®æµ·ä¸­è·¯1411å·ï¼Œæ˜¥å…‰é®è”½äº†æš—ç–¾ é¸Ÿé¸£å¸¦æ¥é€¼ä»„å’Œé£è¡Œæ„Ÿï¼Œä¸€ä¸ªäººçš„èº«ä½“åƒéº»ç»³ è£¸éœ²åœ¨æ–°é²œç©ºæ°”ä¸­ï¼Œéª¨å¤´å¼€è£‚å‡ºèŠ±æœµã€‚ çœ¼åº•çš„äº‘åˆç™½åˆé»‘ï¼Œè†ç›–çš„é’è‰²æ„ˆçˆ±æ„ˆæ·± ç©¿è¿‡æ­»åæ½­æ°´çš„å¯‚é™ï¼ŒèƒŒéƒ¨é•¿å‡ºçš„é±¼é³ ä¸€å¹´æ¯”ä¸€å¹´è–„ï¼Œæœˆäº®ä¸€æ—¥æ¯”ä¸€æ—¥æ—§ã€‚ ä¸æ˜¥é£äº¤æ¢èº«ä½“ï¼Œä¸ç´ ä¸ç›¸è¯†ä¹‹äººæŠ±å¤´ç—›å“­ ä¸æˆ‘ï¼Œè®¸ä¸‹å†æ­»ä¸€æ¬¡çš„è¯ºè¨€ï¼Œè¿™ä¹ˆå¤šå¹´äº† å¥¹è¯´ï¼Œæˆ‘çˆ±ä½ ä¾æ—§ï¼Œèƒœè¿‡ç”»ä¸­äººã€‚ ä½œè€… / éšå±…çš„äº‹]]></content>
      <categories>
        <category>æ–‡è‰º</category>
        <category>è¯—æ­Œ</category>
      </categories>
      <tags>
        <tag>è¯—æ­Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hadoopç›¸å…³ä¹¦ç±]]></title>
    <url>%2F2018%2F06%2F02%2FHadoop%2FOverview%2FHadoop%E7%9B%B8%E5%85%B3%E4%B9%A6%E7%B1%8D%2F</url>
    <content type="text"><![CDATA[Hadoopæ¡†æ¶ä½“ç³»ç›¸å…³ä¹¦ç±æ¨è1. [Hadoopæƒå¨æŒ‡å—] ç¬¬å››ç‰ˆ é¡¾åæ€ä¹‰, å¾ˆæƒå¨ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ 2. [HBaseæƒå¨æŒ‡å—] ç¥ä½ ğŸ´åˆ°æˆåŠŸ ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ğŸ´ 3. [Hiveç¼–ç¨‹æŒ‡å—] å°èœœèœ‚, å—¡å—¡å—¡. ğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸ ğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸ 4. [zookeeperåˆ†å¸ƒå¼è¿‡ç¨‹ååŒæŠ€æœ¯è¯¦è§£] è¿™æ˜¯ä¸ªå•¥åŠ¨ç‰©?? ğŸ±?? ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ± ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ±ğŸ± ä»¥ä¸Šä¹¦ç±ä¸‹è½½åœ°å€æœ‰æ•ˆæœŸè‡³ 2018å¹´06æœˆ08æ—¥ç™¾åº¦ç½‘ç›˜ä¸‹è½½ å¯†ç : tm0c]]></content>
      <categories>
        <category>Hadoop</category>
        <category>å­¦ä¹ èµ„æº</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Hadoop</tag>
        <tag>ä¹¦ç±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hadoopå­¦ä¹ ç¬”è®°-1 ç®€ä»‹&å®‰è£…]]></title>
    <url>%2F2018%2F05%2F31%2FHadoop%2FStudy%2FHadoop%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1-%E7%AE%80%E4%BB%8B%26%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[å¼•å…¥é¢è¯•é¢˜1. æœ‰ä¸€ä¸ªå¾ˆå¤§çš„(4T)çš„æ–‡ä»¶, æ–‡ä»¶ä¸­å­˜å‚¨çš„æ˜¯ip, æ¯è¡Œå­˜å‚¨ä¸€ä¸ª, è¦æ±‚æ±‚å‡ºå‡ºç°æ­¤å¤„æœ€å¤šçš„é‚£ä¸ªip1234567891011121314151617181920212223242526272829303132333435å¦‚æœè¿™ä¸ªæ–‡ä»¶æ˜¯å°æ–‡ä»¶ï¼š ioæµ+é›†åˆ å®ç°æ€è·¯ï¼š åˆ›å»ºä¸€ä¸ªæµè¿›è¡Œæ–‡ä»¶è¯»å– è¯»å–å‡ºæ¥çš„æ•°æ®å­˜å‚¨åˆ°mapé›†åˆä¸­ keyï¼šip value:æ¬¡æ•° ç»Ÿè®¡é€»è¾‘ï¼š åˆ¤æ–­è¯»å–çš„ipæ˜¯å¦å·²ç»å­˜åœ¨åœ¨mapä¸­ å­˜åœ¨ï¼šå–å‡ºvalue+1 ä¸å­˜åœ¨ï¼šå°†ipä½œä¸ºkey 1ä½œä¸ºvalue æ€ä¹ˆæ±‚ipå‡ºç°æ¬¡æ•°æœ€å¤šçš„ éå†map éå†keyï¼Œå–å‡ºvalueæ‰¾å‡ºæœ€å¤§å€¼ valueæœ€å¤§çš„keyå°±æ˜¯è¦æ‰¾çš„ipæˆ‘çš„æ–‡ä»¶è¶³å¤Ÿå¤§ï¼šå¤§åˆ°ä¸€å°æœºå™¨è£…ä¸ä¸‹ æ•°ç»„ é›†åˆ å˜é‡------&gt;åŸºäºå†…å­˜çš„ æ€ä¹ˆåŠï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ æœåŠ¡å™¨çš„2T 1.åœ¨æœ€æ—©çš„æ—¶å€™æˆ‘ä»¬çš„æ€ç»´æ¨¡å¼å°±æ˜¯çºµå‘æ‰©å±•ï¼Œå¢åŠ å•ä¸ªèŠ‚ç‚¹çš„æ€§èƒ½ 8T æ‘©å°”å®šå¾‹ï¼šç¡¬ä»¶æ€§èƒ½18-24ä¸ªæœˆä¼šæå‡ä¸€å€ 4T------2h 4T------1h å‰ææ˜¯æ•°æ®é‡ä¸å‘ç”Ÿæ”¹å˜ ä½†æ˜¯å¾€å¾€æ•°æ®é‡çš„å˜åŒ–é€Ÿåº¦è¿œè¿œå¤§äºæœåŠ¡å™¨æ€§èƒ½çš„æå‡é€Ÿåº¦ ç»è¿‡18ä¸ªæœˆ æœåŠ¡å™¨æ€§èƒ½æå‡äº†ä¸€å€ æ•°æ®é‡------æå‡äº†10å€ 4T------2h 40t-----20h ç›®å‰åªéœ€è¦10h çºµå‘æ‰©å±•ä¸å¯è¡Œï¼Ÿ æ¨ªå‘æ‰©å±•ï¼šå¦‚æœä¸€å°æœºå™¨å¤„ç†ä¸äº†æ•°æ® ä½¿ç”¨å¤šå°æœºå™¨ 4T------2h 4t----4ä¸ªæœºå™¨----0.5å°æ—¶ åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼š ä¸€ä¸ªæœºå™¨è®¡ç®—æ€§èƒ½æœ‰é™ è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨å¤šå°æœºå™¨å…±åŒè®¡ç®— æ¯å°æœºå™¨æ‰¿æ‹…ä¸€éƒ¨åˆ†è®¡ç®—é‡ æœ€ç»ˆå®ç°ï¼š 1.å…ˆå°†è¿™ä¸ªè¶³å¤Ÿå¤§çš„æ–‡ä»¶è¿›è¡Œåˆ‡åˆ† åˆ‡åˆ†æˆäº†å¤šä¸ªå°æ–‡ä»¶ 2.å°†å¤šä¸ªå°æ–‡ä»¶åˆ†å‘ç»™å¤šä¸ªæœºå™¨è¿›è¡Œç»Ÿè®¡æ¯ä¸ªipå‡ºç°çš„æ¬¡æ•° æ¯ä¸ªæ±‚å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„ip 3.åˆå¹¶æ±‚å‡ºæœ€ç»ˆçš„æœ€å¤§å€¼ 2. æœ‰ä¸¤ä¸ªå¾ˆå¤§çš„æ–‡ä»¶, ä¸¤ä¸ªæ–‡ä»¶ä¸­å­˜å‚¨çš„éƒ½æ˜¯url, æ±‚å‡ºä¸¤ä¸ªæ–‡ä»¶ä¸­ç›¸åŒçš„url12345678910111213141516171819202122å¦‚æœæ–‡ä»¶æ˜¯å°æ–‡ä»¶ï¼š ioæµ+é›†åˆï¼ˆsetï¼‰ å®ç°é€»è¾‘ï¼š 1.å…ˆåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶è¯»å–æµï¼Œç”¨æ¥è¯»å–ä¸¤ä¸ªæ–‡ä»¶ 2.åˆ›å»ºä¸¤ä¸ªé›†åˆset1 set2 3.è¿›è¡Œæ–‡ä»¶è¯»å–å¹¶åˆ†åˆ«set1 set2ä¸­ 4.å¾ªç¯éå†å…¶ä¸­ä¸€ä¸ªset1ï¼Œåˆ¤æ–­set1ä¸­å–å‡ºçš„æ¯ä¸ªurlæ˜¯å¦åœ¨set2ä¸­ set2.contains(url)å¤§æ–‡ä»¶çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬ä¹Ÿé‡‡ç”¨åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼šå°†ä¸¤ä¸ªå¤§æ–‡ä»¶éƒ½è¿›è¡Œåˆ‡åˆ†ï¼Œæ¯ä¸ªå¤§æ–‡ä»¶éƒ½åˆ‡æˆå¤šä¸ªå°æ–‡ä»¶ ä¸€ä¸ªå¤§ä»»åŠ¡=4*4ä¸ªå°ä»»åŠ¡ è¿™æ ·è™½ç„¶å¯ä»¥è¾¾åˆ°ç›®çš„ä½†æ˜¯æ•ˆç‡å¤ªä½ï¼Ÿæ€ä¹ˆåŠï¼Ÿ æ’åºï¼Œåˆ‡åˆ†ï¼ˆè§„åˆ™åŒä¸€ï¼‰ æœ€ç»ˆå°†ä»»åŠ¡å‡å°‘åˆ°4ä¸ª ä½†æ˜¯å¤§æ–‡ä»¶æ’åºä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸æ¶ˆè€—æ€§èƒ½çš„äº‹æƒ…ï¼Œå¦‚æœä¸éœ€è¦æ’åºå°±å¯åšåˆ°è¿™ä¸ªæ•ˆæœå°½é‡ä¸è¦æ’åº æ€ä¹ˆåŠï¼Ÿ hashç®—æ³•çš„ç›®çš„----ã€‹ç»™æ¯ä¸€ä¸ªå¯¹è±¡ç”Ÿæˆä¸€ä¸ªâ€œå”¯ä¸€â€çš„hashå€¼0-Integer_MAX æ˜¯å¦å¯ä»¥è¿ç”¨hashç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜ url.hashCode()%åˆ†æ®µçš„ä¸ªæ•° ä¸¤ä¸ªæ–‡ä»¶åˆ†æ®µè§„åˆ™ä¸€å®šç›¸åŒå—ï¼Ÿ url.hashCode()è‚¯å®šä¸€æ · åˆ†æ®µä¸ªæ•°ä¸€å®šç›¸åŒå—ï¼Ÿå¯ä»¥ä¸ä¸€æ · å¦‚æœä¸ä¸€æ ·çš„è¯ å¿…é¡»æˆå€æ•°å…³ç³» æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆï¼š åˆ†è€Œæ²»ä¹‹+åˆ†æ®µè§„åˆ™ åˆ†æ®µï¼šåˆ†åŒº 3. æœ‰ä¸€ä¸ªå¾ˆå°çš„æ–‡ä»¶, å­˜å‚¨çš„éƒ½æ˜¯url, æ¯è¡Œä¸€ä¸ª, æ€æ ·å¿«é€Ÿåˆ¤æ–­ç»™å®šçš„ä¸€ä¸ªurlæ˜¯å¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å°æ–‡ä»¶: IO + é›†åˆ(set) åˆ›å»ºio å’Œ é›†åˆ è¿›è¡Œæ–‡ä»¶è¯»å–æ”¾åœ¨ seté›†åˆä¸­ set.contains(url) ==&gt; true:å­˜åœ¨, false: ä¸å­˜åœ¨ å¤§æ–‡ä»¶: æ€è·¯1: ç”¨hashCode() è¿›è¡Œåˆ†åŒº, ç„¶åç”¨è¦æŸ¥æ‰¾çš„ url å–æ¨¡å®šä½ ä½†æ˜¯è¿™æ ·å®šä½åˆ°äº†è¿˜æ˜¯è¦ä¸€ä¸ªä¸ªæ‰¾ æ€è·¯2: æ•°ç»„çš„æŸ¥è¯¢æ€§èƒ½æ¯”è¾ƒé«˜, æ•°ç»„å¯ä»¥é€šè¿‡ä¸‹æ ‡ åŸºæ•°æ’åº æ•°ç»„çš„ç´¢å¼•ä»£è¡¨çš„æ˜¯æ•°æ®çš„åŸå§‹å€¼, æ•°ç»„ä¸­å­˜å‚¨çš„å€¼, æ˜¯åŸå§‹å€¼å‡ºç°çš„æ¬¡æ•° æ”¾åˆ°å¯¹åº”ä¸‹æ ‡çš„ä½ç½®, å€¼åªå­˜å‡ºç°çš„æ¬¡æ•° å¦‚æœæ•°ç»„ä¸­å¯¹åº”çš„ä¸‹è¡¨å­˜å‚¨çš„å€¼ä¸º0, ä»£è¡¨æ­¤ä¸‹æ ‡çš„å€¼æ²¡æœ‰å‡ºç°è¿‡, å°±ä¸éœ€è¦è¾“å‡º ç¼ºç‚¹: æ•°æ®èŒƒå›´è¿‡å¤§æ—¶, æ•°ç»„é•¿åº¦ä¸å¥½åˆ›å»º æ•°ç»„çš„ç±»å‹ä¸å¥½ç¡®å®š å¦‚æœæ•°æ®æ¯”è¾ƒåˆ†æ•£æ—¶, ä¼šé€ æˆèµ„æºæµªè´¹ ç»ƒä¹ : å†™ä¸€ä¸ªåŸºæ•°æ’åº, éšæœºç”Ÿæˆçš„20ä¸ªæ•°, è¿ç”¨åŸºæ•°æ’åºæ’åº å¯¹äºæœ¬é¢˜ ä¸éœ€è¦ç»Ÿè®¡æ¬¡æ•°, å­˜åœ¨æ ‡è®°ä¸º1, ä¸å­˜åœ¨å°±æ˜¯0 æ‰€ä»¥å­˜çš„æ—¶å€™æœ€å¥½ç”¨booleanå­˜, ç”¨ä½æ•°ç»„ bit[] å¯ä»¥è®¾è®¡å¤šä¸ªhashç®—æ³•, ç”¨æ¥æ ¡éªŒæŸä¸€ç§hashCodeç›¸åŒçš„æƒ…å†µ å½±å“è¯¯åˆ¤ç‡3è¦ç´ : hashç®—æ³•ä¸ªæ•° k - æ•°æ®é‡n - æ•°ç»„é•¿åº¦ m å¸ƒéš†è¿‡æ»¤å™¨ å…¬å¼: k = 0.7*(m/n), æ­¤æ—¶çš„è¯¯åˆ¤ç‡æœ€å° å¤§æ•°æ®åŸºæœ¬ä»‹ç»æ•°æ® æ•°æ®å°±æ˜¯æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šè¿‡è§‚å¯Ÿã€å®éªŒæˆ–è®¡ç®—å¾—å‡ºçš„ç»“æœã€‚æ•°æ®æœ‰å¾ˆå¤šç§ï¼Œæœ€ç®€å•çš„å°±æ˜¯æ•°å­—ã€‚ æ•°æ®ä¹Ÿå¯ä»¥æ˜¯æ–‡å­—ã€å›¾åƒã€å£°éŸ³ç­‰ã€‚æ•°æ®å¯ä»¥ç”¨äºç§‘å­¦ç ”ç©¶ã€è®¾è®¡ã€æŸ¥è¯ç­‰ã€‚ ç»“æ„åˆ’åˆ†: ç»“æ„åŒ– åŠç»“æ„åŒ– éç»“æ„åŒ– å¤§æ•°æ®ç‰¹ç‚¹: 4V æ•°æ®é‡å¤§ 1 Byte =8 bit1 KB = 1,024 Bytes = 8192 bit1 MB = 1,024 KB = 1,048,576 Bytes1 GB = 1,024 MB = 1,048,576 KB1 TB = 1,024 GB = 1,048,576 MB ï¼ˆæ™®é€šç”¨æˆ·æ•°æ®çº§åˆ«ï¼‰1 PB = 1,024 TB = 1,048,576 GBï¼ˆä¼ä¸šçº§æ•°æ®çº§åˆ«ï¼‰1 EB = 1,024 PB = 1,048,576 TB1 ZB = 1,024 EB = 1,048,576 PBï¼ˆå…¨çƒæ•°æ®æ€»é‡çº§åˆ«ï¼‰ æ•°æ®å¢é•¿é€Ÿåº¦å¿« æ•°æ®ç§ç±»å¤š æ–‡å­— å›¾ç‰‡ éŸ³é¢‘ è§†é¢‘.. æ•°æ®çš„ä»·å€¼å¯†åº¦ä½ æ•´ä½“ä»·å€¼é«˜ æ•°æ®æ¥æº å…¬å¸ä¸­çš„è‡ªå·±çš„ä¸šåŠ¡æ•°æ® æ·˜å® äº¬ä¸œ ç¬¬ä¸‰æ–¹ çˆ¬è™« çˆ¬æ•°æ® æ•°æ®å¤„ç† ç¼ºå¤±æ•°æ®çš„å¤„ç† è€ƒè™‘ç¼ºå¤±æ•°æ®æ˜¯å¦å½±å“æ•´ä½“çš„ä¸šåŠ¡é€»è¾‘ ä¸å½±å“ åˆ é™¤ å¦‚æœæ˜¯å’Œé’±ç›¸å…³çš„æ•°æ® â€”-æ…é‡ ä¸èƒ½è½»æ˜“åˆ é™¤ æ•æ„Ÿæ•°æ® è„±æ•å¤„ç† â€“ åŠ å¯† æ•°æ®ä»·å€¼ äººç‰©ç”»åƒ æ ¹æ®æ ¹æ®ç”¨æˆ·æ•°æ®ç»™ç”¨æˆ·åšä¸€ä¸ªå…¨æ–¹ä½çš„åˆ†æç”»åƒ å±æ€§ï¼š äººè„‰ æ¶ˆè´¹æ°´å¹³ æ€§æ ¼ç‰¹ç‚¹ â€¦. å‡ ä¸ªæ¦‚å¿µé›†ç¾¤: å¤šä¸ªæœºå™¨å…±åŒåä½œå®ŒæˆåŒä¸€ä¸ªä»»åŠ¡, æ¯ä¸€ä¸ªæœºå™¨å«åšèŠ‚ç‚¹, å¤šä¸ªæœºå™¨å…±åŒç»„æˆçš„ç¾¤ä½“å«åšé›†ç¾¤ é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¹‹é—´é€šè¿‡å±€åŸŸç½‘æˆ–å…¶ä»–æ–¹å¼é€šè®¯ åˆ†å¸ƒå¼: åˆ†è€Œæ²»ä¹‹ , ä¸€ä¸ªä»»åŠ¡å‘—åˆ†æˆå¤šä¸ªå­ä»»åŠ¡æ¨¡å—, æ¯ä¸ªä»»åŠ¡è·‘åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Š åŸæ¥ä¸€ä¸ªäººå¹²çš„äº‹æƒ…, ç°åœ¨å¤§å®¶åˆ†å·¥åŠ³åŠ¨ åˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿ , åˆ†å¸ƒå¼æ•°æ®åº“, åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿ è´Ÿè½½å‡è¡¡: Nginx æ¯ä¸ªèŠ‚ç‚¹åˆ†é…åˆ°çš„ä»»åŠ¡åŸºæœ¬å‡è¡¡ è´Ÿè½½å‡è¡¡æ˜¯è·Ÿæ¯ä¸ªèŠ‚ç‚¹è‡ªèº«çš„é…ç½®ç­‰åŒ¹é…çš„ ä¸å­˜åœ¨ç»å¯¹çš„å‡è¡¡ Hadoopæ¦‚å¿µ ä¸€ä¸ªåˆ†å¸ƒå¼çš„å¼€æºæ¡†æ¶ æ”¯æŒæˆåƒä¸Šä¸‡çš„èŠ‚ç‚¹, æ¯ä¸ªèŠ‚ç‚¹ä¾é æœ¬åœ°çš„è®¡ç®—å’Œå­˜å‚¨ åœ¨åº”ç”¨å±‚é¢æä¾›é«˜å¯ç”¨æ€§ å°†ç¡¬ä»¶é”™è¯¯çœ‹æˆä¸€ä¸ªå¸¸æ€ Hadoopçš„æ¨¡å— Common æ”¯æŒå…¶ä»– Hadoop æ¨¡å—çš„å…¬å…±å®ç”¨ç¨‹åº å°è£…: å·¥å…·ç±», RPCæ¡†æ¶ HDFS Hadoopçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ, è´Ÿè´£æµ·é‡æ•°æ®çš„å­˜å‚¨ å°†æ–‡ä»¶åˆ‡åˆ†æˆæŒ‡å®šå¤§å°çš„æ•°æ®å—å¹¶ä»¥å¤šå‰¯æœ¬çš„å­˜å‚¨å½¢å¼å­˜å‚¨åœ¨å¤šä¸ªæœºå™¨ä¸Š æ•°æ®åˆ‡åˆ†, å¤šå‰¯æœ¬, å®¹é”™ç­‰æ“ä½œå¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ æ¶æ„: ä¸»ä»æ¶æ„ ( Javaè¿›ç¨‹) ä¸»: namenode ä¸€ä¸ª ä»: datenode å¤šä¸ª åŠ©ç†: SecondaryNamenode åˆ†æ‹…ä¸»è¿›ç¨‹çš„å‹åŠ› YARN é›†ç¾¤çš„èµ„æºè°ƒåº¦æ¡†æ¶, è´Ÿè´£é›†ç¾¤çš„èµ„æºç®¡ç† æ¶æ„: ä¸»ä»æ¶æ„ ä¸»: ResourceManager â€“ è´Ÿè´£ç»Ÿç­¹èµ„æº ä»: NodeManager MapReduce åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶, æœ‰è®¡ç®—ä»»åŠ¡çš„æ—¶å€™æ‰ä¼šæœ‰å“åº”çš„è¿›ç¨‹ Hadoopçš„æ­å»ºæ­å»ºå‰çš„å‡†å¤‡123456789101112131415161718192021222324252627282930313233343536373839404142æ­å»ºå‡†å¤‡ï¼š1ï¼‰ipé…ç½®2ï¼‰ä¸»æœºå vi /etc/sysconfig/network3ï¼‰ä¸»æœºæ˜ å°„4ï¼‰å…³é—­é˜²ç«å¢™å’Œsellinux service iptables stop vi /etc/selinux/config SELINUX=disabled5ï¼‰å°†ç³»ç»Ÿçš„å¯åŠ¨çº§åˆ«æ”¹ä¸º3 vi /etc/inittab6ï¼‰åˆ›å»ºæ™®é€šç”¨æˆ·ï¼Œå¹¶ä¸ºæ™®é€šç”¨æˆ·æ·»åŠ sudolersæƒé™ åˆ›å»ºç”¨æˆ·ï¼šuseradd ç”¨æˆ·å passwd ç”¨æˆ·å vi /etc/sudoers hadoop ALL=(ALL) ALL7ï¼‰é…ç½®å…å¯†ç™»å½• å…ˆåˆ‡æ¢åˆ°æ™®é€šç”¨æˆ· 1ï¼‰ç”Ÿæˆç§˜é’¥ ssh-keygen 2)å‘é€ç§˜é’¥ ssh-copy-id hadoop(ä¸»æœºå) éªŒè¯ï¼šssh hadoop 8ï¼‰å®‰è£…jdk å¸è½½jdkï¼š rpm -qa|grep jdk rpm -e java-1.7.0-openjdk-1.7.0.99-2.6.5.1.el6.x86_64 --nodeps9ï¼‰æ—¶é—´åŒæ­¥ ä¼ªåˆ†å¸ƒå¼ä¸éœ€è¦ åˆ†å¸ƒå¼éœ€è¦ï¼Œå¿…é¡»åš10)é€‰æ‹©å®‰è£…ç‰ˆæœ¬ï¼š ä¸é€‰å¤ªé™ˆæ—§çš„ç‰ˆæœ¬ä¹Ÿä¸é€‰æœ€æ–°çš„ç‰ˆæœ¬ 2.7.6 11)å®‰è£… ä¸€å®šåˆ‡æ¢ç”¨æˆ· æ™®é€šç”¨æˆ· æ–¹å¼1: ä¼ªåˆ†å¸ƒå¼æ‰€æœ‰è¿›ç¨‹å…¨éƒ¨è¿è¡Œåœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162631ï¼‰ä¸Šä¼ 2ï¼‰è§£å‹3ï¼‰ä¿®æ”¹é…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼šHADOOP_HOME/etc/hadoop éœ€è¦ä¿®æ”¹6ä¸ªé…ç½®æ–‡ä»¶ï¼š 1ï¼‰hadoop-env.sh export JAVA_HOME=/home/hadoop/jdk1.8.0_73/ 2)core-site.xml æ ¸å¿ƒé…ç½®æ–‡ä»¶ &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://hadoop:9000&lt;/value&gt; &lt;/property&gt; 3)hdfs-site.xml &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;1&lt;/value&gt; &lt;/property&gt; 4)yarn-site.xml &lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt; 5)mapred-site.xml &lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt; &lt;/property&gt; 6)slaves é…ç½®çš„æ˜¯ä»èŠ‚ç‚¹çš„ä¿¡æ¯ 7)é…ç½®ç¯å¢ƒå˜é‡ export JAVA_HOME=/home/hadoop/jdk1.8.0_73 export HADOOP_HOME=/home/hadoop/hadoop-2.7.6 export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin source /etc/rpofile éªŒè¯ hadoop version 8)å…ˆè¿›è¡Œæ ¼å¼åŒ– hadoop namenode -format 9)å¯åŠ¨ start-all.sh ä¸å»ºè®® å»ºè®®ä»¥ä¸‹å‘½ä»¤ï¼š start-dfs.sh start-yarn.sh 10ï¼‰éªŒè¯ jps 6ä¸ªè¿›ç¨‹ 3909 Jps 3736 ResourceManager 3401 DataNode 3306 NameNode 3836 NodeManager 3597 SecondaryNameNode é¡µé¢ï¼š hdfsï¼šnamenodeçš„ipï¼š50070 yarn:resourcemanagerçš„ipï¼š8088 æ–¹å¼2: å®Œå…¨åˆ†å¸ƒå¼å‚è€ƒæ–‡æ¡£ å„ä¸ªèŠ‚ç‚¹çš„å®‰è£…çš„æ™®é€šç”¨æˆ·åå¿…é¡»ç›¸åŒ å¯†ç ä¹Ÿå¾—ç›¸åŒ, æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦æ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576æ­å»ºå‡†å¤‡ï¼š 1ï¼‰ipé…ç½® 2ï¼‰ä¸»æœºå vi /etc/sysconfig/network 3ï¼‰ä¸»æœºæ˜ å°„ 4ï¼‰å…³é—­é˜²ç«å¢™å’Œsellinux service iptables stop vi /etc/selinux/config SELINUX=disabled 5ï¼‰å°†ç³»ç»Ÿçš„å¯åŠ¨çº§åˆ«æ”¹ä¸º3 6ï¼‰åˆ›å»ºæ™®é€šç”¨æˆ·ï¼Œå¹¶ä¸ºæ™®é€šç”¨æˆ·æ·»åŠ sudolersæƒé™ åˆ›å»ºç”¨æˆ·ï¼šuseradd ç”¨æˆ·å passwd ç”¨æˆ·å vi /etc/sudoers hadoop ALL=(ALL) ALL 7ï¼‰é…ç½®å…å¯†ç™»å½• å…ˆåˆ‡æ¢åˆ°æ™®é€šç”¨æˆ· æ¯å°æœºå™¨éƒ½éœ€è¦æ‰§è¡Œä¸‹é¢çš„æ“ä½œ å„ä¸ªèŠ‚ç‚¹ä¹‹é—´éƒ½åšä¸€ä¸‹ a. ç”Ÿæˆç§˜é’¥ ssh-keygen b. å‘é€ç§˜é’¥ ssh-copy-id hadoop(ä¸»æœºå) c. éªŒè¯ï¼šå„ä¸ªèŠ‚ç‚¹ä¹‹é—´éƒ½éœ€è¦åšç›¸äº’éªŒè¯ ssh hadoop01 ssh hadoop02 ssh hadoop03 8ï¼‰å®‰è£…jdk å¸è½½jdkï¼š rpm -qa|grep jdk rpm -e java-1.7.0-openjdk-1.7.0.99-2.6.5.1.el6.x86_64 --nodeps 9ï¼‰æ—¶é—´åŒæ­¥ ä¼ªåˆ†å¸ƒå¼ä¸éœ€è¦ åˆ†å¸ƒå¼éœ€è¦ï¼Œå¿…é¡»åš 1)ä¸èƒ½è”ç½‘çš„æ—¶å€™ æ‰‹åŠ¨æŒ‡å®š date -s æ—¶é—´ æˆ–è€…æ‰‹åŠ¨æ­å»ºä¸€ä¸ªæ—¶é—´æœåŠ¡å™¨ 2ï¼‰èƒ½è”ç½‘çš„æ—¶å€™ æ‰¾ä¸€ä¸ªå…¬ç½‘ä¸­çš„å…¬ç”¨çš„æ—¶é—´æœåŠ¡å™¨ æ‰€æœ‰èŠ‚ç‚¹çš„æ—¶é—´å’Œå…¬ç½‘ä¸­çš„æ—¶é—´æœåŠ¡å™¨ä¿æŒä¸€è‡´ ntpdate å…¬ç½‘çš„æ—¶é—´æœåŠ¡å™¨åœ°å€ å®Œå…¨åˆ†å¸ƒå¼å¿…é¡»è¦åš æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦æ‰§è¡Œ 10) é€‰æ‹©å®‰è£…ç‰ˆæœ¬ï¼š ä¸é€‰å¤ªé™ˆæ—§çš„ç‰ˆæœ¬ä¹Ÿä¸é€‰æœ€æ–°çš„ç‰ˆæœ¬ 2.7.6 11) å®‰è£… ä¸€å®šåˆ‡æ¢ç”¨æˆ· æ™®é€šç”¨æˆ· å…ˆåœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡Œæ‰€æœ‰çš„ä¿®æ”¹ åœ¨è¿œç¨‹å‘é€åˆ°å…¶ä»–èŠ‚ç‚¹ 1ï¼‰ä¸Šä¼  2ï¼‰è§£å‹d 3ï¼‰é…ç½®ç¯å¢ƒå˜é‡ 4ï¼‰ä¿®æ”¹é…ç½®æ–‡ä»¶ 6ä¸ªé…ç½®æ–‡ä»¶ é›†ç¾¤è§„åˆ’ .... .... 5)è¿œç¨‹å‘é€ scp -r hadoop-2.7.6 hadoop02:$PWD scp -r hadoop-2.7.6 hadoop03:$PWD scp -r /home/ap/apps/hadoop-2.7.6/etc/hadoop ap@cs1:/home/ap/apps/hadoop-2.7.6/etc è¿œç¨‹å‘é€/etc/pofile æ‰§è¡Œsource /etc/pofile 6ï¼‰è¿›è¡Œæ ¼å¼åŒ– å¿…é¡»åœ¨namenodeçš„èŠ‚ç‚¹ï¼ˆhdfsçš„ä¸»èŠ‚ç‚¹ï¼‰ hadoop namenode -format ä¸é…ç½®ç›®å½•é»˜è®¤/tmp ä¸´æ—¶ç›®å½• å¯ä»¥éšæ—¶å›æ”¶çš„ 7)å¯åŠ¨ å¯åŠ¨hdfs start-dfs.sh åœ¨ä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥ å¯åŠ¨yarn start-yarn.sh åœ¨yarnçš„ä¸»èŠ‚ç‚¹æ‰§è¡Œ jpså‘½ä»¤æŸ¥çœ‹ ç½‘é¡µï¼š hdfs: hadoop01:50070 yarn hadoop03:8088 æµ‹è¯•yarné›†ç¾¤æ˜¯å¦å¯åŠ¨æˆåŠŸ (æäº¤MapReduceä¾‹å­ç¨‹åºè¯•è·‘) ls apps/hadoop-2.7.6/share/hadoop/mapreduce bin/hadoop jar hadoop-mapreduce-examples-2.6.5.jar pi 5 5 å¯èƒ½é‡åˆ°çš„é”™è¯¯æ­å»ºè¿‡ç¨‹ä¸­ ä¸»æœºæ‰¾ä¸åˆ° /etc/sysconfig/network /etc/hosts é‡å¯æœºå™¨ ä½•æ—¶åŒ–çš„æ—¶å€™æŠ¥é”™ é…ç½®æ–‡ä»¶é”™è¯¯, æ ¹æ®é”™è¯¯å»ç›¸åº”æ–‡ä»¶è¿›è¡Œè°ƒæ•´, ä¿®æ”¹å®Œæ¯•å, é‡æ–°æ ¼å¼åŒ–ç›´åˆ°æ ¼å¼åŒ–æˆåŠŸ å¯åŠ¨è¿‡ç¨‹ä¸­æŸäº›è¿›ç¨‹å¯åŠ¨ä¸äº†æªè¾1: æš´åŠ› å…¨éƒ¨å…³é—­é›†ç¾¤é‡æ–°å¯åŠ¨ stop-dfs.sh åœ¨ä»»æ„èŠ‚ç‚¹æ‰§è¡Œ stop-yarn.sh åœ¨yarnçš„ä¸»èŠ‚ç‚¹å¯åŠ¨ é‡æ–°å¯åŠ¨, ç›´æ¥å¯åŠ¨å°±å¯ä»¥äº† start-dfs.sh start-yarn.sh æªæ–½2: å•ç‹¬å¯åŠ¨æŸäº›è¿›ç¨‹å•ç‹¬å¯åŠ¨hdfsçš„ç›¸å…³è¿›ç¨‹ hadoop-daemon.sh start hdfs è¿‡ç¨‹ hadoop-daemon.sh start namenode hadoop-daemon.sh start secondarynamenode å•ç‹¬å¯åŠ¨yarnçš„ç›¸å…³å‘½ä»¤ yarn-daemon.sh start yarn çš„ç›¸å…³è¿‡ç¨‹ yarn-daemon.sh start resourcemanager ==æ­å»ºè¿‡ç¨‹ä¸­çš„æ³¨æ„äº‹é¡¹== é›†ç¾¤çš„åªèƒ½æˆåŠŸçš„æ ¼å¼åŒ–ä¸€æ¬¡, ä¸æˆåŠŸçš„è¦ä¸€ç›´åˆ°æ ¼å¼åŒ–æˆåŠŸ, æˆåŠŸåå°±ä¸èƒ½å†æ¬¡æ ¼å¼åŒ– æ ¼å¼åŒ–çš„è¿‡ç¨‹ä¸­: åˆ›å»ºå‡ºæ¥namenodeå­˜å‚¨çš„ç›¸å…³ç›®å½• versionæ–‡ä»¶: è®°å½•ä»ªé›†ç¾¤çš„ç‰ˆæœ¬ä¿¡æ¯çš„, æ¯æ ¼å¼åŒ–ä¸€æ¬¡, å°±ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ä¿¡æ¯ 123456namespaceID=1163449973clusterID=CID-47f10077-2aef-4df6-a364-1a735515a100 #è®°å½•é›†ç¾¤çš„ç‰ˆæœ¬ä¿¡æ¯çš„cTime=0storageType=NAME_NODEblockpoolID=BP-1527239677-192.168.75.162-1527817150436layoutVersion=-63 å¯åŠ¨hdfsçš„æ—¶å€™: ç”Ÿæˆdatanodeçš„ç›¸å…³æ•°æ®ä¿¡æ¯ version: è®°å½•datanode ç›¸å…³ç‰ˆæœ¬çš„ä¿¡æ¯ 1clusterID=CID-47f10077-2aef-4df6-a364-1a735515a100 ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„clusterIDç›¸åŒçš„æ—¶å€™, datanode æ‰ä¼šè®¤ä¸ºæ˜¯åŒä¸€ä¸ªé›†ç¾¤çš„ æƒ³è¦é‡å¤æ ¼å¼åŒ–, åˆ†3æ­¥èµ° åœæ­¢æ‰€æœ‰æœåŠ¡ åˆ é™¤ namenode çš„æ•°æ®ç›®å½• rm -rf /home/ap/data/hadoopdata/name åˆ é™¤ datanode çš„æ•°æ®ç›®å½• rm -rf /home/ap/data/hadoopdata/data æ­¤æ—¶æ‰å¯ä»¥é‡æ–°æ ¼å¼åŒ–, å¦åˆ™ä¼šé€ æˆ datanode å¯åŠ¨ä¸äº†, æ³¨æ„, å…³é—­é˜²ç«å¢™, å…³é—­vpn ä¹Ÿå¯ä»¥ä¸€æ­¥åˆ°ä½ rm -rf /home/ap/data å†é‡æ–°æ ¼å¼åŒ– é›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­ç¯å¢ƒå˜é‡çš„é…ç½®(jdk. hadoopâ€¦) åœ¨Linuxä¸­ä¿®æ”¹ç¯å¢ƒå˜é‡çš„åœ°æ–¹æœ‰3ä¸ª /etc/profile ç³»ç»Ÿç¯å¢ƒå˜é‡, é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·çš„ ~/.bashrc ç”¨æˆ·ç¯å¢ƒå˜é‡ ~/.bash_profile ç”¨æˆ·ç¯å¢ƒå˜é‡ è¿™3ä¸ªé…ç½®æ–‡ä»¶çš„åŠ è½½é¡ºåº /etc/profile &gt; .bashrc &gt; .bash_profile ç”Ÿæ•ˆ: æœ€åä¸€æ¬¡åŠ è½½çš„ç”Ÿæ•ˆ æ—¶é—´åŒæ­¥é—®é¢˜ åªè¦æ˜¯å®Œå…¨åˆ†å¸ƒå¼çš„, å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´ä¸€å®šè¦åšæ—¶é—´åŒæ­¥, ç›®çš„: è¦å’Œ åŒ—äº¬/ä¸Šæµ· æ—¶é—´ä¿æŒä¸€è‡´? no é›†ç¾¤èƒŒéƒ¨å„ä¸ªèŠ‚ç‚¹ä¹‹é—´æ—¶é—´ä¿æŒä¸€è‡´ yes why ? é›†ç¾¤å†…éƒ¨å„ä¸ªèŠ‚ç‚¹ä¹‹é—´éœ€è¦é€šä¿¡, å°¤å…¶æ˜¯datanode å’Œ namenodeä¹‹é—´, ä»–ä»¬ä¹‹é—´çš„é€šä¿¡ä¾é å¿ƒè·³æœºåˆ¶, ä»–ä»¬ä¹‹é—´çš„å¿ƒè·³å­˜åœ¨ä¸€ä¸ªæ—¶é—´æ§åˆ¶, è¿™ä¸ªæ—¶é—´æ˜¯ 630s, ä»–ä»¬ä¹‹å‰éœ€è¦åšæ—¶é—´åŒæ­¥ é›†ç¾¤çš„å®‰è£…æ¨¡å¼1. å•æœºæ¨¡å¼ ç›´æ¥è§£å‹çš„æ–¹å¼, ä»€ä¹ˆéƒ½ä¸é…ç½®, å¹¶ä¸”åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Š æ²¡æœ‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ, æ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯æ¥è‡ªæœ¬åœ°, åªèƒ½å¯¹æœ¬åœ°çš„æ–‡ä»¶è¿›è¡Œè¯»å†™ å‡ ä¹æ²¡äººç”¨, æµ‹è¯•æ—¶å¶å°”ä¼šç”¨ 2. ä¼ªåˆ†å¸ƒå¼ å¯ä»¥çœ‹åšè·‘åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„å®Œå…¨åˆ†å¸ƒå¼ æœ‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ, åªä¸è¿‡è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ ==3. å®Œå…¨åˆ†å¸ƒå¼==å‚è€ƒæ–‡æ¡£ è§„åˆ’ ç›®å‰ç–‘ç‚¹: NodeManageræ˜¯æ ¹æ®ä»€ä¹ˆé…ç½®åˆ°æ¯å°æœºå™¨ä¸Šçš„?? æ ¹æ®è¡¨å¾, å¯èƒ½æ˜¯æ ¹æ® slaveæ–‡ä»¶ ä¸»æœºå / IP HDFS YARN cts1 / 192.168.56.131 NameNode ç©ºçš„ cts2 / 192.168.56.132 DataNode NodeManager cts3 / 192.168.56.133 DataNode + Secondary NameNode NodeManager cts4 / 192.168.56.134 DataNode NodeManager +ResourceManager hdfs ä¸ºä¾‹ : åœ¨å®è§‚çœ‹å°±æ˜¯ä¸€ä¸ªå¤§çš„èŠ‚ç‚¹, åå°é‡‡ç”¨çš„ç¡¬ä»¶é…ç½®æ˜¯ä¸‰å¤©æœºå™¨çš„ç¡¬ä»¶é…ç½®ä¹‹å’Œ, ä½†æ˜¯å¯¹ç”¨æˆ·æ¥è®²å®Œå…¨æ„Ÿè§‰ä¸åˆ° åœ¨å®Œå…¨åˆ†å¸ƒå¼ä¸­, æœ‰ä¸»èŠ‚ç‚¹, æœ‰ä»èŠ‚ç‚¹ ä¸»èŠ‚ç‚¹ namenodeåªæœ‰ä¸€ä¸ª, ä»èŠ‚ç‚¹æœ‰å¤šä¸ª, çœŸå®ç”Ÿäº§ä¸­, namenodeä¼šå•ç‹¬åšä¸€ä¸ªèŠ‚ç‚¹ å¦‚æœé›†ç¾¤ä¸­namenodeå®•æœº, æ•´ä¸ªé›†ç¾¤è¿˜å¯ä»¥ä½¿ç”¨å—? ä¸å¯ä»¥ namenode: ä¸»è¦ä½œç”¨å­˜å‚¨å…ƒæ•°æ® (ç®¡ç†æ•°æ®çš„æ•°æ®, å­˜å‚¨çš„å°±æ˜¯datanodeå­˜å‚¨æ•°æ®çš„æè¿°) datanode: è´Ÿè´£é›†ç¾¤ä¸­çœŸæ­£å¤„ç†æ•°æ®å­˜å­˜å‚¨çš„ å¦‚æœnamenode å®•æœº, é›†ç¾¤æ— æ³•ä½¿ç”¨, è¿™ä¹Ÿæ˜¯å®Œå…¨åˆ†å¸ƒå¼çš„ä¸€å¤§ç¼ºç‚¹, å­˜åœ¨å•ç‚¹æ•…éšœé—®é¢˜ ä¸€èˆ¬ç”Ÿäº§ä¸­ä¸å¤ªä½¿ç”¨, å­¦ä¹ , æµ‹è¯•, èŠ‚ç‚¹ä¸ªæ•°æ¯”è¾ƒå°‘çš„æ—¶å€™, æœ‰æ—¶å€™ä¹Ÿä¼šä½¿ç”¨è¿™ç§æ¨¡å¼ èŠ‚ç‚¹æ•°ç›®è¶Šå¤š, namenodeå®•æœºçš„å¯èƒ½æ€§è¶Šå¤§, å‹åŠ›å¤ªå¤§ åŠ©ç†secondarynamenode: åªæ˜¯ä¸€ä¸ªåŠ©ç†, åªæ˜¯åˆ†æ‹…namenodeçš„å‹åŠ›, ä½†æ˜¯ä¸èƒ½ä»£æ›¿ æ¶æ„: ä¸€ä¸»å¤šä» ==4. é«˜å¯ç”¨== æ¦‚å¿µ: é›†ç¾¤å¯ä»¥æŒç»­å¯¹å¤–æä¾›æœåŠ¡, åšåˆ° 7*24 å°æ—¶ä¸é—´æ–­ ä¾èµ–äºzookeeper, æ­å»ºæ”¾åœ¨ zookeeperè¯¾ç¨‹ä¹‹å é›†ç¾¤æ¶æ„: åŒä¸»å¤šä» æœ‰2ä¸ª namenode, ä½†æ˜¯åœ¨åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ˜¯ æ´»è·ƒçš„ namenode, æˆ‘ä»¬æŠŠè¿™ä¸ªæ´»è·ƒçš„namenode æˆä¸º active çš„, å¦å¤–ä¸€ä¸ªæ˜¯å¤„ç†çƒ­å¤‡ä»½çŠ¶æ€, æˆ‘ä»¬å°†è¿™ä¸ªèŠ‚ç‚¹å« standby, ä½†æ˜¯2ä¸ªä¸»èŠ‚ç‚¹å­˜å‚¨çš„å…ƒæ•°æ®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„, å½“ active namenodeå®•æœºçš„æ—¶å€™, standbyçš„namenode å¯ä»¥ç«‹é©¬åˆ‡æ¢ä¸º active çš„namenode, å¯¹å¤–æä¾›æœåŠ¡, å°±å¯ä»¥åšåˆ° é›†ç¾¤æŒç»­å¯¹å¤–æä¾›æœåŠ¡çš„åŠŸèƒ½ å¦‚æœè¿‡ä¸€æ®µæ—¶é—´, å®•æœºçš„ namenode åˆæ´»è¿‡æ¥äº†, å®•æœºçš„ namenode åªèƒ½æ˜¯å˜æˆ standby çš„ ç¼ºé™·: åœ¨åŒä¸€æ—¶é—´ä¸­, é›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ªactive çš„ namenode, ä¹Ÿå°±æ˜¯è¯´ é›†ç¾¤ä¸­æœ‰ä¸»èŠ‚ç‚¹èƒ½åŠ›çš„èŠ‚ç‚¹ åªæœ‰ä¸€ä¸ª, å¦‚æœé›†ç¾¤ä¸­, èŠ‚ç‚¹ä¸ªæ•°è¿‡å¤š(1000) çš„æ—¶å€™, ä¼šé€ æˆnamenodeçš„å´©æºƒ, namenodeå­˜å‚¨çš„æ˜¯å…ƒæ•°æ®, å…ƒæ•°æ®è¿‡å¤šçš„æ—¶å€™, ä¼šé€ æˆnamenodeçš„å´©æºƒ(ä¸¤ä¸ªéƒ½å´©æºƒ), æ²¡æœ‰çœŸæ­£çš„åˆ†æ‹…namenode çš„å‹åŠ› å®é™…ç”Ÿäº§å¤šä½¿ç”¨é«˜å¯ç”¨ 5. è”é‚¦æœºåˆ¶ åŒä¸€ä¸ªé›†ç¾¤ä¸­å¯ä»¥æœ‰å¤šä¸ªä¸»èŠ‚ç‚¹, è¿™äº›ä¸»èŠ‚ç‚¹çš„åœ°ä½æ˜¯ä¸€æ ·çš„. åŒä¸€æ—¶é—´, å¯ä»¥æœ‰å¤šä¸ªæ´»è·ƒçš„ namenode è¿™äº› namenode å…±åŒä½¿ç”¨é›†ç¾¤ä¸­æ‰€æœ‰çš„ datanode, æ¯ä¸ªnamenode åªè´Ÿè´£ç®¡ç†é›†ç¾¤ä¸­çš„ datanodeä¸Šçš„ä¸€éƒ¨åˆ†æ•°æ® ä¸€èˆ¬è¶…å¤§é›†ç¾¤æ­å»ºçš„æ—¶å€™: è”é‚¦ + é«˜å¯ç”¨ è¶…å¤§é›†ç¾¤ä½¿ç”¨ æ¯ä¸ªnamenodeè¿›è¡Œæ•°æ®ç®¡ç†é çš„Block Pool IDç›¸åŒ ä¸åŒçš„namenodeç®¡ç†çš„æ•°æ®Block Pool ID ä¸åŒ]]></content>
      <categories>
        <category>Hadoop</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hadoopä½“ç³»æ¦‚è§ˆ]]></title>
    <url>%2F2018%2F05%2F31%2FHadoop%2FOverview%2FHadoop%E4%BD%93%E7%B3%BB%E6%A6%82%E8%A7%88%2F</url>
    <content type="text"><![CDATA[Hadoopæ ¸å¿ƒç»„ä»¶1. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFS1.1 åŸºæœ¬æ¦‚å¿µ å°†æ–‡ä»¶åˆ‡åˆ†æˆæŒ‡å®šå¤§å°çš„æ•°æ®å—å¹¶ä»¥å¤šå‰¯æœ¬çš„å­˜å‚¨å½¢å¼å­˜å‚¨åœ¨å¤šä¸ªæœºå™¨ä¸Š æ•°æ®åˆ‡åˆ†, å¤šå‰¯æœ¬, å®¹é”™ç­‰æ“ä½œå¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ 1.2 å›¾ç¤º 1.3 HDFSæ¶æ„ Datanode å®šæœŸå‘ Namenode å‘ Hearbeat å…ƒæ•°æ®ä¿¡æ¯ï¼š å¤šä»½å¤‡ä»½ 1.4 HDFSçš„ IO æ“ä½œ ä¸Šé¢çš„æ˜¯è¯» å®¢æˆ·ç«¯å…ˆå‘ NameNode å¯»å€ ç„¶åå†æ‰¾ DataNode æ‹¿æ•°æ® ä¸‹é¢çš„æ˜¯å†™ HDFS ä¸æ”¯æŒä¿®æ”¹ï¼Œ æ²¡æœ‰ leader è§’è‰²ï¼Œ ä¸æ”¯æŒå¹¶å‘å†™ï¼Œ åªèƒ½æ”¯æŒéå¹¶å‘çš„è¿½åŠ  HBase æ”¯æŒå¹¶å‘å†™å’Œä¿®æ”¹ åˆ é™¤ï¼š åˆ é™¤çš„æ˜¯å…ƒæ•°æ®ï¼ˆç´¢å¼•ä¿¡æ¯ï¼‰ Datanode ä¼šå®šæœŸå‘ Namenode å‘é€å¿ƒè·³ï¼Œ åŒæ­¥ä¿¡æ¯ï¼Œ å½“ Namenode å‘ç° Datanode ä¸Šæ²¡æœ‰è‡ªå·±å­˜å‚¨çš„ä¿¡æ¯æ—¶ï¼Œå°±ä¼šæŠŠè¿™éƒ¨åˆ†ä¿¡æ¯åˆ é™¤æ‰ã€‚ 1.5 HDFS å‰¯æœ¬å­˜æ”¾ç­–ç•¥ å¤åˆ¶å› å­ä¸º3æ—¶çš„ å­˜æ”¾ç­–ç•¥ å¦‚æœå†™å…¥è€…åœ¨ä¸€ä¸ª datanode ä¸Šï¼Œ åˆ™æŠŠä¸€ä»½æ‹·è´æ”¾åœ¨æœ¬åœ°æœºå™¨ä¸Šï¼Œ å¦åˆ™éšæœºæ”¾åˆ°ä¸€ä¸ª datande ä¸Š å¦ä¸€ä¸ªå‰¯æœ¬æ”¾åœ¨ä¸åŒçš„ï¼ˆè¿œç¨‹ï¼‰æœºæ¶çš„èŠ‚ç‚¹ä¸Šï¼Œ æœ€åä¸€ä¸ªå‰¯æœ¬å­˜æ”¾åœ¨åŒä¸€ä¸ªæœºæ¶çš„ä¸åŒèŠ‚ç‚¹ä¸Š è¿™ä¸€ç­–ç•¥å‰Šå‡äº†æœºæ¶é—´çš„å†™å…¥æµé‡ï¼Œé€šå¸¸æé«˜äº†å†™å…¥æ€§èƒ½ å¤åˆ¶å› å­å¤§äº3ï¼Œ åˆ™éšæœºç¡®å®šç¬¬4ä¸ªå’Œå…¶å®ƒçš„å‰¯æœ¬ä½ç½®ï¼ŒåŒæ—¶å°†æ¯ä¸ªæ‹·è´çš„æ•°ç›®ä¿æŒåœ¨ä¸Šé™ä»¥ä¸‹(åŸºæœ¬ä¸Šæ˜¯(å‰¯æœ¬æ•° - 1) / racks + 2)ã€‚ 2. èµ„æºè°ƒåº¦ç³»ç»Ÿ YARN2.1 åŸºæœ¬æ¦‚å¿µ YARN: Yet Another Resource Negotiator è´Ÿè´£æ•´ä¸ªé›†ç¾¤èµ„æºçš„ç®¡ç†å’Œè°ƒåº¦ YAENç‰¹ç‚¹: æ‰©å±•æ€§ &amp; å®¹é”™æ€§ &amp; å¤šæ¡†æ¶èµ„æºç»Ÿä¸€è°ƒåº¦ 2.2 å›¾ç¤º 3. åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ MapReduce3.1 åŸºæœ¬æ¦‚å¿µ æºäºGoogleçš„MapReduceè®ºæ–‡, è®ºæ–‡å‘è¡¨äº2004å¹´12æœˆ MapReduceæ˜¯Google MapReduceçš„å…‹éš†ç‰ˆ MapReduceçš„ç‰¹ç‚¹: æ‰©å±•æ€§ &amp; å®¹é”™æ€§ &amp; æµ·é‡æ•°æ®ç¦»çº¿å¤„ç† 3.2 å›¾ç¤º Hadoopä¼˜åŠ¿1. é«˜å¯é æ€§ æ•°æ®å­˜å‚¨: æ•°æ®å—å¤šå‰¯æœ¬ æ•°æ®è®¡ç®—: é‡æ–°è°ƒåº¦ä½œä¸šè®¡ç®— 2. é«˜æ‰©å±•æ€§ å­˜å‚¨/è®¡ç®—èµ„æºä¸å¤Ÿæ—¶, å¯ä»¥æ¨ªå‘çš„çº¿æ€§æ‰©å±•æœºå™¨ ä¸€ä¸ªé›†ç¾¤ä¸­å¯ä»¥åŒ…å«æ•°ä»¥åƒè®¡çš„èŠ‚ç‚¹ 3. å…¶å®ƒ å­˜å‚¨åœ¨å»‰ä»·æœºå™¨ä¸Š, é™ä½æˆæœ¬ æˆç†Ÿçš„ç”Ÿæ€åœˆ Hadoopçš„å‘å±•å²è§æ–‡ç« : Hadoopåå¹´è§£è¯»ä¸å‘å±•é¢„æµ‹ Hadoopå®˜ç½‘ Hadoopç”Ÿæ€ç³»ç»Ÿ1. å›¾ç¤º 2. ç‰¹ç‚¹ å¼€æº, ç¤¾åŒºæ´»è·ƒ å›Šæ‹¬äº†å¤§æ•°æ®å¤„ç†çš„æ–¹æ–¹é¢é¢ æˆç†Ÿçš„ç”Ÿæ€åœˆ Hadoopå¸¸ç”¨å‘è¡Œç‰ˆåŠé€‰å‹ Apache Hadoop CDH : Cloudera Distributed Hadoop ï¼ˆå›½å†…ç”¨çš„æ¯”è¾ƒå¤šï¼‰ HDP : Hortonworks Data Platform ä½¿ç”¨: CDHä½¿ç”¨å æ¯” 60-70 hadoop: hadoop-2.6.0-cdh5.7.0 hive : hive-1.1.0-cdh5.7.0]]></content>
      <categories>
        <category>Hadoop</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaåŸºç¡€å¢å¼º-2 å¹¶å‘ç¼–ç¨‹]]></title>
    <url>%2F2018%2F05%2F30%2FJava%2FJava%E5%9F%BA%E7%A1%80%E5%A2%9E%E5%BC%BA-2%2F</url>
    <content type="text"><![CDATA[1. å¤šçº¿ç¨‹åŸºæœ¬çŸ¥è¯†1.1 å¤šçº¿ç¨‹è¿è¡Œçš„åŸç† åŸç†ï¼šCPU åœ¨çº¿ç¨‹ä¸­åšæ—¶é—´ç‰‡çš„åˆ‡æ¢ã€‚ ä¸€ä¸ª(å¤šæ ¸ä¸­çš„ä¸€ä¸ª) CPU åœ¨åœ¨è¿è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­æŸä¸ªæ—¶åˆ»ç‚¹ä¸Šï¼Œåªèƒ½è¿è¡Œä¸€ä¸ªç¨‹åºã€‚è€Œ CPU å¯ä»¥åœ¨ å¤šä¸ªç¨‹åºä¹‹é—´è¿›è¡Œé«˜é€Ÿçš„åˆ‡æ¢ (è½®è¯¢åˆ¶)ã€‚è€Œåˆ‡æ¢é¢‘ç‡å’Œé€Ÿåº¦å¤ªå¿«ï¼Œå¯¼è‡´äººçš„è‚‰çœ¼çœ‹ä¸åˆ°ã€‚ 1.2 å®ç°çº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ ç»§æ‰¿ Thread å£°æ˜å®ç°Runnableæ¥å£ è¿˜å¯ä»¥å®ç°Callableæ¥å£ 1.3 çº¿ç¨‹çš„çŠ¶æ€å›¾è§£ æ–°å»ºçŠ¶æ€ï¼ˆNewï¼‰ï¼šæ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ã€‚ å°±ç»ªçŠ¶æ€ï¼ˆRunnableï¼‰ï¼šçº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨äº†è¯¥å¯¹è±¡çš„ start()æ–¹æ³•ã€‚è¯¥çŠ¶æ€ çš„çº¿ç¨‹ä½äºå¯è¿è¡Œçº¿ç¨‹æ± ä¸­ï¼Œå˜å¾—å¯è¿è¡Œï¼Œç­‰å¾…è·å– CPU çš„ä½¿ç”¨æƒã€‚ è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰ï¼šå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹è·å–äº† CPUï¼Œæ‰§è¡Œç¨‹åºä»£ç ã€‚ é˜»å¡çŠ¶æ€ï¼ˆBlockedï¼‰ï¼šé˜»å¡çŠ¶æ€æ˜¯çº¿ç¨‹å› ä¸ºæŸç§åŸå› æ”¾å¼ƒ CPU ä½¿ç”¨æƒï¼Œæš‚æ—¶åœæ­¢è¿è¡Œã€‚ ç›´åˆ°çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œæ‰æœ‰æœºä¼šè½¬åˆ°è¿è¡ŒçŠ¶æ€ã€‚é˜»å¡çš„æƒ…å†µåˆ†ä¸‰ç§ï¼š ç­‰å¾…é˜»å¡ï¼šè¿è¡Œçš„çº¿ç¨‹æ‰§è¡Œ wait()æ–¹æ³•ï¼ŒJVM ä¼šæŠŠè¯¥çº¿ç¨‹æ”¾å…¥ç­‰å¾…æ± ä¸­ã€‚(wait ä¼šé‡Š æ”¾æŒæœ‰çš„é”) åŒæ­¥é˜»å¡ï¼šè¿è¡Œçš„çº¿ç¨‹åœ¨è·å–å¯¹è±¡çš„åŒæ­¥é”æ—¶ï¼Œè‹¥è¯¥åŒæ­¥é”è¢«åˆ«çš„çº¿ç¨‹å ç”¨ï¼Œåˆ™ JVM ä¼šæŠŠè¯¥çº¿ç¨‹æ”¾å…¥é”æ± ä¸­ã€‚ å…¶ä»–é˜»å¡ï¼šè¿è¡Œçš„çº¿ç¨‹æ‰§è¡Œ sleep()æˆ– join()æ–¹æ³•ï¼Œæˆ–è€…å‘å‡ºäº† I/O è¯·æ±‚æ—¶ï¼ŒJVM ä¼šæŠŠ è¯¥çº¿ç¨‹ç½®ä¸ºé˜»å¡çŠ¶æ€ã€‚å½“ sleep()çŠ¶æ€è¶…æ—¶ã€join()ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢æˆ–è€…è¶…æ—¶ã€æˆ–è€… I/O å¤„ç†å®Œæ¯• æ—¶ï¼Œçº¿ç¨‹é‡æ–°è½¬å…¥å°±ç»ªçŠ¶æ€ã€‚ï¼ˆæ³¨æ„ï¼šsleep æ˜¯ä¸ä¼šé‡Šæ”¾æŒæœ‰çš„é”ï¼‰ æ­»äº¡çŠ¶æ€ï¼ˆDeadï¼‰ï¼šçº¿ç¨‹æ‰§è¡Œå®Œäº†æˆ–è€…å› å¼‚å¸¸é€€å‡ºäº† run()æ–¹æ³•ï¼Œè¯¥çº¿ç¨‹ç»“æŸç”Ÿå‘½å‘¨æœŸã€‚ 1.4 å‡ ä¸ªé‡è¦çš„æ–¹æ³•çš„åŒºåˆ«ï¼š sleep(timeout)ï¼šå½“å‰çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œæš‚åœæ‰§è¡Œä¸€å®šæ—¶é—´ï¼Œä¸ä¼šé‡Šæ”¾é”æ ‡è®° join()ï¼šjoin()æ–¹æ³•ä¼šä½¿å½“å‰çº¿ç¨‹ç­‰å¾…è°ƒç”¨ join()æ–¹æ³•çš„çº¿ç¨‹ç»“æŸåæ‰èƒ½ç»§ç»­æ‰§è¡Œ yield()ï¼šè°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹é‡å›å¯æ‰§è¡ŒçŠ¶æ€ï¼Œä¸ä¼šé‡Šæ”¾é”æ ‡è®°ï¼Œå¯ä»¥ç†è§£ä¸ºäº¤å‡º CPU æ—¶é—´ç‰‡ï¼Œ ä½†æ˜¯ä¸ä¸€å®šæœ‰æ•ˆæœï¼Œå› ä¸ºæœ‰å¯èƒ½åˆè¢«é©¬ä¸Šæ‰§è¡Œã€‚è¯¥æ–¹æ³•çš„çœŸæ­£ä½œç”¨æ˜¯ä½¿å…·æœ‰ç›¸åŒæˆ–è€…æ›´é«˜ä¼˜ å…ˆçº§çš„æ–¹æ³•å¾—åˆ°æ‰§è¡Œæœºä¼šã€‚ wait(timeout)ï¼šwait æ–¹æ³•é€šå¸¸å’Œ notify()/notifyAll()æ­é…ä½¿ç”¨ï¼Œå½“å‰çº¿ç¨‹æš‚åœæ‰§è¡Œï¼Œä¼šé‡Šæ”¾é” æ ‡è®°ã€‚è¿›å…¥å¯¹è±¡ç­‰å¾…æ± ã€‚ç›´åˆ°è°ƒç”¨ notify()æ–¹æ³•ä¹‹åï¼Œçº¿ç¨‹è¢«ç§»åŠ¨åˆ°é”æ ‡è®°ç­‰å¾…æ± ã€‚åªæœ‰é” æ ‡è®°ç­‰å¾…æ± çš„çº¿ç¨‹æ‰èƒ½è·å¾—é” 1.5 Joinçš„ç”¨æ³•è”åˆçº¿ç¨‹: çº¿ç¨‹çš„joinæ–¹æ³•è¡¨ç¤ºä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹å®Œæˆåæ‰æ‰§è¡Œã€‚æœ‰äººä¹ŸæŠŠè¿™ç§æ–¹å¼ç§°ä¸ºè”åˆçº¿ç¨‹ï¼Œå°±æ˜¯è¯´æŠŠå½“å‰çº¿ç¨‹å’Œå½“å‰çº¿ç¨‹æ‰€åœ¨çš„çº¿ç¨‹è”åˆæˆä¸€ä¸ªçº¿ç¨‹ã€‚joinæ–¹æ³•è¢«è°ƒç”¨ä¹‹åï¼Œçº¿ç¨‹å¯¹è±¡å¤„äºé˜»å¡çŠ¶æ€ã€‚ é€‚ç”¨äºAçº¿ç¨‹éœ€è¦ç­‰åˆ°Bçº¿ç¨‹æ‰§è¡Œå®Œæ¯•,å†æ‹¿Bçº¿ç¨‹çš„ç»“æœå†ç»§ç»­è¿è¡ŒAçº¿ç¨‹. è¯´äººè¯: Açº¿ç¨‹éœ€è¦æ‹¿åˆ°Bçº¿ç¨‹çš„æ‰§è¡Œç»“æœ,æ‰èƒ½ç»§ç»­å¾€ä¸‹. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081class Join extends Thread&#123; @Override public void run() &#123; for (int i = 0; i &lt; 50; i++) &#123; System.out.println("This is join: " + i); &#125; &#125;public class JoinThread &#123; public static void main(String[] args) throws InterruptedException &#123; System.out.println("begin..."); Join joinThread = new Join();//åˆ›å»ºjoinçº¿ç¨‹å¯¹è±¡ for (int i = 0; i &lt; 50; i++) &#123; System.out.println("main: " +i); if (i == 10)&#123; //å¯åŠ¨joinå¯¹è±¡ joinThread.start(); &#125; if (i == 20)&#123; System.out .println("------------------------------------------"); joinThread.join();//åœ¨æ­¤å¤„å¼ºåˆ¶è¿è¡Œè¯¥çº¿ç¨‹ &#125; &#125; &#125;&#125; ===================æ‰§è¡Œç»“æœ===================begin...main: 0main: 1main: 2main: 3main: 4main: 5main: 6main: 7main: 8main: 9main: 10main: 11main: 12main: 13This is join: 0main: 14This is join: 1This is join: 2This is join: 3main: 15This is join: 4main: 16main: 17main: 18main: 19main: 20------------------------------------------This is join: 5This is join: 6This is join: 7This is join: 8This is join: 9This is join: 10......This is join: 44This is join: 45This is join: 46This is join: 47This is join: 48This is join: 49main: 21main: 22main: 23main: 24main: 25main: 26main: 27main: 28main: 29main: 30 2. JavaåŒæ­¥å…³é”®è¯è§£é‡Š2.1. synchronizedå±äº JVM çº§åˆ«åŠ é”ï¼Œåº•å±‚å®ç°æ˜¯ï¼š åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œåœ¨æŒ‡ä»¤çº§åˆ«åŠ å…¥ä¸€äº›æ ‡è¯†æ¥å®ç°çš„ã€‚ 1. é”å¯¹è±¡æ³¨æ„ç‚¹: å¿…é¡»æ˜¯é”çš„åŒä¸€ä¸ªå¯¹è±¡ 2. é”è·å–å’Œé‡Šæ”¾ é”çš„è·å–æ˜¯ç”±JVMå†³å®šçš„, ç”¨æˆ·æ— æ³•æ“ä½œ é”çš„é‡Šæ”¾ä¹Ÿæ˜¯ç”±JVMå†³å®šçš„ Synchronized æ— æ³•ä¸­æ–­æ­£åœ¨é˜»å¡é˜Ÿåˆ—æˆ–è€…ç­‰å¾…é˜Ÿåˆ—çš„çº¿ç¨‹ã€‚ 3. ä»€ä¹ˆæ—¶å€™ä¼šé‡Šæ”¾ è·å–é”çš„çº¿ç¨‹æ‰§è¡Œå®Œäº†è¯¥ä»£ç å—ï¼Œç„¶åçº¿ç¨‹é‡Šæ”¾å¯¹é”çš„å æœ‰ï¼› çº¿ç¨‹æ‰§è¡Œå‘ç”Ÿå¼‚å¸¸ï¼Œæ­¤æ—¶ JVM ä¼šè®©çº¿ç¨‹è‡ªåŠ¨é‡Šæ”¾é”ã€‚ 4.æ ¼å¼ 1234// åŠ åŒæ­¥æ ¼å¼ï¼šsynchronized(éœ€è¦ä¸€ä¸ªä»»æ„çš„å¯¹è±¡ï¼ˆé”ï¼‰)&#123; ä»£ç å—ä¸­æ”¾æ“ä½œå…±äº«æ•°æ®çš„ä»£ç ã€‚&#125; 5.çº¿ç¨‹æ‰§è¡Œäº’æ–¥ä»£ç çš„è¿‡ç¨‹ è·å¾—äº’æ–¥é” æ¸…ç©ºå·¥ä½œå†…å­˜ ä»ä¸»å†…å­˜æ‹·è´å˜é‡çš„æœ€æ–°å‰¯æœ¬åˆ°å·¥ä½œå†…å­˜ æ‰§è¡Œä»£ç  å°†æ›´æ–°åçš„å…±äº«å˜é‡çš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ é‡Šæ”¾äº’æ–¥é” Lock -&gt; ä¸»å†…å­˜ -&gt; å·¥ä½œå†…å­˜ -&gt; ä¸»å†…å­˜ -&gt; unlock 2.2 Lockæ‰‹åŠ¨è·å–æˆ–é‡Šæ”¾é”, æä¾›äº†æ¯” synchronized æ›´å¤šçš„åŠŸèƒ½ Lock é”æ˜¯ Java ä»£ç çº§åˆ«æ¥å®ç°çš„ï¼Œç›¸å¯¹äº synchronized åœ¨åŠŸèƒ½æ€§ä¸Šï¼Œæœ‰æ‰€åŠ å¼ºï¼Œä¸»è¦æ˜¯ï¼Œå…¬å¹³é”ï¼Œè½® è¯¢é”ï¼Œå®šæ—¶é”ï¼Œå¯ä¸­æ–­é”ç­‰ï¼Œè¿˜å¢åŠ äº†å¤šè·¯é€šçŸ¥æœºåˆ¶ï¼ˆConditionï¼‰ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªé”æ¥ç®¡ç†å¤š ä¸ªåŒæ­¥å—ã€‚å¦å¤–åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¿…é¡»æ‰‹åŠ¨çš„é‡Šæ”¾é”ã€‚Lock é”çš„å®ç°ï¼Œä¸»è¦æ˜¯å€ŸåŠ©äºé˜Ÿåˆ—åŒ æ­¥å™¨ï¼ˆæˆ‘ä»¬å¸¸å¸¸è§åˆ°çš„ AQSï¼‰æ¥å®ç°ã€‚å®ƒåŒ…æ‹¬ä¸€ä¸ª int å˜é‡æ¥è¡¨ç¤ºçŠ¶æ€ï¼›ä¸€ä¸ª FIFO é˜Ÿåˆ—ï¼Œæ¥ å­˜å‚¨è·å–èµ„æºçš„æ’é˜Ÿçº¿ç¨‹ã€‚ åŸºæœ¬ä½¿ç”¨ 12345678910111213class X &#123; // åˆ›å»ºä¸€æŠŠé” private final ReentrantLock lock = new ReentrantLock(); // éœ€è¦åšåŒæ­¥çš„æ–¹æ³• public void m() &#123; lock.lock(); //è·å–ğŸ”, åŠ é” try &#123; // ä»£ç  &#125; finally &#123; lock.unlock(); // é‡Šæ”¾ğŸ” &#125; &#125;&#125; 1. lock å’Œ synchronized çš„åŒºåˆ« Lock ä¸æ˜¯ Java è¯­è¨€å†…ç½®çš„ï¼Œsynchronized æ˜¯ Java è¯­è¨€çš„å…³é”®å­—ï¼Œå› æ­¤æ˜¯å†…ç½®ç‰¹æ€§ã€‚Lock æ˜¯ä¸€ä¸ªç±»ï¼Œé€šè¿‡è¿™ä¸ªç±»å¯ä»¥å®ç°åŒæ­¥è®¿é—®ï¼› Lock å’Œ synchronized æœ‰ä¸€ç‚¹éå¸¸å¤§çš„ä¸åŒï¼Œé‡‡ç”¨ synchronized ä¸éœ€è¦ç”¨æˆ·å»æ‰‹åŠ¨é‡Šæ”¾é”ï¼Œ å½“ synchronized æ–¹æ³•æˆ–è€… synchronized ä»£ç å—æ‰§è¡Œå®Œä¹‹åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®©çº¿ç¨‹é‡Šæ”¾å¯¹é”çš„å  ç”¨ï¼›è€Œ Lock åˆ™å¿…é¡»è¦ç”¨æˆ·å»æ‰‹åŠ¨é‡Šæ”¾é”ï¼Œå¦‚æœæ²¡æœ‰ä¸»åŠ¨é‡Šæ”¾é”ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´å‡ºç°æ­»é”ç° è±¡ã€‚ 2. Lock æ¥å£ä¸­æ–¹æ³•çš„ä½¿ç”¨ ReentrantLock ç±» ReentrantLock æ˜¯å”¯ä¸€å®ç°äº† Lock æ¥å£çš„ç±»ï¼Œå¹¶ä¸” ReentrantLock æä¾›äº†æ›´å¤šçš„æ–¹æ³•ï¼ŒReentrantLockï¼Œæ„æ€æ˜¯â€œå¯é‡å…¥é”â€ã€‚ lock()ã€tryLock()ã€tryLock(long time, TimeUnit unit)ã€lockInterruptibly()æ˜¯ç”¨æ¥è·å–é”çš„ã€‚ unLock()æ–¹æ³•æ˜¯ç”¨æ¥é‡Šæ”¾é”çš„ã€‚ å››ä¸ªè·å–é”æ–¹æ³•çš„åŒºåˆ« lock()ï¼Œé˜»å¡æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯å¹³å¸¸ä½¿ç”¨å¾—æœ€å¤šçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯ç”¨æ¥è·å–é”ã€‚å¦‚æœé”å·²è¢« å…¶ä»–çº¿ç¨‹è·å–ï¼Œåˆ™è¿›è¡Œç­‰å¾…ã€‚ç”±äºåœ¨å‰é¢è®²åˆ°å¦‚æœé‡‡ç”¨ Lockï¼Œå¿…é¡»ä¸»åŠ¨å»é‡Šæ”¾é”ï¼Œå¹¶ä¸”åœ¨ å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨é‡Šæ”¾é”ã€‚å› æ­¤ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ Lock å¿…é¡»åœ¨ try{}catch{}å—ä¸­è¿›è¡Œï¼Œå¹¶ ä¸”å°†é‡Šæ”¾é”çš„æ“ä½œæ”¾åœ¨ finally å—ä¸­è¿›è¡Œï¼Œä»¥ä¿è¯é”ä¸€å®šè¢«è¢«é‡Šæ”¾ï¼Œé˜²æ­¢æ­»é”çš„å‘ç”Ÿã€‚ tryLock()ï¼Œéé˜»å¡æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå®ƒè¡¨ç¤ºç”¨æ¥å°è¯•è·å–é”ï¼Œå¦‚æœè·å–æˆåŠŸï¼Œ åˆ™è¿”å› trueï¼Œå¦‚æœè·å–å¤±è´¥ï¼ˆå³é”å·²è¢«å…¶ä»–çº¿ç¨‹è·å–ï¼‰ï¼Œåˆ™è¿”å› falseï¼Œä¹Ÿå°±è¯´è¿™ä¸ªæ–¹æ³•æ— è®º å¦‚ä½•éƒ½ä¼šç«‹å³è¿”å›ã€‚åœ¨æ‹¿ä¸åˆ°é”æ—¶ä¸ä¼šä¸€ç›´åœ¨é‚£ç­‰å¾…ã€‚ tryLock(long time, TimeUnit unit)ï¼Œé˜»å¡æ–¹æ³•ï¼Œé˜»å¡ç»™å®šæ—¶é•¿ï¼Œè¯¥æ–¹æ³•å’Œ tryLock()æ–¹æ³•æ˜¯ ç±»ä¼¼çš„ï¼Œåªä¸è¿‡åŒºåˆ«åœ¨äºè¿™ä¸ªæ–¹æ³•åœ¨æ‹¿ä¸åˆ°é”æ—¶ä¼šç­‰å¾…ä¸€å®šçš„æ—¶é—´ï¼Œåœ¨æ—¶é—´æœŸé™ä¹‹å†…å¦‚æœè¿˜ æ‹¿ä¸åˆ°é”ï¼Œå°±è¿”å› falseã€‚å¦‚æœä¸€å¼€å§‹æ‹¿åˆ°é”æˆ–è€…åœ¨ç­‰å¾…æœŸé—´å†…æ‹¿åˆ°äº†é”ï¼Œåˆ™è¿”å› trueã€‚ lockInterruptibly()è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒç‰¹æ®Šï¼Œå½“é€šè¿‡è¿™ä¸ªæ–¹æ³•å»è·å–é”æ—¶ï¼Œå¦‚æœçº¿ç¨‹æ­£åœ¨ç­‰å¾… è·å–é”ï¼Œåˆ™è¿™ä¸ªçº¿ç¨‹èƒ½å¤Ÿå“åº”ä¸­æ–­ï¼Œå³ä¸­æ–­çº¿ç¨‹çš„ç­‰å¾…çŠ¶æ€ã€‚ä¹Ÿå°±ä½¿è¯´ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶é€š è¿‡ lock.lockInterruptibly()æƒ³è·å–æŸä¸ªé”æ—¶ï¼Œå‡è‹¥æ­¤æ—¶çº¿ç¨‹ A è·å–åˆ°äº†é”ï¼Œè€Œçº¿ç¨‹ B åªæœ‰åœ¨ç­‰ å¾…ï¼Œé‚£ä¹ˆå¯¹çº¿ç¨‹ B è°ƒç”¨ threadB.interrupt()æ–¹æ³•èƒ½å¤Ÿä¸­æ–­çº¿ç¨‹ B çš„ç­‰å¾…è¿‡ç¨‹ã€‚ 2.3 Lock ä¸ synchronized çš„é€‰æ‹© Lock æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œ synchronized æ˜¯ Java ä¸­çš„å…³é”®å­—ï¼Œsynchronized æ˜¯å†…ç½®çš„è¯­è¨€å®ç°ï¼› synchronized åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾çº¿ç¨‹å æœ‰çš„é”ï¼Œå› æ­¤ä¸ä¼šå¯¼è‡´æ­»é”ç°è±¡å‘ç”Ÿï¼› è€Œ Lock åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¸»åŠ¨é€šè¿‡ unLock()å»é‡Šæ”¾é”ï¼Œåˆ™å¾ˆå¯èƒ½é€ æˆæ­»é”ç°è±¡ï¼Œå›  æ­¤ä½¿ç”¨ Lock æ—¶éœ€è¦åœ¨ finally å—ä¸­é‡Šæ”¾é”ï¼› Lock å¯ä»¥è®©ç­‰å¾…é”çš„çº¿ç¨‹å“åº”ä¸­æ–­ï¼Œè€Œ synchronized å´ä¸è¡Œï¼Œä½¿ç”¨ synchronized æ—¶ï¼Œç­‰ å¾…çš„çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œä¸èƒ½å¤Ÿå“åº”ä¸­æ–­ï¼› é€šè¿‡ Lock å¯ä»¥çŸ¥é“æœ‰æ²¡æœ‰æˆåŠŸè·å–é”ï¼Œè€Œ synchronized å´æ— æ³•åŠåˆ°ã€‚ Lock å¯ä»¥æé«˜å¤šä¸ªçº¿ç¨‹è¿›è¡Œè¯»æ“ä½œçš„æ•ˆç‡ã€‚ 2.4 è¯»å†™é” çº¿ç¨‹è¿›å…¥è¯»é”çš„å‰ææ¡ä»¶ï¼š æ²¡æœ‰å…¶ä»–çº¿ç¨‹çš„å†™é”, æ²¡æœ‰å†™è¯·æ±‚æˆ–è€…æœ‰å†™è¯·æ±‚ï¼Œä½†è°ƒç”¨çº¿ç¨‹å’ŒæŒæœ‰é”çš„çº¿ç¨‹æ˜¯åŒä¸€ä¸ª çº¿ç¨‹è¿›å…¥å†™é”çš„å‰ææ¡ä»¶ï¼š æ²¡æœ‰å…¶ä»–çº¿ç¨‹çš„è¯»é”, æ²¡æœ‰å…¶ä»–çº¿ç¨‹çš„å†™é” ReentrantReadWriteLock ä¸ ReentrantLock éƒ½æ˜¯å•ç‹¬çš„å®ç°ï¼Œå½¼æ­¤ä¹‹é—´æ²¡æœ‰ç»§æ‰¿æˆ–å®ç°çš„å…³ç³»ã€‚ ReadWriteLock ç±»123456// API// å¯ä»¥åŒºåˆ«å¯¹å¾…è¯»ã€å†™çš„æ“ä½œpublic interface ReadWriteLock &#123; Lock readLock(); Lock writeLock();&#125; ReentrantReadWriteLock ç±» ReentrantReadWriteLock é‡Œé¢æä¾›äº†å¾ˆå¤šä¸°å¯Œçš„æ–¹æ³•ï¼Œä¸è¿‡æœ€ä¸»è¦çš„æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šreadLock()å’Œ writeLock()ç”¨æ¥è·å–è¯»é”å’Œå†™é”ã€‚ æ³¨æ„ï¼šä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªçº¿ç¨‹å·²ç»å ç”¨äº†è¯»é”ï¼Œåˆ™æ­¤æ—¶å…¶ä»–çº¿ç¨‹å¦‚æœè¦ç”³è¯·å†™ é”ï¼Œåˆ™ç”³è¯·å†™é”çš„çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…é‡Šæ”¾è¯»é”ã€‚ å¦‚æœæœ‰ä¸€ä¸ªçº¿ç¨‹å·²ç»å ç”¨äº†å†™é”ï¼Œåˆ™æ­¤æ—¶å…¶ä»–çº¿ç¨‹å¦‚æœç”³è¯·å†™é”æˆ–è€…è¯»é”ï¼Œåˆ™ç”³è¯·çš„çº¿ç¨‹ ä¼šä¸€ç›´ç­‰å¾…é‡Šæ”¾å†™é”ã€‚ 2.5 æ­»é”æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡ï¼Œ è‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚è¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå› ä¸ºæ­»é”ä¼šè®©ä½ çš„ç¨‹åºæŒ‚èµ· æ— æ³•å®Œæˆä»»åŠ¡ã€‚ æ­»é”çš„å‘ç”Ÿå¿…é¡»æ»¡è¶³ä»¥ä¸‹å››ä¸ªæ¡ä»¶ï¼š äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚ è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœ«ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚ å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ é¿å…æ­»é”æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯é˜»æ­¢å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼Œå°†ç³»ç»Ÿä¸­æ‰€æœ‰çš„èµ„æºè®¾ç½®æ ‡å¿—ä½ã€æ’åºï¼Œè§„ å®šæ‰€æœ‰çš„è¿›ç¨‹ç”³è¯·èµ„æºå¿…é¡»ä»¥ä¸€å®šçš„é¡ºåºï¼ˆå‡åºæˆ–é™åºï¼‰åšæ“ä½œæ¥é¿å…æ­»é” 2.6 Volatile ç‰¹æ®ŠåŸŸå˜é‡å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œæˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜é›†ä¸­åœ¨ä¸‰ä¸ªæ–¹é¢ï¼š åŸå­æ€§ã€‚æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯ï¼Œi++,åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ä¸ç¡®å®šçš„ï¼Œä¸ºä»€ä¹ˆï¼Ÿå°± æ˜¯å› ä¸ºè¿™ä¹ˆä¸€ä¸ª++æ“ä½œï¼Œè¢«ç¼–è¯‘ä¸ºè®¡ç®—æœºåº•å±‚æŒ‡ä»¤åï¼Œæ˜¯å¤šä¸ªæŒ‡ä»¤æ¥å®Œæˆçš„ã€‚é‚£ä¹ˆé‡åˆ°å¹¶å‘ çš„æƒ…å†µï¼Œå°±ä¼šå¯¼è‡´å½¼æ­¤â€œè¦†ç›–â€çš„æƒ…å†µã€‚ å¯è§æ€§ã€‚é€šä¿—è§£é‡Šå°±æ˜¯ï¼Œåœ¨ A çº¿ç¨‹å¯¹ä¸€ä¸ªå˜é‡åšäº†ä¿®æ”¹ï¼Œåœ¨ B çº¿ç¨‹ä¸­ï¼Œèƒ½æ­£ç¡®çš„è¯»å–åˆ° ä¿®æ”¹åçš„ç»“æœã€‚ç©¶å…¶åŸç†ï¼Œæ˜¯ cpu ä¸æ˜¯ç›´æ¥å’Œç³»ç»Ÿå†…å­˜é€šä¿¡ï¼Œè€Œæ˜¯æŠŠå˜é‡è¯»å–åˆ° L1ï¼ŒL2 ç­‰ å†…éƒ¨çš„ç¼“å­˜ä¸­ï¼Œä¹Ÿå«ä½œç§æœ‰çš„æ•°æ®å·¥ä½œæ ˆã€‚ä¿®æ”¹ä¹Ÿæ˜¯åœ¨å†…éƒ¨ç¼“å­˜ä¸­ï¼Œä½†æ˜¯ä½•æ—¶åŒæ­¥åˆ°ç³»ç»Ÿå†… å­˜æ˜¯ä¸èƒ½ç¡®å®šçš„ï¼Œæœ‰äº†è¿™ä¸ªæ—¶é—´å·®ï¼Œåœ¨å¹¶å‘çš„æ—¶å€™ï¼Œå°±å¯èƒ½ä¼šå¯¼è‡´ï¼Œè¯»åˆ°çš„å€¼ï¼Œä¸æ˜¯æœ€æ–°å€¼ã€‚ æŒ‡ä»¤é‡æ’ã€‚è¿™é‡Œåªè¯´æŒ‡ä»¤é‡æ’åºï¼Œè™šæ‹Ÿæœºåœ¨æŠŠä»£ç ç¼–è¯‘ä¸ºæŒ‡ä»¤åæ‰§è¡Œï¼Œå‡ºäºä¼˜åŒ–çš„ç›®çš„ï¼Œ åœ¨ä¿è¯ç»“æœä¸å˜çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šè°ƒæ•´æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºã€‚ valotileï¼Œèƒ½æ»¡è¶³ä¸Šè¿°çš„å¯è§æ€§å’Œæœ‰åºæ€§ã€‚ä½†æ˜¯æ— æ³•ä¿è¯åŸå­æ€§ã€‚ å¯è§æ€§ï¼Œæ˜¯åœ¨ä¿®æ”¹åï¼Œå¼ºåˆ¶æŠŠå¯¹å˜é‡çš„ä¿®æ”¹åŒæ­¥åˆ°ç³»ç»Ÿå†…å­˜ã€‚è€Œå…¶ä»– cpu åœ¨è¯»å–è‡ªå·±çš„å†…éƒ¨ ç¼“å­˜ä¸­çš„å€¼çš„æ—¶å€™ï¼Œå‘ç°æ˜¯ valotile ä¿®é¥°çš„ï¼Œä¼šæŠŠå†…éƒ¨ç¼“å­˜ä¸­çš„å€¼ï¼Œç½®ä¸ºæ— æ•ˆï¼Œç„¶åä»ç³»ç»Ÿ å†…å­˜è¯»å–ã€‚ æœ‰åºæ€§ï¼Œæ˜¯é€šè¿‡å†…å­˜å±éšœæ¥å®ç°çš„ã€‚æ‰€è°“çš„å†…å­˜å±éšœï¼Œå¯ä»¥ç†è§£ä¸ºï¼Œåœ¨æŸäº›æŒ‡ä»¤ä¸­ï¼Œæ’å…¥å± éšœæŒ‡ä»¤ï¼Œç”¨ä»¥ç¡®ä¿ï¼Œåœ¨å‘å±éšœæŒ‡ä»¤åé¢ç»§ç»­æ‰§è¡Œçš„æ—¶å€™ï¼Œå…¶å‰é¢çš„æ‰€æœ‰æŒ‡ä»¤å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚ 3. Javaå¤šçº¿ç¨‹ä¸­å¸¸è§çš„é¢è¯•é¢˜1. sleep(),wait(),join(),yield()å››ä¸ªæ–¹æ³•çš„åŒºåˆ«æ€»ç»“ï¼š 1ï¼‰ï¼šsleep()ï¼ŒThread ç±»ä¸­çš„æ–¹æ³•ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œä¸é‡Šæ”¾é” 2ï¼‰ï¼šwait()ï¼ŒObject ç±»ä¸­çš„æ–¹æ³•ï¼Œè¡¨ç¤ºçº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œé‡Šæ”¾é”ï¼Œæ‰€ä»¥ä¸€èˆ¬èƒ½è°ƒç”¨è¿™ä¸ªæ–¹ æ³•çš„éƒ½æ˜¯åŒæ­¥ä»£ç å—ï¼Œæˆ–è€…è·å–äº†é”çš„çº¿ç¨‹ä»£ç ï¼Œé€šå¸¸å’Œ notify()å’Œ notifyAll()æ–¹æ³•ç»“åˆä½¿ç”¨ 3ï¼‰ï¼šjoin()ï¼ŒThread ç±»ä¸­çš„æ–¹æ³•ï¼Œå‡å¦‚åœ¨ a çº¿ç¨‹ä¸­è°ƒç”¨ b çº¿ç¨‹å¯¹è±¡çš„ join()æ–¹æ³•ï¼Œè¡¨ç¤ºå½“å‰ a çº¿ç¨‹é˜»å¡ï¼Œç›´åˆ° b çº¿ç¨‹è¿è¡Œç»“æŸ 4ï¼‰ï¼šyield()ï¼ŒThread ç±»ä¸­çš„æ–¹æ³•ï¼Œè¡¨ç¤ºçº¿ç¨‹å›å¯æ‰§è¡ŒçŠ¶æ€ã€‚è·Ÿ sleep æ–¹æ³•ä¸€æ ·ï¼Œä¹Ÿä¸äº¤å‡ºé”ï¼Œ åªä¸è¿‡ä¸å¸¦æ—¶é—´å‚æ•°ï¼Œæ˜¯æŒ‡äº¤å‡º cpu 2. Thread å’Œ Runnable çš„åŒºåˆ«æ€»ç»“ï¼š å®ç° Runnable æ¥å£æ¯”ç»§æ‰¿ Thread ç±»æ‰€å…·æœ‰çš„ä¼˜åŠ¿ï¼š 1ï¼‰ï¼šé€‚åˆå¤šä¸ªç›¸åŒçš„ç¨‹åºä»£ç çš„çº¿ç¨‹å»å¤„ç†åŒä¸€ä¸ªèµ„æº 2ï¼‰ï¼šå¯ä»¥é¿å… java ä¸­çš„å•ç»§æ‰¿çš„é™åˆ¶ 3ï¼‰ï¼šå¢åŠ ç¨‹åºçš„å¥å£®æ€§ï¼Œä»£ç å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å…±äº«ï¼Œä»£ç å’Œæ•°æ®ç‹¬ç«‹ 4ï¼‰ï¼šçº¿ç¨‹æ± åªèƒ½æ”¾å…¥å®ç° Runable æˆ– callable ç±»çº¿ç¨‹ï¼Œä¸èƒ½ç›´æ¥æ”¾å…¥ç»§æ‰¿ Thread çš„ç±» â€¦]]></content>
      <categories>
        <category>Java</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaåŸºç¡€å¢å¼º-1 é›†åˆåå°„è®¾è®¡æ¨¡å¼æ’åº]]></title>
    <url>%2F2018%2F05%2F29%2FJava%2FJava%E5%9F%BA%E7%A1%80%E5%A2%9E%E5%BC%BA-1%2F</url>
    <content type="text"><![CDATA[1ã€é›†åˆæ¡†æ¶1.1 ã€é›†åˆæ¡†æ¶ä½“ç³»å›¾ Java çš„é›†åˆæ¡†æ¶ä¸»è¦åˆ†ä¸ºäº”å¤§ç±»ä½“ç³»ï¼š1ã€Collectionï¼ˆå¸¸ç”¨çš„ List å’Œ Setï¼Œå’Œä¸å¸¸ç”¨çš„ Queue å’Œ Vector å’Œ Stackï¼‰ï¼Œå•å…ƒç´ é›†åˆ2ã€Mapï¼ˆå¸¸ç”¨çš„ HashMap å’Œ TreeMapï¼Œä¸å¸¸ç”¨çš„ HashTableï¼‰ï¼ŒKey-Value æ˜ å°„3ã€Iteratorï¼ˆè¿­ä»£å™¨ï¼‰4ã€å·¥å…·ç±»ï¼ˆCollections å’Œ Arraysï¼‰5ã€Comparable å’Œ Comparator æ¯”è¾ƒå™¨ Java ä¸­çš„é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«:1ã€æ•°ç»„é•¿åº¦åœ¨åˆå§‹åŒ–æ—¶æŒ‡å®šï¼Œæ„å‘³ç€åªèƒ½ä¿å­˜å®šé•¿çš„æ•°æ®ã€‚è€Œé›†åˆå¯ä»¥ä¿å­˜æ•°é‡ä¸ç¡®å®šçš„ æ•°æ®ã€‚åŒæ—¶å¯ä»¥ä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼ˆå³å…³è”æ•°ç»„ï¼Œé”®å€¼å¯¹ key-valueï¼‰ã€‚ 2ã€æ•°ç»„å…ƒç´ å³å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚é›†åˆé‡Œåªèƒ½ä¿å­˜å¯¹è±¡ï¼ˆå®é™…ä¸Šåªæ˜¯ä¿å­˜å¯¹è±¡çš„å¼•ç”¨å˜é‡ï¼‰ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡è¦è½¬æ¢æˆå¯¹åº”çš„åŒ…è£…ç±»æ‰èƒ½æ”¾å…¥é›†åˆç±»ä¸­ã€‚ Collection æ¥å£ä¸­çš„æ–¹æ³•ï¼š Map æ¥å£ä¸­çš„æ–¹æ³•ï¼š 1.2ã€å¸¸ç”¨é›†åˆç‰¹æ€§æ¦‚è¿°1.2.1 List ç³» List ç‰¹ç‚¹ï¼šå…ƒç´ æœ‰æ”¾å…¥é¡ºåºï¼Œå…ƒç´ å¯é‡å¤ List æ¥å£æœ‰ä¸‰ä¸ªå®ç°ç±»ï¼šLinkedListï¼ŒArrayListï¼ŒVector LinkedListï¼šåº•å±‚åŸºäºé“¾è¡¨å®ç°ï¼Œé“¾è¡¨å†…å­˜æ˜¯æ•£ä¹±çš„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ å­˜å‚¨æœ¬èº«å†…å­˜åœ°å€çš„åŒæ—¶è¿˜ å­˜å‚¨ä¸‹ä¸€ä¸ªå…ƒç´ çš„åœ°å€ã€‚é“¾è¡¨å¢åˆ å¿«ï¼ŒæŸ¥æ‰¾æ…¢ ArrayList å’Œ Vector åº•å±‚éƒ½æ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼ŒåŒºåˆ«æ˜¯ ArrayList æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼›Vector æ˜¯åŸºäºçº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ ArrayList çš„åˆå§‹åŒ–å¤§å°æ˜¯ 10ï¼Œæ‰©å®¹ç­–ç•¥æ˜¯ 1.5 å€åŸå…ƒç´ æ•°é‡çš„å¤§å° æ•°ç»„ åˆå§‹å®¹é‡+æ‰©å®¹ (jdk10)12345678910111213141516171819// åˆå§‹å®¹é‡private static final int DEFAULT_CAPACITY = 10;// æ‰©å®¹private int newCapacity(int minCapacity) &#123; // overflow-conscious code int oldCapacity = elementData.length; int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); if (newCapacity - minCapacity &lt;= 0) &#123; if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) return Math.max(DEFAULT_CAPACITY, minCapacity); if (minCapacity &lt; 0) // overflow throw new OutOfMemoryError(); return minCapacity; &#125; return (newCapacity - MAX_ARRAY_SIZE &lt;= 0) ? newCapacity : hugeCapacity(minCapacity); &#125; é€‰æ‹©æ ‡å‡†ï¼š å¦‚æœæ¶‰åŠåˆ°â€œåŠ¨æ€æ•°ç»„â€ã€â€œæ ˆâ€ã€â€œé˜Ÿåˆ—â€ã€â€œé“¾è¡¨â€ç­‰ç»“æ„ï¼Œåº”è¯¥è€ƒè™‘ç”¨ Listï¼Œå…·ä½“çš„é€‰æ‹©å“ª ä¸ª Listï¼Œæ ¹æ®ä¸‹é¢çš„æ ‡å‡†æ¥å–èˆã€‚ 1ã€å¯¹äºéœ€è¦å¿«é€Ÿæ’å…¥ï¼Œåˆ é™¤å…ƒç´ ï¼Œåº”è¯¥ä½¿ç”¨ LinkedListã€‚ï¼ˆå¢åˆ æ”¹ï¼‰ 2ã€å¯¹äºéœ€è¦å¿«é€Ÿéšæœºè®¿é—®å…ƒç´ ï¼Œåº”è¯¥ä½¿ç”¨ ArrayListã€‚ï¼ˆæŸ¥è¯¢ï¼‰ 3ã€å¯¹äºâ€œå•çº¿ç¨‹ç¯å¢ƒâ€æˆ–è€…â€œå¤šçº¿ç¨‹ç¯å¢ƒï¼Œä½† List ä»…ä»…åªä¼šè¢«å•ä¸ªçº¿ç¨‹æ“ä½œâ€ï¼Œæ­¤æ—¶åº”è¯¥ä½¿ ç”¨éåŒæ­¥çš„ç±»(å¦‚ ArrayList)ã€‚å¯¹äºâ€œå¤šçº¿ç¨‹ç¯å¢ƒï¼Œä¸” List å¯èƒ½åŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹æ“ä½œâ€ï¼Œæ­¤æ—¶ï¼Œ åº”è¯¥ä½¿ç”¨åŒæ­¥çš„ç±»(å¦‚ Vector)ã€‚ LinkedList add(E e)1234567891011121314151617# add(E e) æºç public boolean add(E e) &#123; linkLast(e); return true;&#125; void linkLast(E e) &#123; final Node&lt;E&gt; l = last; final Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null); last = newNode; if (l == null) first = newNode; else l.next = newNode; size++; modCount++;&#125; 1.2.2ã€Set ç³» Set ç‰¹ç‚¹ï¼šå…ƒç´ æ”¾å…¥æ— é¡ºåºï¼Œå…ƒç´ ä¸å¯é‡å¤ Set æ¥å£çš„å®ç°ç±»ï¼šHashSetï¼ŒTreeSetï¼ŒLinkedHashSet HashSetï¼ˆåº•å±‚ç”± HashMap å®ç°ï¼‰åº•å±‚é€šè¿‡ hashCode()å’Œ equals()è¿›è¡Œå»é‡ã€‚ HashSet å†…éƒ¨åˆ¤æ–­ç›¸ç­‰çš„æ ‡å‡†HashSet åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†ï¼š â€‹ ä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals()æ–¹æ³•æ¯”è¾ƒç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„ hashCode()æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ HashSet ä¸­åˆ¤æ–­é›†åˆå…ƒç´ ç›¸ç­‰ï¼Œä¸¤ä¸ªå¯¹è±¡æ¯”è¾ƒå…·ä½“åˆ†ä¸ºå¦‚ä¸‹å››ä¸ªæƒ…å†µï¼š å¦‚æœæœ‰ä¸¤ä¸ªå…ƒç´ é€šè¿‡ equal()æ–¹æ³•æ¯”è¾ƒè¿”å› falseï¼Œå¹¶ä¸”å®ƒä»¬çš„ hashCode()æ–¹æ³•è¿”å›ä¸ç›¸ç­‰ï¼Œ HashSet å°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ã€‚ å¦‚æœæœ‰ä¸¤ä¸ªå…ƒç´ é€šè¿‡ equal()æ–¹æ³•æ¯”è¾ƒè¿”å› trueï¼Œå¹¶ä¸”å®ƒä»¬çš„ hashCode()æ–¹æ³•è¿”å›ä¸ç›¸ç­‰ï¼Œ HashSet å°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ã€‚ å¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals()æ–¹æ³•æ¯”è¾ƒä¸ç›¸ç­‰ï¼ŒhashCode()æ–¹æ³•æ¯”è¾ƒç›¸ç­‰ï¼ŒHashSet å°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ç›¸åŒçš„ä½ç½®ï¼Œåœ¨è¿™ä¸ªä½ç½®ä»¥é“¾è¡¨å¼ç»“æ„æ¥ä¿å­˜å¤šä¸ªå¯¹è±¡ã€‚è¿™æ˜¯å› ä¸ºå½“å‘ HashSet é›†åˆä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHashSet ä¼šè°ƒç”¨å¯¹è±¡çš„ hashCode()æ–¹æ³•æ¥å¾—åˆ°å¯¹è±¡çš„ hashCode å€¼ï¼Œ ç„¶åæ ¹æ®è¯¥ hashCode å€¼æ¥å†³å®šè¯¥å¯¹è±¡å­˜å‚¨åœ¨ HashSet ä¸­å­˜å‚¨ä½ç½®ã€‚ å¦‚æœæœ‰ä¸¤ä¸ªå…ƒç´ é€šè¿‡ equal()æ–¹æ³•æ¯”è¾ƒè¿”å› trueï¼Œå¹¶ä¸”å®ƒä»¬çš„ hashCode()æ–¹æ³•è¿”å› trueï¼ŒHashSet å°†ä¸äºˆæ·»åŠ ã€‚ LinkedHashSetï¼Œæ˜¯ HashSet çš„å­ç±»ï¼Œåœ¨æ’å…¥å…ƒç´ çš„æ—¶å€™ï¼ŒåŒæ—¶ä½¿ç”¨é“¾è¡¨ç»´æŒæ’å…¥å…ƒç´ çš„é¡ºåº SortedSet æ¥å£æœ‰ä¸€ä¸ªå®ç°ç±»ï¼šTreeSetï¼ˆåº•å±‚ç”±å¹³è¡¡äºŒå‰æ ‘å®ç°ï¼‰ç¡®ä¿é›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯å‡ºäºæ’åºçŠ¶æ€ æ³¨æ„ LinkedHashSet å’Œ SortedSet åŒºåˆ«ï¼Œå‰è€…å­˜æ’å…¥é¡ºåºï¼Œåè€…å­˜æ’å…¥ä¹‹åçš„é¡ºåº å¦å¤–: JDK5 : æ¡¶è¡¨ + é“¾è¡¨ JDK8 : æ¡¶è¡¨ + é“¾è¡¨ + äºŒå‰æ ‘ - **äºŒå‰æ ‘**: æ£€ç´¢æ·±åº¦ &gt; 8 çš„æ—¶å€™, è½¬åŒ–ä¸ºäºŒå‰æ ‘, å‡å°‘æŸ¥è¯¢æ·±åº¦ HashSet â€” HashMap çš„æºç å®ç°123456789101112131415161718192021222324252627282930313233343536373839/** * The default initial capacity - MUST be a power of two. * æ¡¶è¡¨é»˜è®¤å®¹é‡ 16 * æ§åˆ¶hashcode ä¸è¶…16èŒƒå›´, a.hashcode = xx % 16 (hashcode å–æ¨¡ æ¡¶ä¸ªæ•°) */static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16/** * MUST be a power of two &lt;= 1&lt;&lt;30. * æ¡¶è¡¨æœ€å¤§ 2^30 */static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;/** * æ‰©å®¹å› å­: 0.75 * æ‰©å®¹: æ¯æ¬¡2å€ */static final float DEFAULT_LOAD_FACTOR = 0.75f;/** * é“¾è¡¨: hashç®—æ³•å€¼ç›¸åŒçš„æ—¶å€™, ä¼šæŠŠå€¼ç›¸åŒçš„æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨ä¸Š, é“¾è¡¨ä¸Šçš„å…ƒç´ ä¸ªæ•° * è¶…è¿‡8ä¸ªæ—¶, è½¬åŒ–ä¸ºäºŒå‰æ ‘, æå‡æŸ¥è¯¢æ•ˆç‡ */static final int TREEIFY_THRESHOLD = 8;/** * The bin count threshold for untreeifying a (split) bin during a * resize operation. Should be less than TREEIFY_THRESHOLD, and at * most 6 to mesh with shrinkage detection under removal. */static final int UNTREEIFY_THRESHOLD = 6;/** * The smallest table capacity for which bins may be treeified. * (Otherwise the table is resized if too many nodes in a bin.) * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts * between resizing and treeification thresholds. */static final int MIN_TREEIFY_CAPACITY = 64; TreeSetçš„é»˜è®¤æ’åº TreeSetæ˜¯æœ‰åºçš„ä¸å¯é‡å¤çš„, æœ‰åºæ˜¯æŒ‡å…ƒç´ å€¼çš„å¤§å° æ•°å€¼ç±»å‹: æŒ‰ç…§å¤§å°è¿›è¡Œå‡åºæ’åº å­—ç¬¦ä¸²ç±»å‹: æŒ‰ç…§å­—å…¸é¡ºåºè¿›è¡Œå‡åºæ’åº å­—ç¬¦ä¸²ä»å·¦åˆ°å³, ä¸€ä½ä¸€ä½çš„æ¯”è¾ƒ è‡ªå®šä¹‰TreeSetç±»å‹: å®ç° compareToæ–¹æ³•, è¿”å›ä¸º0çš„æƒ…å†µä¼šé»˜è®¤è¦†ç›– 1.2.2ã€Map ç³»Map ç‰¹ç‚¹ï¼šå­˜å‚¨çš„å…ƒç´ æ˜¯é”®å€¼å¯¹ï¼Œåœ¨ JDK1.8 ç‰ˆæœ¬ä¸­æ˜¯ Nodeï¼Œåœ¨è€ç‰ˆæœ¬ä¸­æ˜¯ Entry Map æ¥ å£ æœ‰ äº” ä¸ª å¸¸ç”¨ å® ç° ç±» ï¼š HashMap ï¼Œ HashTable ï¼Œ LinkeHashMap ï¼Œ TreeMap ï¼Œ ConcurrentHashMap 1. HashMap &amp; Hashtable çš„åŒºåˆ«HashMap 1. éçº¿ç¨‹å®‰å…¨, æ•ˆç‡é«˜ 2. keyä¸å¯ä»¥é‡å¤ 3. keyå¯ä»¥ä¸ºnull, ä½†åªèƒ½æœ‰ä¸€ä¸ªkeyä¸ºnull Hashtable çº¿ç¨‹å®‰å…¨, æ•ˆç‡ä½ keyä¸å¯ä»¥é‡å¤ ä¸å¯ä»¥ä¸ºnull 2. concurrentHash ç®€å•åˆ†ææ˜¯ä» JDK1.5 ä¹‹åæä¾›çš„ä¸€ä¸ª HashTable çš„æ›¿ä»£å®ç°ï¼Œé‡‡ ä¸€ä¸ª map ä¸­çš„å…ƒç´ åˆ†æˆå¾ˆå¤šçš„ segmentï¼Œé€šè¿‡ lock æœºåˆ¶å¯ä»¥å¯¹æ¯ä¸ª segment åŠ è¯»å†™é”ï¼Œä» è€Œæé«˜ map çš„æ•ˆç‡ï¼Œåº•å±‚å®ç°é‡‡ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘çš„å­˜å‚¨ç»“æ„ Javaå¹¶å‘åŒ…ä¸­çš„, æ—¢æ˜¯çº¿ç¨‹å®‰å…¨çš„, åˆä¸è‡³äºæ•ˆç‡è¿‡ä½ æ€ä¹ˆå®ç°: åˆ†æ®µé”æœºåˆ¶ åˆ†æ®µé”: åªåŠ è½½åœ¨æŸä¸€æ®µæ•°æ®ä¸Š MySql: æŸ¥è¯¢ - 95%, å¢åˆ æ”¹ - 5% è¯»é”: å…±äº«é”, ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ“ä½œçš„æ—¶å€™ä¸åº”å¸çº³å¦ä¸€ä¸ªçº¿ç¨‹çš„ç»“æ„ å†™é”: æ’å®ƒé”, ä¸€ä¸ªçº¿ç¨‹åœ¨è¿›è¡Œæ“ä½œçš„æ—¶å€™ä¸å…è®¸å…¶ä»–ä»»ä½•çº¿ç¨‹çš„æ“ä½œ 3. put &amp; get çš„æµç¨‹put çš„å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š é€šè¿‡ hashcode æ–¹æ³•è®¡ç®—å‡º key çš„ hash å€¼ é€šè¿‡ hash%length è®¡ç®—å‡ºå­˜å‚¨åœ¨ table ä¸­çš„ indexï¼ˆæºç ä¸­æ˜¯ä½¿ç”¨ hash&amp;(length-1)ï¼Œè¿™æ ·ç»“ æœç›¸åŒï¼Œä½†æ˜¯æ›´å¿«ï¼‰ å¦‚æœæ­¤æ—¶ table[index]çš„å€¼ä¸ºç©ºï¼Œé‚£ä¹ˆå°±ç›´æ¥å­˜å‚¨ï¼Œå¦‚æœä¸ä¸ºç©ºé‚£ä¹ˆå°±é“¾æ¥åˆ°è¿™ä¸ªæ•°æ‰€åœ¨ çš„é“¾è¡¨çš„å¤´éƒ¨ã€‚ï¼ˆåœ¨ JDK1.8 ä¸­ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦å¤§äº 8 å°±è½¬åŒ–æˆçº¢é»‘æ ‘ï¼‰ get çš„å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š é€šè¿‡ hashcode è®¡ç®—å‡º key çš„ hash å€¼ é€šè¿‡ hash%length è®¡ç®—å‡ºå­˜å‚¨åœ¨ table ä¸­çš„ indexï¼ˆæºç ä¸­æ˜¯ä½¿ç”¨ hash&amp;(length-1)ï¼Œè¿™æ ·ç»“ æœç›¸åŒï¼Œä½†æ˜¯æ›´å¿«ï¼‰ éå† table[index]æ‰€åœ¨çš„é“¾è¡¨ï¼Œåªæœ‰å½“ key ä¸è¯¥èŠ‚ç‚¹ä¸­çš„ key çš„å€¼ç›¸åŒæ—¶æ‰å–å‡ºã€‚ 1.3 æŒæ¡é‡ç‚¹List: ArrayList, LinkList Set: HashSet, TreeSet éœ€è¦æŒæ¡çš„æ–¹æ³•: add , get, contains Map: HashMap, TreeMap éœ€è¦æŒæ¡çš„æ–¹æ³•: put get mapçš„å¾ªç¯éå† containsKeyâ€¦. ä»¥ä¸Šçš„éƒ½éœ€è¦è·Ÿä¸‹æºç  1.4 åŠŸèƒ½æ–¹æ³•1.4.1 List çš„åŠŸèƒ½æ–¹æ³•ArrayList: ç”±æ•°ç»„å®ç°çš„ Listã€‚å…è®¸å¯¹å…ƒç´ è¿›è¡Œå¿«é€Ÿéšæœºè®¿é—®ï¼Œä½†æ˜¯å‘ List ä¸­é—´æ’å…¥ä¸ç§» é™¤å…ƒç´ çš„é€Ÿåº¦å¾ˆæ…¢ã€‚ListIterator åªåº”è¯¥ç”¨æ¥ç”±åå‘å‰éå† ArrayListï¼Œè€Œä¸æ˜¯ç”¨æ¥æ’å…¥å’Œç§»é™¤ å…ƒç´ ã€‚å› ä¸ºé‚£æ¯” LinkedList å¼€é”€è¦å¤§å¾ˆå¤šã€‚ LinkedList : å¯¹é¡ºåºè®¿é—®è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå‘ List ä¸­é—´æ’å…¥ä¸åˆ é™¤çš„å¼€é”€å¹¶ä¸å¤§ã€‚éšæœºè®¿é—®åˆ™ ç›¸å¯¹è¾ƒæ…¢ã€‚(ä½¿ç”¨ ArrayList ä»£æ›¿ã€‚)è¿˜å…·æœ‰ä¸‹åˆ—æ–¹ æ³•ï¼šaddFirst(), addLast(), getFirst(), getLast(), removeFirst() å’Œ removeLast(), è¿™äº›æ–¹æ³• (æ²¡æœ‰åœ¨ä»»ä½•æ¥å£æˆ–åŸºç±»ä¸­å®šä¹‰è¿‡)ä½¿å¾— LinkedList å¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ä½¿ç”¨ã€‚ 1.4.2 Setçš„åŠŸèƒ½æ–¹æ³•Set : å­˜å…¥ Set çš„æ¯ä¸ªå…ƒç´ éƒ½å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå› ä¸º Set ä¸ä¿å­˜é‡å¤å…ƒç´ ã€‚åŠ å…¥ Set çš„å…ƒç´  å¿…é¡»å®šä¹‰ equals()æ–¹æ³•ä»¥ç¡®ä¿å¯¹è±¡çš„å”¯ä¸€æ€§ã€‚Set ä¸ Collection æœ‰å®Œå…¨ä¸€æ ·çš„æ¥å£ã€‚Set æ¥å£ ä¸ä¿è¯ç»´æŠ¤å…ƒç´ çš„æ¬¡åºã€‚ HashSet : ä¸ºå¿«é€ŸæŸ¥æ‰¾è®¾è®¡çš„ Setã€‚å­˜å…¥ HashSet çš„å¯¹è±¡å¿…é¡»å®šä¹‰ hashCode()ã€‚ TreeSet : ä¿å­˜æ¬¡åºçš„ Setï¼Œåº•å±‚ä¸ºæ ‘ç»“æ„ã€‚ä½¿ç”¨å®ƒå¯ä»¥ä» Set ä¸­æå–æœ‰åºçš„åºåˆ—ã€‚ LinkedHashSet : å…·æœ‰ HashSet çš„æŸ¥è¯¢é€Ÿåº¦ï¼Œä¸”å†…éƒ¨ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„é¡ºåº(æ’å…¥çš„æ¬¡ åº ã€‚äºæ˜¯åœ¨ä½¿ç”¨è¿­ä»£å™¨éå† Set æ—¶ï¼Œç»“æœä¼šæŒ‰å…ƒç´ æ’å…¥çš„æ¬¡åºæ˜¾ç¤ºã€‚ 1.4.3 Map çš„åŠŸèƒ½æ–¹æ³•Map : ç»´æŠ¤â€œé”®å€¼å¯¹â€çš„å…³è”æ€§ï¼Œä½¿ä½ å¯ä»¥é€šè¿‡â€œé”®â€æŸ¥æ‰¾â€œå€¼â€ HashMap : Map åŸºäºæ•£åˆ—è¡¨çš„å®ç°ã€‚æ’å…¥å’ŒæŸ¥è¯¢â€œé”®å€¼å¯¹â€çš„å¼€é”€æ˜¯å›ºå®šçš„ã€‚å¯ä»¥é€šè¿‡ æ„é€ å™¨è®¾ç½®å®¹é‡ capacity å’Œè´Ÿè½½å› å­ load factorï¼Œä»¥è°ƒæ•´å®¹å™¨çš„æ€§èƒ½ã€‚ LinkedHashMap : ç±»ä¼¼äº HashMapï¼Œä½†æ˜¯è¿­ä»£éå†å®ƒæ—¶ï¼Œå–å¾—â€œé”®å€¼å¯¹â€çš„é¡ºåºæ˜¯å…¶æ’ å…¥æ¬¡åºï¼Œæˆ–è€…æ˜¯æœ€è¿‘æœ€å°‘ä½¿ç”¨(LRU)çš„æ¬¡åºã€‚åªæ¯” HashMap æ…¢ä¸€ç‚¹ã€‚è€Œåœ¨è¿­ä»£è®¿é—®æ—¶å‘è€Œæ›´ å¿«ï¼Œå› ä¸ºå®ƒä½¿ç”¨é“¾è¡¨ç»´æŠ¤å†…éƒ¨æ¬¡åºã€‚ TreeMap : åŸºäºçº¢é»‘æ ‘æ•°æ®ç»“æ„çš„å®ç°ã€‚æŸ¥çœ‹â€œé”®â€æˆ–â€œé”®å€¼å¯¹â€æ—¶ï¼Œå®ƒä»¬ä¼šè¢«æ’åº(æ¬¡ åºç”± Comparabel æˆ– Comparator å†³å®š)ã€‚TreeMap çš„ç‰¹ç‚¹åœ¨ äºï¼Œä½ å¾—åˆ°çš„ç»“æœæ˜¯ç»è¿‡æ’åºçš„ã€‚ TreeMap æ˜¯å”¯ä¸€çš„å¸¦æœ‰ subMap()æ–¹æ³•çš„ Mapï¼Œå®ƒå¯ä»¥è¿”å›ä¸€ä¸ªå­æ ‘ã€‚ WeakHashMap : å¼±é”®(weak key)Mapï¼ŒMap ä¸­ä½¿ç”¨çš„å¯¹è±¡ä¹Ÿè¢«å…è®¸é‡Šæ”¾: è¿™æ˜¯ä¸ºè§£å†³ç‰¹ æ®Šé—®é¢˜è®¾è®¡çš„ã€‚å¦‚æœæ²¡æœ‰ map ä¹‹å¤–çš„å¼•ç”¨æŒ‡å‘æŸä¸ªâ€œé”®â€ï¼Œåˆ™æ­¤â€œé”®â€å¯ä»¥è¢«åƒåœ¾æ”¶é›†å™¨å› æ”¶ã€‚ IdentifyHashMap : ä½¿ç”¨==ä»£æ›¿ equals()å¯¹â€œé”®â€ä½œæ¯”è¾ƒçš„ hash mapã€‚ä¸“ä¸ºè§£å†³ç‰¹æ®Šé—®é¢˜ è€Œè®¾è®¡ã€‚ 2ã€åå°„2.1 åå°„åå°„: å°† Java ç±»ä¸­çš„å„ä¸ªæˆåˆ† (å±æ€§, æ–¹æ³•, æ„é€ æ–¹æ³•) æ˜ å°„æˆå¯¹åº”çš„ç±» åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ‰€å±çš„ç±» Classã€‚ åœ¨è¿è¡Œæ—¶åˆ¤æ–­æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ Constructorã€‚ åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡ Field å’Œæ–¹æ³• Methodã€‚ åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚method.invoke(object, args) åå°„çš„å¥½å¤„ æé«˜äº†æ•´ä¸ªä»£ç çš„çµæ´»æ€§ ä¸éœ€è¦çŸ¥é“ç»†èŠ‚ åå°„ç”¨çš„æœ€å¤šçš„æ—¶å€™, å°±æ˜¯å†™æ¡†æ¶çš„æ—¶å€™ åå°„ä¸­éœ€è¦æŒæ¡3ä¸ªç±»: Constructor: æ„é€ å™¨çš„æè¿°ç±» Field: å±æ€§çš„æè¿°ç±» Method: æ–¹æ³•çš„æè¿°ç±» Java é¢„å®šä¹‰ç±»å‹ æ˜¯å¦æ˜¯é¢„å®šä¹‰ç±»å‹: isPromitive(), 8ç§åŸºæœ¬æ•°æ®ç±»å‹ + void éƒ½æ˜¯é¢„å®šä¹‰ç±»å‹ å¼•ç”¨ç±»å‹, åŒ…è£…ç±»ä¸æ˜¯é¢„å®šä¹‰ç±»å‹. 12System.out.println(int.class.isPrimitive()); // trueSystem.out.println(Integer.class.isPrimitive()); // false 2.2 ClassClass : ç”¨äºæè¿°æ‰€æœ‰ç±»çš„ç±», Class ç±»æè¿°äº†ç±»çš„å±æ€§ä¿¡æ¯ï¼Œå¦‚ç±»åã€è®¿é—®æƒé™ã€åŒ…åã€å­— æ®µåç§°åˆ—è¡¨ã€æ–¹æ³•åç§°åˆ—è¡¨ç­‰, Classå°±æ˜¯åå°„çš„åŸºç¡€. è·å–Classçš„3ç§æ–¹å¼ 1. `Class.forName`(&quot;ç±»åå­—ç¬¦ä¸²&quot;) (æ³¨æ„ï¼šç±»åå­—ç¬¦ä¸²å¿…é¡»æ˜¯å…¨ç§°ï¼ŒåŒ…å+ç±»å) - å¦‚æœ `.class`å·²ç»è¢«åŠ è½½åˆ°å†…å­˜äº†, ç›´æ¥è¿”å› - å¦‚æœæ²¡æœ‰çš„è¯, å°±å…ˆåŠ è½½åˆ°å†…å­˜ 2. `ç±»å.class` 3. `å®ä¾‹å¯¹è±¡.getClass()` 2.3 Constructor1234567891011121314151617181920212223242526// API// è¡¥å……: å¯å˜å‚æ•° Class&lt;?&gt;... parameterTypespublic Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes) &#123;&#125;public Constructor&lt;?&gt;[] getConstructors() throws SecurityException &#123;&#125; ================//ä½¿ç”¨=============================////////è·å–æ„é€ æ–¹æ³•//////////// è·å–æŸä¸ªç±»çš„æ‰€æœ‰æ„é€ æ–¹æ³•ï¼šConstructor[] constructor = Class.forName("java.lang.String").getConstructors();// è·å–æŸä¸ªç‰¹æ®Šï¼ˆç‰¹å®šå‚æ•°ï¼‰çš„æ„é€ æ–¹æ³•ï¼šConstructor constructor = Class.forName("java.lang.String").getConstructor(StringBuffer.class);////////åˆ›å»ºå®ä¾‹å¯¹è±¡//////////// é€šå¸¸æ–¹å¼ï¼Œç›´æ¥è°ƒç”¨æ„é€ æ–¹æ³•ï¼šString str = new String("huangbo");// åå°„æ–¹å¼ï¼šè°ƒç”¨å®å‚æ„é€ String str = (String)constructor.newInstance(new StringBuffer("huangbo"));// åå°„æ–¹å¼ï¼šè°ƒç”¨ç©ºå‚æ„é€ String obj = (String)Class.forName("java.lanng.String").newInstance();åªæœ‰ä¸¤ä¸ªç±»æ‹¥æœ‰ newInstance()æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ Class ç±»å’Œ Constructor ç±» Class ç±»ä¸­çš„ newInstance() æ–¹æ³•æ˜¯ä¸å¸¦å‚æ•°çš„ï¼ŒConstructor ç±»ä¸­çš„ newInstance()æ–¹æ³•æ˜¯å¸¦å‚æ•°çš„(Object)ï¼Œéœ€è¦æä¾› å¿…è¦çš„å‚æ•° 2.4 FieldFieldç±»ä»£è¡¨æŸä¸ªç±»ä¸­çš„ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œè®¾æœ‰ä¸€ä¸ª obj å¯¹è±¡ï¼ŒField å¯¹è±¡ä¸æ˜¯ obj å…·ä½“çš„å˜é‡å€¼ï¼Œ è€Œæ˜¯æŒ‡ä»£çš„æ˜¯ obj æ‰€å±ç±»çš„å“ªä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥é€šè¿‡ Field(å¯¹è±¡).get(obj)è·å–ç›¸åº”çš„å˜é‡å€¼ 123456789101112131415// APIpublic Field[] getFields() throws SecurityException &#123;&#125;public Field getField(String name) &#123;&#125;================//ä½¿ç”¨=============================// getField æ–¹æ³•åªèƒ½è·å–å£°æ˜ä¸º public çš„å˜é‡ï¼Œå¯¹äºç§æœ‰å˜é‡ï¼Œå¯ä»¥é€šè¿‡ getDeclaredField()æ–¹æ³•è· å– private å˜é‡Field field = obj.getClass().getDeclaredField();// å°† private å˜é‡è®¾ç½®ä¸ºå¯è®¿é—®ï¼›ç»§æ‰¿è‡ªçˆ¶ç±»AccessibleObject çš„æ–¹æ³•æ‰å¯è·å–å˜é‡å€¼field.setAccessible(true); // è·å¾—å¯¹è±¡å€¼, ä¼ å…¥å¯¹è±¡field.get(obj); // åå°„æ›¿æ¢,è®¾ç½®å¯¹è±¡å€¼// ä¼ å…¥å¯¹è±¡,å€¼// æŠŠ obj å¯¹è±¡çš„ field å±æ€§çš„å€¼æ›¿æ¢ä¸º newValuefield.set(obj,newValue) 2.5 MethodMethod ç±»ä»£è¡¨æŸä¸ªç±»ä¸­çš„æˆå‘˜æ–¹æ³• Method å¯¹è±¡ä¸æ˜¯å…·ä½“çš„æ–¹æ³•ï¼Œè€Œæ˜¯æ¥ä»£è¡¨ç±»ä¸­å“ªä¸€ä¸ªæ–¹æ³•ï¼Œä¸å¯¹è±¡æ— å…³ 123456789101112// è·å–: å¾—åˆ°ç±»ä¸­æŸä¸€ä¸ªæ–¹æ³•ï¼šMethod methodCharAt = Class.forName("java.lang.String").getMethod("charAt",int.class)// getMethod æ–¹æ³•ç”¨äºå¾—åˆ°ä¸€ä¸ªæ–¹æ³•å¯¹è±¡ï¼Œè¯¥æ–¹æ³•æ¥å—çš„å‚æ•°é¦–å…ˆè¦æœ‰è¯¥æ–¹æ³•åï¼ˆString ç±»å‹ï¼‰ï¼Œ// ç„¶åé€šè¿‡å‚æ•°åˆ—è¡¨æ¥åŒºåˆ†é‡è½½é‚£ä¸ªæ–¹æ³•ï¼Œå‚æ•°ç±»å‹ç”¨ Class å¯¹è±¡æ¥è¡¨ç¤º(å¦‚ä¸º int å°±ç”¨ int.class) // è°ƒç”¨æ–¹æ³•ï¼š//æ™®é€šæ–¹å¼ï¼šstr.charAt(1)//åå°„æ–¹å¼ï¼šmethodCharAt.invoke(str,1)// ä»¥ä¸Šä¸¤ç§è°ƒç”¨æ–¹å¼ç­‰ä»· 3. è®¾è®¡æ¨¡å¼è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ä»£è¡¨äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„ è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨ã€‚è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹ æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚ è®¾è®¡æ¨¡å¼åªä¸è¿‡é’ˆå¯¹æŸäº›å…·ä½“åœºæ™¯æä¾›äº†ä¸€äº›æ•ˆç‡è¾ƒé«˜çš„ä»¥å¤æ‚åº¦æ¢çµæ´»æ€§çš„æ‰‹æ®µè€Œå·² æ¨èå­¦ä¹ ç«™ç‚¹ 3.1 è®¾è®¡æ¨¡å¼ â€“ å…­å¤§åŸåˆ™æ€»åŸåˆ™ï¼šå¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰ å¼€é—­åŸåˆ™å°±æ˜¯è¯´å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ ä»£ç ï¼Œè€Œæ˜¯è¦æ‰©å±•åŸæœ‰ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚æ‰€ä»¥ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šä¸ºäº†ä½¿ç¨‹åºçš„ æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ç­‰ï¼Œåé¢çš„ å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚ å…­å¤§åŸåˆ™ï¼š å•ä¸€èŒè´£åŸåˆ™ ä¸è¦å­˜åœ¨å¤šäºä¸€ä¸ªå¯¼è‡´ç±»å˜æ›´çš„åŸå› ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªç±»åº”è¯¥å®ç°å•ä¸€çš„èŒè´£ï¼Œå¦‚è‹¥ä¸ç„¶ï¼Œå°± åº”è¯¥æŠŠç±»æ‹†åˆ†ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰ é‡Œæ°æ›¿æ¢åŸåˆ™ä¸­ï¼Œå­ç±»å¯¹çˆ¶ç±»çš„æ–¹æ³•å°½é‡ä¸è¦é‡å†™å’Œé‡è½½ã€‚å› ä¸ºçˆ¶ç±»ä»£è¡¨äº†å®šä¹‰å¥½çš„ç»“æ„ï¼Œé€šè¿‡è¿™ä¸ªè§„èŒƒçš„æ¥å£ä¸å¤–ç•Œäº¤äº’ï¼Œå­ç±»ä¸åº”è¯¥éšä¾¿ç ´åå®ƒã€‚ ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰ è¿™ä¸ªæ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚å†™ä»£ç  æ—¶ç”¨åˆ°å…·ä½“ç±»æ—¶ï¼Œä¸ä¸å…·ä½“ç±»äº¤äº’ï¼Œè€Œä¸å…·ä½“ç±»çš„ä¸Šå±‚æ¥å£äº¤äº’ã€‚ æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰ è¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šæ¯ä¸ªæ¥å£ä¸­ä¸å­˜åœ¨å­ç±»ç”¨ä¸åˆ°å´å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œå¦‚æœä¸ç„¶ï¼Œå°±è¦å°† æ¥å£æ‹†åˆ†ã€‚ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£ï¼ˆå¤šä¸ªæ¥å£æ–¹æ³•é›†åˆåˆ°ä¸€ä¸ªçš„æ¥å£ï¼‰è¦å¥½ã€‚ è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰ å°±æ˜¯è¯´ï¼šä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ ã€‚ä¹Ÿå°±æ˜¯è¯´æ— è®ºè¢«ä¾èµ–çš„ç±»å¤šä¹ˆå¤æ‚ï¼Œéƒ½ åº”è¯¥å°†é€»è¾‘å°è£…åœ¨æ–¹æ³•çš„å†…éƒ¨ï¼Œé€šè¿‡ public æ–¹æ³•æä¾›ç»™å¤–éƒ¨ã€‚è¿™æ ·å½“è¢«ä¾èµ–çš„ç±»å˜åŒ–æ—¶ï¼Œæ‰ èƒ½æœ€å°çš„å½±å“è¯¥ç±»ã€‚ åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰ åŸåˆ™æ˜¯å°½é‡é¦–å…ˆä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚ 3.2 è®¾è®¡æ¨¡å¼ â€“ åˆ†ç±»æ€»ä½“æ¥è¯´è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼š åˆ›å»ºå‹æ¨¡å¼ï¼Œå…±äº”ç§ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€‚ ç»“æ„å‹æ¨¡å¼ï¼Œå…±ä¸ƒç§ï¼šé€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€ç»„åˆ æ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€‚ è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…±åä¸€ç§ï¼šç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è¿­ä»£å­æ¨¡å¼ã€è´£ä»»é“¾æ¨¡ å¼ã€å‘½ä»¤æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€‚ 3.3 å¸¸è§è®¾è®¡æ¨¡å¼3.3.1 å•ä¾‹æ¨¡å¼(æ‰‹å†™)å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ Java ä¸­æœ€ç®€å•çš„,ä¹Ÿæ˜¯æœ€æœ€æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±» å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚ æ³¨æ„: å•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚ å•ä¾‹ç±»å¿…é¡»è‡ªå·±åˆ›å»ºè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚ å•ä¾‹ç±»å¿…é¡»ç»™æ‰€æœ‰å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹ã€‚ å…±æœ‰å…­ç§å®ç°ï¼š 1ã€æ‡’æ±‰å¼ï¼Œçº¿ç¨‹ä¸å®‰å…¨ 1234567891011public class Singleton &#123; private static Singleton instance; private Singleton ()&#123;&#125; public static Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125; &#125; 2ã€æ‡’æ±‰å¼ï¼Œçº¿ç¨‹å®‰å…¨ 12345678910public class Singleton &#123; private static Singleton instance; private Singleton ()&#123;&#125; public static synchronized Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125; &#125; 3ã€é¥¿æ±‰å¼ 1234567public class Singleton &#123; private static Singleton instance = new Singleton(); private Singleton ()&#123;&#125; public static Singleton getInstance() &#123; return instance; &#125; &#125; 4ã€åŒæ£€é”/åŒé‡æ ¡éªŒé”ï¼ˆDCLï¼Œå³ double-checked lockingï¼‰ â€“é¢è¯•å¿…å¤‡ 1234567891011121314public class Singleton &#123; private volatile static Singleton singleton; private Singleton ()&#123;&#125; public static Singleton getSingleton() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125; &#125; 5ã€ç™»è®°å¼/é™æ€å†…éƒ¨ç±» 123456789public class Singleton &#123; private static class SingletonHolder &#123; private static final Singleton INSTANCE = new Singleton(); &#125; private Singleton ()&#123;&#125; public static final Singleton getInstance() &#123; return SingletonHolder.INSTANCE; &#125; &#125; 6ã€æšä¸¾ 12345public enum Singleton &#123; INSTANCE; public void whateverMethod() &#123; &#125; &#125; è¯¦ç»†è¯·çœ‹ 3.3.2 è£…é¥°å™¨æ¨¡å¼(æ‰‹å†™)é¦–å…ˆçœ‹ä¸€æ®µä»£ç  ä»£ç åˆ†æ: æ„é€ ä¸€ä¸ªç¼“å†²çš„å­—ç¬¦è¾“å…¥æµã€‚åŒ…è£…äº†ä¸€ä¸ªæ–‡ä»¶å­—ç¬¦è¾“å…¥æµã€‚ äº‹å®ä¸Šï¼ŒBufferedReader å°±æ˜¯ç”¨æ¥å¢å¼º FileReader çš„è¯»å–çš„åŠŸèƒ½çš„ã€‚ FileReader åªæœ‰ read()æ–¹æ³•ï¼Œ ä½†æ˜¯ BufferedReader ä¸­å´å¢åŠ äº†ä¸€ä¸ª readLine()çš„é€è¡Œè¯»å– çš„åŠŸèƒ½ æ‰€ä»¥è¿™å°±ç›¸å½“äºæ˜¯ BufferedReader è£…é¥°äº† FileReaderï¼Œè®© FileReader å˜å¾—æ›´å¼ºå¤§ è£…é¥°å™¨æ¨¡å¼æ¦‚å¿µ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“ æ„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚ è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œ æä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚ è£…é¥°å™¨æ¨¡å¼å®ç°æ–¹å¼1. å®šä¹‰åŒ…è£…ç±» 2. å°†è¦è£…é¥°çš„æ¨¡å¼ä½œä¸ºå‚æ•°ä¼ å…¥åŒ…è£…ç±» 3. å®ç°è¦åŠ å¼ºçš„æ–¹æ³• 3.3.2 ä»£ç†æ¨¡å¼1. é™æ€ä»£ç†é™æ€ä»£ç†çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼šä¸€ä¸ªä»£ç†ç±»åªèƒ½å¯¹ä¸€ä¸ªä¸šåŠ¡æ¥å£çš„å®ç°ç±»è¿›è¡ŒåŒ…è£…ï¼Œå¦‚æœæœ‰å¤šä¸ªä¸š åŠ¡æ¥å£çš„è¯å°±è¦å®šä¹‰å¾ˆå¤šå®ç°ç±»å’Œä»£ç†ç±»æ‰è¡Œã€‚ â€¦ 2. åŠ¨æ€ä»£ç†ç¬¬ä¸€ç§ï¼šJDK åŠ¨æ€ä»£ç†å®ç° JDK åŠ¨æ€ä»£ç†æ‰€ç”¨åˆ°çš„ä»£ç†ç±»åœ¨ç¨‹åºè°ƒç”¨åˆ°ä»£ç†ç±»å¯¹è±¡æ—¶æ‰ç”± JVM çœŸæ­£åˆ›å»ºï¼ŒJVM æ ¹æ®ä¼  è¿›æ¥çš„ä¸šåŠ¡å®ç°ç±»å¯¹è±¡ä»¥åŠæ–¹æ³•åï¼ŒåŠ¨æ€åœ°åˆ›å»ºäº†ä¸€ä¸ªä»£ç†ç±»çš„ class æ–‡ä»¶å¹¶è¢«å­—èŠ‚ç å¼•æ“ æ‰§è¡Œï¼Œç„¶åé€šè¿‡è¯¥ä»£ç†ç±»å¯¹è±¡è¿›è¡Œæ–¹æ³•è°ƒç”¨ã€‚æˆ‘ä»¬éœ€è¦åšçš„ï¼Œåªéœ€æŒ‡å®šä»£ç†ç±»çš„é¢„å¤„ç†ã€ è°ƒç”¨åæ“ä½œå³å¯ã€‚ åªèƒ½å¯¹å®ç°äº†æ¥å£çš„ç±»ç”Ÿæˆä»£ç†ï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç±»ï¼Œè¯¥ç›®æ ‡ç±»å‹å®ç°çš„æ¥å£éƒ½å°†è¢«ä»£ç†ã€‚åŸç† æ˜¯é€šè¿‡åœ¨è¿è¡ŒæœŸé—´åˆ›å»ºä¸€ä¸ªæ¥å£çš„å®ç°ç±»æ¥å®Œæˆå¯¹ç›®æ ‡å¯¹è±¡çš„ä»£ç†ã€‚å…·ä½“å®ç°æ­¥éª¤ï¼š å®šä¹‰ä¸€ä¸ªå®ç°æ¥å£ InvocationHandler çš„ç±» é€šè¿‡æ„é€ å‡½æ•°æˆ–è€…é™æ€å·¥å‚æ–¹æ³•ç­‰ï¼Œæ³¨å…¥è¢«ä»£ç†ç±» å®ç° invoke(Object proxy, Method method, Object[] args)æ–¹æ³• åœ¨ä¸»å‡½æ•°ä¸­è·å¾—è¢«ä»£ç†ç±»çš„ç±»åŠ è½½å™¨ ä½¿ç”¨ Proxy.newProxyInstance(classLoader, interfaces, args)äº§ç”Ÿä¸€ä¸ªä»£ç†å¯¹è±¡ é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨å„ç§æ–¹æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859=============//å®ç°InvocationHandler====================import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;/** * @author shixuanji * åŠ¨æ€ä»£ç†: JDK * 1. å®ç°ä¸€ä¸ªæ¥å£ InvocationHandler * 2. å°†ä»£ç†å¯¹è±¡ä½œä¸ºå±æ€§ä¼ å…¥ ä»£ç†æ‰€æœ‰çš„ç±» * 3. é‡å†™ invoke()æ–¹æ³• * */public class ProxyDynamicStudentDao implements InvocationHandler &#123; private Object o; public ProxyDynamicStudentDao(Object o) &#123; this.o = o; &#125; /* * @param proxy: ä»£ç†å¯¹è±¡, åŸºæœ¬ä¸ç”¨ ???åº”è¯¥æ˜¯ä»£ç†å¯¹è±¡æŠŠ, è€å¸ˆå†™çš„è¢«ä»£ç†å¯¹è±¡ * @param method: æ‹¦æˆªä¸‹æ¥çš„è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³• - åå°„ä¸­æè¿°æ–¹æ³•çš„ç±» * @param args: è¢«ä»£ç†å¯¹è±¡ä¸šåŠ¡æ–¹æ³•çš„å‚æ•° */ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; String methodName = method.getName().toString(); if (methodName.equals("insert")) &#123; // xxx &#125; else &#123; //ssssss &#125; // åšçš„äº‹æƒ…å°±æ˜¯å¯¹ä»£ç†æ–¹æ³•çš„æ–¹æ³•çš„å¢å¼º // å¢å¼º System.out.println("å¼€å§‹æ‰§è¡Œ"); // ä¸šåŠ¡æ–¹æ³•è°ƒç”¨, ä¸€å®šè¦è°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„ // obj: å¯¹è±¡ // args:æ–¹æ³•çš„å‚æ•° Object res = method.invoke(o, args); // å¢å¼º System.out.println("æ‰§è¡Œå®Œäº†"); return res; &#125;&#125;============== // ä½¿ç”¨========================/*** å‚æ•°1: è¢«ä»£ç†å¯¹è±¡çš„ç±»åŠ è½½å™¨ * å‚æ•°2: è¦å®ç°çš„æ¥å£* å‚æ•°3: ä»£ç†ç±»å¯¹è±¡ * * èƒ½.å‡ºæ¥ä»€ä¹ˆçœ‹ å·¦è¾¹æ¥æ”¶ç€* è¿è¡Œæ—¶çœ‹ çœŸæ­£åˆ›å»ºçš„å¯¹è±¡*/// ç›®å‰çœ‹æ¥ ä»£ç†å®ä¾‹åªèƒ½æ˜¯æ¥å£BaseDAO newProxyInstance = (BaseDAO)Proxy.newProxyInstance(StudentDAO.class.getClassLoader(), StudentDAO.class.getInterfaces(), new ProxyDynamicStudentDao(new StudentDAO()));newProxyInstance.insert(new Teacher()); ç¬¬äºŒç§ï¼šCGLIB åŠ¨æ€ä»£ç†å®ç°ï¼š CGLIB æ˜¯é’ˆå¯¹ç±»æ¥å®ç°ä»£ç†çš„ï¼ŒåŸç†æ˜¯å¯¹æŒ‡å®šçš„ä¸šåŠ¡ç±»ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œå¹¶è¦†ç›–å…¶ä¸­ä¸šåŠ¡æ–¹æ³• å®ç°ä»£ç†ã€‚å› ä¸ºé‡‡ç”¨çš„æ˜¯ç»§æ‰¿ï¼Œæ‰€ä»¥ä¸èƒ½å¯¹ final ä¿®é¥°çš„ç±»è¿›è¡Œä»£ç†ï¼Œfinal çš„æ–¹æ³•ä¹Ÿä¸èƒ½ é’ˆå¯¹ç±»å®ç°ä»£ç†ï¼Œå¯¹æ˜¯å¦å®ç°æ¥å£æ— è¦æ±‚ã€‚åŸç†æ˜¯å¯¹æŒ‡å®šçš„ç±»ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œè¦†ç›–å…¶ä¸­çš„æ–¹ æ³•ï¼Œå› ä¸ºæ˜¯ç»§æ‰¿ï¼Œæ‰€ä»¥è¢«ä»£ç†çš„ç±»æˆ–æ–¹æ³•æœ€å¥½ä¸è¦å£°æ˜ä¸º final ç±»å‹ã€‚å…·ä½“å®ç°æ­¥éª¤ï¼š 1ã€å®šä¹‰ä¸€ä¸ªå®ç°äº† MethodInterceptor æ¥å£çš„ç±» 2ã€å®ç°å…¶ intercept()æ–¹æ³•ï¼Œåœ¨å…¶ä¸­è°ƒç”¨ proxy.invokeSuper() 3. é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†çš„åŒºåˆ«é™æ€ä»£ç†ï¼šè‡ªå·±ç¼–å†™åˆ›å»ºä»£ç†ç±»ï¼Œç„¶åå†è¿›è¡Œç¼–è¯‘ï¼Œåœ¨ç¨‹åºè¿è¡Œå‰ï¼Œä»£ç†ç±»çš„.class æ–‡ä»¶å°± å·²ç»å­˜åœ¨äº†ã€‚ åŠ¨æ€ä»£ç†ï¼šåœ¨å®ç°é˜¶æ®µä¸ç”¨å…³å¿ƒä»£ç†è°ï¼Œè€Œåœ¨è¿è¡Œé˜¶æ®µï¼ˆé€šè¿‡åå°„æœºåˆ¶ï¼‰æ‰æŒ‡å®šä»£ç†å“ªä¸€ä¸ª å¯¹è±¡ã€‚ 3.4 é‡ç‚¹æŒæ¡3.4.1. è£…é¥°è€…æ¨¡å¼ å’Œ é™æ€ä»£ç†æ¨¡å¼ åŒºåˆ«åœ¨ä»£ç ä¸Šçš„åŒºåˆ«: ä¸€èˆ¬æƒ…å†µä¸‹, è£…é¥°è€…æ¨¡å¼è¢«è£…é¥°çš„å¯¹è±¡ä¸€èˆ¬æ˜¯ä»å¤–éƒ¨ä¼ å…¥, è£…é¥°çš„æ˜¯ä¸€ç±»çš„äº‹åŠ¡, åªè¦æ˜¯æŸä¸€ç±»çš„(Class)éƒ½å¯ä»¥ é™æ€ä»£ç†æ¨¡å¼è¢«ä»£ç†å¯¹è±¡çš„åˆå§‹åŒ–ä¸€èˆ¬æ˜¯å†…éƒ¨åˆ›å»ºçš„, ä»£ç†çš„æ˜¯ä¸€ä¸ªç±»çš„å¯¹è±¡. ä»åŠŸèƒ½ä¸Š: è£…é¥°è€…æ¨¡å¼, ç”¨äºå¯¹è¢«è£…é¥°è€…ä¸šåŠ¡é€»è¾‘å®ç°æˆ–å¢å¼º, å¯¹æ–¹æ³•åæ²¡æœ‰è¦æ±‚ é™æ€ä»£ç†: ä¸»è¦ç”¨äºæƒé™æ§åˆ¶, æ—¥å¿—æ‰“å°, é”™è¯¯é¢„è­¦ç­‰åŠŸèƒ½ 3.4.2. ä¸‰ç§è®¾è®¡æ¨¡å¼å¿…é¡»æŒæ¡çš„ å•ä¾‹è®¾è®¡æ¨¡å¼ è£…é¥°è€…æ¨¡å¼ åŠ¨æ€ä»£ç†æ¨¡å¼ 3.4.3. æ‰‹å†™ä»£ç  å†’æ³¡æ’åº å¿«é€Ÿæ’åº è®¾è®¡æ¨¡å¼ hadoop çš„ wordcount scala çš„ wordcount spark çš„ wordcount 4. æ’åºç®—æ³• æ ¸å¿ƒæ¦‚å¿µï¼šç®—æ³•å¤æ‚åº¦ã€ç¨³å®šæ€§ ç®—æ³•å¤æ‚åº¦ï¼šç®—æ³•å¤æ‚åº¦æ˜¯æŒ‡ç®—æ³•åœ¨ç¼–å†™æˆå¯æ‰§è¡Œç¨‹åºåï¼Œè¿è¡Œæ—¶æ‰€éœ€è¦çš„èµ„æºï¼Œèµ„æºåŒ…æ‹¬ æ—¶é—´èµ„æºå’Œå†…å­˜èµ„æºã€‚åº”ç”¨äºæ•°å­¦å’Œè®¡ç®—æœºå¯¼è®ºã€‚ ç¨³å®šæ€§ï¼šä¸€ä¸ªæ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œå°±æ˜¯å½“æœ‰ä¸¤ä¸ªç›¸ç­‰è®°å½•çš„å…³é”®å­— R å’Œ Sï¼Œä¸”åœ¨åŸæœ¬çš„åˆ—è¡¨ ä¸­ R å‡ºç°åœ¨ S ä¹‹å‰ï¼Œåœ¨æ’åºè¿‡çš„åˆ—è¡¨ä¸­ R ä¹Ÿå°†ä¼šæ˜¯åœ¨ S ä¹‹å‰ã€‚ 4.1. æ’åºåˆ†ç±»æŒ‰ç…§æ’åºç»“æœæ˜¯å¦ç¨³å®šæ€§åˆ†ç±»ï¼š ç¨³å®šæ’åºï¼šæ’å…¥æ’åºï¼Œå†’æ³¡æ’åºï¼Œå½’å¹¶æ’åºï¼Œè®¡æ•°æ’åºï¼ŒåŸºæ•°æ’åºï¼Œæ¡¶æ’åºï¼ˆå¦‚æœæ¡¶å†… æ’åºé‡‡ç”¨çš„æ˜¯ç¨³å®šæ€§æ’åºï¼‰ éç¨³å®šæ’åºï¼šé€‰æ‹©æ’åºï¼Œå¿«é€Ÿæ’åºï¼Œå †æ’åºã€‚ æŒ‰ç…§æ’åºè¿‡ç¨‹ä¸­æ˜¯å¦éœ€è¦é¢å¤–ç©ºé—´ï¼š åŸåœ°æ’åºï¼šæ’å…¥æ’åºï¼Œé€‰æ‹©æ’åºï¼Œå†’æ³¡æ’åºï¼Œå¿«é€Ÿæ’åºï¼Œå †æ’åºã€‚ éåŸåœ°æ’åºï¼šå½’å¹¶æ’åºï¼Œè®¡æ•°æ’åºï¼ŒåŸºæ•°æ’åºï¼Œæ¡¶æ’åºã€‚ æŒ‰ç…§æ’åºçš„ä¸»è¦æ“ä½œåˆ†ç±»ï¼š äº¤æ¢ç±»ï¼šå†’æ³¡æ’åºã€å¿«é€Ÿæ’åºï¼›æ­¤ç±»çš„ç‰¹ç‚¹æ˜¯é€šè¿‡ä¸æ–­çš„æ¯”è¾ƒå’Œäº¤æ¢è¿›è¡Œæ’åºï¼› æ’å…¥ç±»ï¼šç®€å•æ’å…¥æ’åºã€å¸Œå°”æ’åºï¼›æ­¤ç±»çš„ç‰¹ç‚¹æ˜¯é€šè¿‡æ’å…¥çš„æ‰‹æ®µè¿›è¡Œæ’åºï¼› é€‰æ‹©ç±»ï¼šç®€å•é€‰æ‹©æ’åºã€å †æ’åºï¼›æ­¤ç±»çš„ç‰¹ç‚¹æ˜¯çœ‹å‡†äº†å†ç§»åŠ¨ï¼› å½’å¹¶ç±»ï¼šå½’å¹¶æ’åºï¼›æ­¤ç±»çš„ç‰¹ç‚¹æ˜¯å…ˆåˆ†å‰²ååˆå¹¶ï¼› æŒ‰ç…§æ˜¯å¦éœ€è¦æ¯”è¾ƒåˆ†ç±»ï¼š æ¯”è¾ƒæ’åºï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogn) ~ O(n^2)ï¼Œä¸»è¦æœ‰ï¼šå†’æ³¡æ’åºï¼Œé€‰æ‹©æ’åºï¼Œæ’å…¥æ’åºï¼Œ å½’å¹¶æ’åºï¼Œå †æ’åºï¼Œå¿«é€Ÿæ’åºç­‰ã€‚ éæ¯”è¾ƒæ’åºï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° O(n)ï¼Œä¸»è¦æœ‰ï¼šè®¡æ•°æ’åºï¼ŒåŸºæ•°æ’åºï¼Œæ¡¶æ’åºç­‰ã€‚ 4.2 å¸¸è§æ’åºçš„æ—¶é—´å¤æ‚åº¦ æœ‰è¶£çš„æ’åºç®—æ³•è§†é¢‘ 4.3 å¸¸è§æ’åºç®—æ³•çš„æ ¸å¿ƒå®ç°4.3.1 å†’æ³¡æ’åº 4.3.2 å½’å¹¶æ’åº 4.3.3 å¿«é€Ÿæ’åº]]></content>
      <categories>
        <category>Java</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå­¦ä¹ ç¬”è®°-5]]></title>
    <url>%2F2018%2F05%2F28%2FLinux%2FLinux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-5%2F</url>
    <content type="text"><![CDATA[1.Shellæ“ä½œæ—¥æœŸæ—¶é—´dateåœ¨ç±»UNIXç³»ç»Ÿä¸­ï¼Œæ—¥æœŸè¢«å­˜å‚¨ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œå…¶å¤§å°ä¸ºè‡ªä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼ˆUTCï¼‰1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’èµ·æµé€çš„ç§’æ•°ã€‚ è¯­æ³• 1date(é€‰é¡¹)(å‚æ•°) é€‰é¡¹ 12345-d&lt;å­—ç¬¦ä¸²&gt;ï¼šæ˜¾ç¤ºå­—ç¬¦ä¸²æ‰€æŒ‡çš„æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å·ï¼›-s&lt;å­—ç¬¦ä¸²&gt;ï¼šæ ¹æ®å­—ç¬¦ä¸²æ¥è®¾ç½®æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å·ï¼›-uï¼šæ˜¾ç¤ºGMT, å³ç›®å‰çš„æ ¼æ—å¨æ²»æ—¶é—´ï¼›--helpï¼šåœ¨çº¿å¸®åŠ©ï¼›--versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ å‚æ•° &lt;+æ—¶é—´æ—¥æœŸæ ¼å¼&gt;ï¼šæŒ‡å®šæ˜¾ç¤ºæ—¶ä½¿ç”¨çš„æ—¥æœŸæ—¶é—´æ ¼å¼ã€‚ æ—¥æœŸæ ¼å¼å­—ç¬¦ä¸²åˆ—è¡¨ 123456789101112131415161718192021222324%r æ—¶é—´ï¼Œ12å°æ—¶åˆ¶%s ä»1970å¹´1æœˆ1æ—¥0ç‚¹åˆ°ç›®å‰ç»å†çš„ç§’æ•°%S ç§’ï¼ˆ00ï½59ï¼‰ %T æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰ï¼ˆhh:mm:ssï¼‰%X æ˜¾ç¤ºæ—¶é—´çš„æ ¼å¼ï¼ˆï¼…Hæ—¶ï¼…Måˆ†ï¼…Sç§’ï¼‰%Z æŒ‰å­—æ¯è¡¨æ’åºçš„æ—¶åŒºç¼©å†™%a æ˜ŸæœŸåç¼©å†™%A æ˜ŸæœŸåå…¨ç§°%b æœˆåç¼©å†™%B æœˆåå…¨ç§°%c æ—¥æœŸå’Œæ—¶é—´%d æŒ‰æœˆè®¡çš„æ—¥æœŸï¼ˆ01ï½31ï¼‰%D æ—¥æœŸï¼ˆmm/dd/yyï¼‰ %h å’Œ%bé€‰é¡¹ç›¸åŒ%j ä¸€å¹´çš„ç¬¬å‡ å¤©ï¼ˆ001~366ï¼‰%m æœˆä»½ï¼ˆ01ï½12ï¼‰%w ä¸€ä¸ªæ˜ŸæœŸçš„ç¬¬å‡ å¤©ï¼ˆ0ä»£è¡¨æ˜ŸæœŸå¤©ï¼‰%W ä¸€å¹´çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆ00ï½53ï¼Œæ˜ŸæœŸä¸€ä¸ºç¬¬ä¸€å¤©ï¼‰%x æ˜¾ç¤ºæ—¥æœŸçš„æ ¼å¼ï¼ˆmm/dd/yyï¼‰%y å¹´ä»½çš„æœ€åä¸¤ä¸ªæ•°å­—ï¼ˆ1999åˆ™æ˜¯99ï¼‰%Y å¹´ä»½ï¼ˆæ¯”å¦‚1970ã€1996ç­‰ï¼‰%C ä¸–çºªï¼Œé€šå¸¸ä¸ºçœç•¥å½“å‰å¹´ä»½çš„åä¸¤ä½æ•°å­—%U ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ï¼Œä»¥å‘¨æ—¥ä¸ºæ¯æ˜ŸæœŸç¬¬ä¸€å¤©%e æŒ‰æœˆè®¡çš„æ—¥æœŸï¼Œæ·»åŠ ç©ºæ ¼ï¼Œç­‰äº%_d å®ä¾‹ æ ¼å¼åŒ–è¾“å‡º 12date +"%Y-%m-%d"2009-12-07 è¾“å‡ºæ˜¨å¤©æ—¥æœŸï¼š 12date -d "1 day ago" +"%Y-%m-%d"2012-11-19 2ç§’åè¾“å‡ºï¼š 12date -d "2 second" +"%Y-%m-%d %H:%M.%S"2012-11-20 14:21.31 ä¼ è¯´ä¸­çš„ 1234567890 ç§’ï¼š 12date -d "1970-01-01 1234567890 seconds" +"%Y-%m-%d %H:%m:%S"2009-02-13 23:02:30 æ™®é€šè½¬æ ¼å¼ï¼š 12date -d "2009-12-12" +"%Y/%m/%d %H:%M.%S"2009/12/12 00:00.00 apacheæ ¼å¼è½¬æ¢ï¼š 12date -d "Dec 5, 2009 12:00:37 AM" +"%Y-%m-%d %H:%M.%S"2009-12-05 00:00.37 æ ¼å¼è½¬æ¢åæ—¶é—´æ¸¸èµ°ï¼š 12date -d "Dec 5, 2009 12:00:37 AM 2 year ago" +"%Y-%m-%d %H:%M.%S"2007-12-05 00:00.37 åŠ å‡æ“ä½œï¼š 1234567date +%Y%m%d //æ˜¾ç¤ºå‰å¤©å¹´æœˆæ—¥date -d "+1 day" +%Y%m%d //æ˜¾ç¤ºå‰ä¸€å¤©çš„æ—¥æœŸdate -d "-1 day" +%Y%m%d //æ˜¾ç¤ºåä¸€å¤©çš„æ—¥æœŸdate -d "-1 month" +%Y%m%d //æ˜¾ç¤ºä¸Šä¸€æœˆçš„æ—¥æœŸdate -d "+1 month" +%Y%m%d //æ˜¾ç¤ºä¸‹ä¸€æœˆçš„æ—¥æœŸdate -d "-1 year" +%Y%m%d //æ˜¾ç¤ºå‰ä¸€å¹´çš„æ—¥æœŸdate -d "+1 year" +%Y%m%d //æ˜¾ç¤ºä¸‹ä¸€å¹´çš„æ—¥æœŸ è®¾å®šæ—¶é—´ï¼š 1234567date -s //è®¾ç½®å½“å‰æ—¶é—´ï¼Œåªæœ‰rootæƒé™æ‰èƒ½è®¾ç½®ï¼Œå…¶ä»–åªèƒ½æŸ¥çœ‹date -s 20120523 //è®¾ç½®æˆ20120523ï¼Œè¿™æ ·ä¼šæŠŠå…·ä½“æ—¶é—´è®¾ç½®æˆç©º00:00:00date -s 01:01:01 //è®¾ç½®å…·ä½“æ—¶é—´ï¼Œä¸ä¼šå¯¹æ—¥æœŸåšæ›´æ”¹date -s "01:01:01 2012-05-23" //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´date -s "01:01:01 20120523" //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´date -s "2012-05-23 01:01:01" //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´date -s "20120523 01:01:01" //è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´ æœ‰æ—¶éœ€è¦æ£€æŸ¥ä¸€ç»„å‘½ä»¤èŠ±è´¹çš„æ—¶é—´ï¼Œä¸¾ä¾‹ï¼š 12345678#!/bin/bashstart=$(date +%s)nmap man.linuxde.net &amp;&gt; /dev/nullend=$(date +%s)difference=$(( end - start ))echo $difference seconds. è®¡ç®—æ´»äº†å¤šå°‘å¹´ 1echo $[($(date +%s -d $[date])-$(date +%s -d "19900318"))/86400/365] date -då…¶å®ƒçš„ä¸€äº›ç”¨æ³•. 123456789101112131415161718192021222324252627## è·å–ä¸‹ä¸€å¤©çš„æ—¶é—´[root@hadoop ~]# date -d next-day '+%Y-%m-%d %H:%M:%S'[root@hadoop ~]# date -d 'next day' '+%Y-%m-%d %H:%M:%S'å¦å¤–ä¸€ç§å†™æ³•ï¼š[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' -d tomorrow## è·å–ä¸Šä¸€å¤©çš„æ—¶é—´ [root@hadoop ~]# date -d last-day '+%Y-%m-%d %H:%M:%S'å¦å¤–ä¸€ç§å†™æ³•ï¼š[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' -d yesterday## è·å–ä¸‹ä¸€æœˆçš„æ—¶é—´[root@hadoop ~]# date -d next-month '+%Y-%m-%d %H:%M:%S'## è·å–ä¸Šä¸€æœˆçš„æ—¶é—´ [root@hadoop ~]# date -d last-month '+%Y-%m-%d %H:%M:%S'## è·å–ä¸‹ä¸€å¹´çš„æ—¶é—´[root@hadoop ~]# date -d next-year '+%Y-%m-%d %H:%M:%S'## è·å–ä¸Šä¸€å¹´çš„æ—¶é—´ [root@hadoop ~]# date -d last-year '+%Y-%m-%d %H:%M:%S'## è·å–ä¸Šä¸€å‘¨çš„æ—¥æœŸæ—¶é—´ï¼š[root@hadoop ~]# date -d next-week '+%Y-%m-%d %H:%M:%S'[root@hadoop ~]# date -d next-monday '+%Y-%m-%d %H:%M:%S'[root@hadoop ~]# date -d next-thursday '+%Y-%m-%d %H:%M:%S' é‚£ä¹ˆç±»ä¼¼çš„ï¼Œå…¶å®ï¼Œlast-yearï¼Œlast-monthï¼Œlast-dayï¼Œlast-weekï¼Œlast-hourï¼Œlast-minuteï¼Œlast-secondéƒ½æœ‰å¯¹åº”çš„å®ç°ã€‚ç›¸åçš„ï¼Œlastå¯¹åº”nextï¼Œè‡ªå·±å¯ä»¥æ ¹æ®å®é™…æƒ…å†µçµæ´»ç»„ç»‡ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹â€˜â€“dateâ€™ï¼Œå®ƒå¸®æˆ‘å®ç°ä»»æ„æ—¶é—´å‰åçš„è®¡ç®—ï¼Œæ¥çœ‹å…·ä½“çš„ä¾‹å­ï¼š 1234567## è·å–ä¸€å¤©ä»¥åçš„æ—¥æœŸæ—¶é—´[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' --date='1 day'[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' --date='-1 day ago'## è·å–ä¸€å¤©ä»¥å‰çš„æ—¥æœŸæ—¶é—´[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' --date='-1 day'[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' --date='1 day ago' ä¸Šé¢çš„ä¾‹å­æ˜¾ç¤ºå‡ºæ¥äº†ä½¿ç”¨çš„æ ¼å¼ï¼Œä½¿ç”¨ç²¾é«“åœ¨äºæ”¹å˜å‰é¢çš„å­—ç¬¦ä¸²æ˜¾ç¤ºæ ¼å¼ï¼Œæ”¹å˜æ•°æ®ï¼Œæ”¹å˜è¦æ“ä½œçš„æ—¥æœŸå¯¹åº”å­—æ®µï¼Œé™¤äº†å¤©ä¹Ÿæœ‰å¯¹åº”çš„å…¶ä»–å®ç°ï¼šyearï¼Œmonthï¼Œweekï¼Œdayï¼Œhourï¼Œminuteï¼Œsecondï¼Œmondayï¼ˆæ˜ŸæœŸï¼Œä¸ƒå¤©éƒ½å¯ï¼‰ date èƒ½ç”¨æ¥æ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸå’Œæ—¶é—´ï¼Œåœ¨æ˜¾ç¤ºæ–¹é¢ï¼Œä½¿ç”¨è€…èƒ½è®¾å®šæ¬²æ˜¾ç¤ºçš„æ ¼å¼ï¼Œæ ¼å¼è®¾å®šä¸ºä¸€ä¸ªåŠ å·åæ¥æ•°ä¸ªæ ‡è®°ï¼Œå…¶ä¸­å¯ç”¨çš„æ ‡è®°åˆ—è¡¨å¦‚ä¸‹ï¼š ä½¿ç”¨èŒƒä¾‹ï¼š 1[root@hadoop ~]# date '+%Y-%m-%d %H:%M:%S' æ—¥æœŸæ–¹é¢ 12345678910111213141516%a : æ˜ŸæœŸå‡  (Sun..Sat) %A : æ˜ŸæœŸå‡  (Sunday..Saturday) %b : æœˆä»½ (Jan..Dec) %B : æœˆä»½ (January..December) %c : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´ %d : æ—¥ (01..31) %D : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm/dd/yy) %h : åŒ %b %j : ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© (001..366) %m : æœˆä»½ (01..12) %U : ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00..53) (ä»¥ Sunday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢) %w : ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤© (0..6) %W : ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00..53) (ä»¥ Monday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢) %x : ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm/dd/yyyy) %y : å¹´ä»½çš„æœ€åä¸¤ä½æ•°å­— (00.99) %Y : å®Œæ•´å¹´ä»½ (0000..9999) æ—¶é—´æ–¹é¢ 123456789101112131415%%: æ‰“å°å‡º%%n : ä¸‹ä¸€è¡Œ%t : è·³æ ¼%H : å°æ—¶(00..23)%k : å°æ—¶(0..23)%l : å°æ—¶(1..12)%M : åˆ†é’Ÿ(00..59)%p : æ˜¾ç¤ºæœ¬åœ°AMæˆ–PM%P : æ˜¾ç¤ºæœ¬åœ°amæˆ–pm%r : ç›´æ¥æ˜¾ç¤ºæ—¶é—´(12 å°æ—¶åˆ¶ï¼Œæ ¼å¼ä¸º hh:mm:ss [AP]M)%s : ä» 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC åˆ°ç›®å‰ä¸ºæ­¢çš„ç§’æ•°%S : ç§’(00..61)%T : ç›´æ¥æ˜¾ç¤ºæ—¶é—´(24å°æ—¶åˆ¶)%X : ç›¸å½“äº%H:%M:%S %p%Z : æ˜¾ç¤ºæ—¶åŒº è‹¥æ˜¯ä¸ä»¥åŠ å·ä½œä¸ºå¼€å¤´ï¼Œåˆ™è¡¨ç¤ºè¦è®¾å®šæ—¶é—´ï¼Œè€Œæ—¶é—´æ ¼å¼ä¸º MMDDhhmm[[CC]YY][.ss] 1234567MM ä¸ºæœˆä»½ï¼Œ DD ä¸ºæ—¥ï¼Œhh ä¸ºå°æ—¶ï¼Œmm ä¸ºåˆ†é’Ÿï¼ŒCC ä¸ºå¹´ä»½å‰ä¸¤ä½æ•°å­—ï¼ŒYY ä¸ºå¹´ä»½åä¸¤ä½æ•°å­—ï¼Œss ä¸ºç§’æ•° æœ‰ç”¨çš„å°æŠ€å·§12345678910111213141516171819202122## è·å–ç›¸å¯¹æŸä¸ªæ—¥æœŸå‰åçš„æ—¥æœŸï¼šcts1 ~ # date -d 'may 14 -2 weeks'2018å¹´ 04æœˆ 30æ—¥ æ˜ŸæœŸä¸€ 00:00:00 CST## æŠŠæ—¶é—´å½“ä¸­æ— ç”¨çš„0å»æ‰ï¼Œæ¯”å¦‚ï¼š01:02:25ä¼šå˜æˆ1:2:25cts1 ~ # date '+%-H:%-M:%-S'19:18:22## æ˜¾ç¤ºæ–‡ä»¶æœ€åè¢«æ›´æ”¹çš„æ—¶é—´cts1 ~ # date "+%Y-%m-%d %H:%M:%S" -r install.log2018-05-23 10:11:14## æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¥æœŸä¹‹é—´ç›¸éš”çš„å¤©æ•°[root@hadoop ~]# expr '(' $(date +%s -d "2016-08-08") - $(date +%s -d "2016-09-09") ')' / 86400expr `expr $(date +%s -d "2016-08-08") - $(date +%s -d "2016-09-09")` / 86400## shellä¸­åŠ å‡æŒ‡å®šé—´éš”å•ä½cts1 ~ # A=`date +%Y-%m-%d`cts1 ~ # B=`date +%Y-%m-%d -d "$A +48 hours"`cts1 ~ # echo $B2018-05-30 2. æ–‡æœ¬å¤„ç†wcåŠŸèƒ½ï¼š ç»Ÿè®¡æ–‡ä»¶è¡Œæ•°ã€å­—èŠ‚ã€å­—ç¬¦æ•° é€‰é¡¹1234567-c # ç»Ÿè®¡å­—èŠ‚æ•°ï¼Œæˆ–--bytesæˆ–â€”â€”charsï¼šåªæ˜¾ç¤ºBytesæ•°ï¼›ã€‚-l # ç»Ÿè®¡è¡Œæ•°ï¼Œæˆ–â€”â€”linesï¼šåªæ˜¾ç¤ºåˆ—æ•°ï¼›ã€‚-m # ç»Ÿè®¡å­—ç¬¦æ•°ã€‚è¿™ä¸ªæ ‡å¿—ä¸èƒ½ä¸ -c æ ‡å¿—ä¸€èµ·ä½¿ç”¨ã€‚-w # ç»Ÿè®¡å­—æ•°ï¼Œæˆ–â€”â€”wordsï¼šåªæ˜¾ç¤ºå­—æ•°ã€‚ä¸€ä¸ªå­—è¢«å®šä¹‰ä¸ºç”±ç©ºç™½ã€è·³æ ¼æˆ–æ¢è¡Œå­—ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸²ã€‚-L # æ‰“å°æœ€é•¿è¡Œçš„é•¿åº¦ã€‚-help # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯--version # æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ ä¾‹å­123456789101112131415161718192021222324wc -l * # ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶è¡Œæ•°wc -l *.js # ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ .js åç¼€çš„æ–‡ä»¶è¡Œæ•°find . * | xargs wc -l # å½“å‰ç›®å½•ä»¥åŠå­ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶è¡Œæ•° wc test.txt # æŸ¥çœ‹æ–‡ä»¶çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°# æŸ¥çœ‹æ–‡ä»¶çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°wc test.txt# è¾“å‡ºç»“æœ7 8 70 test.txtè¡Œæ•° å•è¯æ•° å­—èŠ‚æ•° æ–‡ä»¶å# ç”¨wcå‘½ä»¤åªæ‰“å°ç»Ÿè®¡æ–‡ä»¶è¡Œæ•°ä¸æ‰“å°æ–‡ä»¶åwc -l test.txt # è¾“å‡ºç»“æœ7 test.txt# ç”¨æ¥ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ•°ls -l | wc -l# è¾“å‡ºç»“æœ8# ç»Ÿè®¡æ–‡ä»¶å­—æ•°ï¼šcts1 ~ # wc -w date.txt30 date.txt sortsortå‘½ä»¤ æ˜¯åœ¨Linuxé‡Œéå¸¸æœ‰ç”¨ï¼Œå®ƒå°†æ–‡ä»¶è¿›è¡Œæ’åºï¼Œå¹¶å°†æ’åºç»“æœæ ‡å‡†è¾“å‡ºã€‚sortå‘½ä»¤æ—¢å¯ä»¥ä»ç‰¹å®šçš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä»stdinä¸­è·å–è¾“å…¥ã€‚ é€‰é¡¹123456789101112131415-bï¼šå¿½ç•¥æ¯è¡Œå‰é¢å¼€å§‹å‡ºçš„ç©ºæ ¼å­—ç¬¦ï¼›-cï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç»æŒ‰ç…§é¡ºåºæ’åºï¼›-dï¼šæ’åºæ—¶ï¼Œå¤„ç†è‹±æ–‡å­—æ¯ã€æ•°å­—åŠç©ºæ ¼å­—ç¬¦å¤–ï¼Œå¿½ç•¥å…¶ä»–çš„å­—ç¬¦ï¼›-fï¼šæ’åºæ—¶ï¼Œå°†å°å†™å­—æ¯è§†ä¸ºå¤§å†™å­—æ¯ï¼›-iï¼šæ’åºæ—¶ï¼Œé™¤äº†040è‡³176ä¹‹é—´çš„ASCIIå­—ç¬¦å¤–ï¼Œå¿½ç•¥å…¶ä»–çš„å­—ç¬¦ï¼›-mï¼šå°†å‡ ä¸ªæ’åºå·çš„æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼›-Mï¼šå°†å‰é¢3ä¸ªå­—æ¯ä¾ç…§æœˆä»½çš„ç¼©å†™è¿›è¡Œæ’åºï¼›-nï¼šä¾ç…§æ•°å€¼çš„å¤§å°æ’åºï¼›-o&lt;è¾“å‡ºæ–‡ä»¶&gt;ï¼šå°†æ’åºåçš„ç»“æœå­˜å…¥åˆ¶å®šçš„æ–‡ä»¶ï¼›-rï¼šä»¥ç›¸åçš„é¡ºåºæ¥æ’åºï¼›-t&lt;åˆ†éš”å­—ç¬¦&gt;ï¼šæŒ‡å®šæ’åºæ—¶æ‰€ç”¨çš„æ ä½åˆ†éš”å­—ç¬¦ï¼›-gï¼šæŒ‰ç…§å¸¸è§„æ•°å€¼æ’åº-kï¼šä½ç½®1,ä½ç½®2æ ¹æ®å…³é”®å­—æ’åºï¼Œåœ¨ä»ç¬¬ä½ç½®1å¼€å§‹ï¼Œä½ç½®2ç»“æŸ+&lt;èµ·å§‹æ ä½&gt;-&lt;ç»“æŸæ ä½&gt;ï¼šä»¥æŒ‡å®šçš„æ ä½æ¥æ’åºï¼ŒèŒƒå›´ç”±èµ·å§‹æ ä½åˆ°ç»“æŸæ ä½çš„å‰ä¸€æ ä½ã€‚ å®ä¾‹ sortå°†æ–‡ä»¶/æ–‡æœ¬çš„æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå•ä½ï¼Œç›¸äº’æ¯”è¾ƒï¼Œæ¯”è¾ƒåŸåˆ™æ˜¯ä»é¦–å­—ç¬¦å‘åï¼Œä¾æ¬¡æŒ‰ASCIIç å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå°†ä»–ä»¬æŒ‰å‡åºè¾“å‡ºã€‚ 123456789101112131415root@[mail text]# cat sort.txtaaa:10:1.1ccc:30:3.3ddd:40:4.4bbb:20:2.2eee:50:5.5eee:50:5.5[root@mail text]# sort sort.txtaaa:10:1.1bbb:20:2.2ccc:30:3.3ddd:40:4.4eee:50:5.5eee:50:5.5 å¿½ç•¥ç›¸åŒè¡Œä½¿ç”¨-ué€‰é¡¹æˆ–è€…uniqï¼š 1234567891011121314151617181920212223[root@mail text]# cat sort.txtaaa:10:1.1ccc:30:3.3ddd:40:4.4bbb:20:2.2eee:50:5.5eee:50:5.5[root@mail text]# sort -u sort.txtaaa:10:1.1bbb:20:2.2ccc:30:3.3ddd:40:4.4eee:50:5.5æˆ–è€…[root@mail text]# uniq sort.txtaaa:10:1.1ccc:30:3.3ddd:40:4.4bbb:20:2.2eee:50:5.5 sortçš„-nã€-rã€-kã€-té€‰é¡¹çš„ä½¿ç”¨ï¼š 123456789101112131415161718192021222324252627282930313233[root@mail text]# cat sort.txtAAA:BB:CCaaa:30:1.6ccc:50:3.3ddd:20:4.2bbb:10:2.5eee:40:5.4eee:60:5.1#å°†BBåˆ—æŒ‰ç…§æ•°å­—ä»å°åˆ°å¤§é¡ºåºæ’åˆ—ï¼š[root@mail text]# sort -nk 2 -t: sort.txtAAA:BB:CCbbb:10:2.5ddd:20:4.2aaa:30:1.6eee:40:5.4ccc:50:3.3eee:60:5.1#å°†CCåˆ—æ•°å­—ä»å¤§åˆ°å°é¡ºåºæ’åˆ—ï¼š[root@mail text]# sort -nrk 3 -t: sort.txteee:40:5.4eee:60:5.1ddd:20:4.2ccc:50:3.3bbb:10:2.5aaa:30:1.6AAA:BB:CC# -næ˜¯æŒ‰ç…§æ•°å­—å¤§å°æ’åºï¼Œ-ræ˜¯ä»¥ç›¸åé¡ºåºï¼Œ-kæ˜¯æŒ‡å®šéœ€è¦æ’åºçš„æ ä½ï¼Œ-tæŒ‡å®šæ ä½åˆ†éš”ç¬¦ä¸ºå†’å·# å¤šåˆ—æ’åºï¼šä»¥:åˆ†éš”ï¼ŒæŒ‰ç¬¬äºŒåˆ—æ•°å€¼æ’å€’åºï¼Œç¬¬ä¸‰åˆ—æ­£åº[linux@linux ~]$ sort -n -t: -k2,2r -k3 sort.txt -ké€‰é¡¹çš„å…·ä½“è¯­æ³•æ ¼å¼ï¼š x,x è¡¨ç¤ºä¸€ä¸ªèŒƒå›´ 123FStart.CStart Modifie,FEnd.CEnd Modifier-------Start--------,-------End-------- FStart.CStart é€‰é¡¹ , FEnd.CEnd é€‰é¡¹ è¿™ä¸ªè¯­æ³•æ ¼å¼å¯ä»¥è¢«å…¶ä¸­çš„é€—å·,åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œ Start éƒ¨åˆ†å’Œ End éƒ¨åˆ†ã€‚Startéƒ¨åˆ†ä¹Ÿç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­çš„Modifieréƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„ç±»ä¼¼nå’Œrçš„é€‰é¡¹éƒ¨åˆ†ã€‚æˆ‘ä»¬é‡ç‚¹è¯´è¯´Startéƒ¨åˆ†çš„FStartå’ŒC.Startã€‚C.Startä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ï¼Œçœç•¥çš„è¯å°±è¡¨ç¤ºä»æœ¬åŸŸçš„å¼€å¤´éƒ¨åˆ†å¼€å§‹ã€‚FStart.CStartï¼Œå…¶ä¸­FStartå°±æ˜¯è¡¨ç¤ºä½¿ç”¨çš„åŸŸï¼Œè€ŒCStartåˆ™è¡¨ç¤ºåœ¨FStartåŸŸä¸­ä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹ç®—â€œæ’åºé¦–å­—ç¬¦â€ã€‚åŒç†ï¼Œåœ¨Endéƒ¨åˆ†ä¸­ï¼Œä½ å¯ä»¥è®¾å®šFEnd.CEndï¼Œå¦‚æœä½ çœç•¥.CEndï¼Œåˆ™è¡¨ç¤ºç»“å°¾åˆ°â€œåŸŸå°¾â€ï¼Œå³æœ¬åŸŸçš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚æˆ–è€…ï¼Œå¦‚æœä½ å°†CEndè®¾å®šä¸º0(é›¶)ï¼Œä¹Ÿæ˜¯è¡¨ç¤ºç»“å°¾åˆ°â€œåŸŸå°¾â€ã€‚ ä»å…¬å¸è‹±æ–‡åç§°çš„ç¬¬äºŒä¸ªå­—æ¯å¼€å§‹è¿›è¡Œæ’åºï¼š 1234567# å…ˆåˆ›å»ºæ­¤txtæ–‡ä»¶# å†æ’åº$ sort -t ' ' -k 1.2 facebook.txtbaidu 100 5000sohu 100 4500google 110 5000guge 50 3000 -t &#39; &#39;, é¦–å…ˆç”¨&#39; &#39;ç©ºæ ¼, æŠŠå­—æ®µåˆ†å‰²æˆäº†3ä¸ªåŸŸ. ä½¿ç”¨äº†-k 1.2ï¼Œè¡¨ç¤ºå¯¹ç¬¬ä¸€ä¸ªåŸŸçš„ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹åˆ°æœ¬åŸŸçš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åºã€‚ä½ ä¼šå‘ç°baiduå› ä¸ºç¬¬äºŒä¸ªå­—æ¯æ˜¯aè€Œååˆ—æ¦œé¦–ã€‚sohuå’Œ googleç¬¬äºŒä¸ªå­—ç¬¦éƒ½æ˜¯oï¼Œä½†sohuçš„håœ¨googleçš„oå‰é¢ï¼Œæ‰€ä»¥ä¸¤è€…åˆ†åˆ«æ’åœ¨ç¬¬äºŒå’Œç¬¬ä¸‰ã€‚gugeåªèƒ½å±ˆå±…ç¬¬å››äº†ã€‚ åªé’ˆå¯¹å…¬å¸è‹±æ–‡åç§°çš„ç¬¬äºŒä¸ªå­—æ¯è¿›è¡Œæ’åºï¼Œå¦‚æœç›¸åŒçš„æŒ‰ç…§å‘˜å·¥å·¥èµ„è¿›è¡Œé™åºæ’åºï¼š 12345$ sort -t ' ' -k 1.2,1.2 -nrk 3,3 facebook.txtbaidu 100 5000google 110 5000sohu 100 4500guge 50 3000 ç”±äºåªå¯¹ç¬¬äºŒä¸ªå­—æ¯è¿›è¡Œæ’åºï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†-k 1.2,1.2çš„è¡¨ç¤ºæ–¹å¼ï¼Œè¡¨ç¤ºæˆ‘ä»¬â€œåªâ€å¯¹ç¬¬äºŒä¸ªå­—æ¯è¿›è¡Œæ’åºã€‚ï¼ˆå¦‚æœä½ é—®â€œæˆ‘ä½¿ç”¨-k 1.2æ€ä¹ˆä¸è¡Œï¼Ÿâ€ï¼Œå½“ç„¶ä¸è¡Œï¼Œå› ä¸ºä½ çœç•¥äº†Endéƒ¨åˆ†ï¼Œè¿™å°±æ„å‘³ç€ä½ å°†å¯¹ä»ç¬¬äºŒä¸ªå­—æ¯èµ·åˆ°æœ¬åŸŸæœ€åä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼‰ã€‚å¯¹äºå‘˜å·¥å·¥èµ„è¿›è¡Œæ’ åºï¼Œæˆ‘ä»¬ä¹Ÿä½¿ç”¨äº†-k 3,3ï¼Œè¿™æ˜¯æœ€å‡†ç¡®çš„è¡¨è¿°ï¼Œè¡¨ç¤ºæˆ‘ä»¬â€œåªâ€å¯¹æœ¬åŸŸè¿›è¡Œæ’åºï¼Œå› ä¸ºå¦‚æœä½ çœç•¥äº†åé¢çš„3ï¼Œå°±å˜æˆäº†æˆ‘ä»¬â€œå¯¹ç¬¬3ä¸ªåŸŸå¼€å§‹åˆ°æœ€åä¸€ä¸ªåŸŸä½ç½®çš„å†…å®¹è¿›è¡Œæ’åºâ€ äº†ã€‚ uniquniqå‘½ä»¤ ç”¨äºæŠ¥å‘Šæˆ–å¿½ç•¥æ–‡ä»¶ä¸­çš„é‡å¤è¡Œï¼Œä¸€èˆ¬ä¸sortå‘½ä»¤ç»“åˆä½¿ç”¨ã€‚ é€‰é¡¹123456-cæˆ–â€”â€”countï¼šåœ¨æ¯åˆ—æ—è¾¹æ˜¾ç¤ºè¯¥è¡Œé‡å¤å‡ºç°çš„æ¬¡æ•°ï¼›-dæˆ–--repeatedï¼šä»…æ˜¾ç¤ºé‡å¤å‡ºç°çš„è¡Œåˆ—ï¼›-f&lt;æ ä½&gt;æˆ–--skip-fields=&lt;æ ä½&gt;ï¼šå¿½ç•¥æ¯”è¾ƒæŒ‡å®šçš„æ ä½ï¼›-s&lt;å­—ç¬¦ä½ç½®&gt;æˆ–--skip-chars=&lt;å­—ç¬¦ä½ç½®&gt;ï¼šå¿½ç•¥æ¯”è¾ƒæŒ‡å®šçš„å­—ç¬¦ï¼›-uæˆ–â€”â€”uniqueï¼šä»…æ˜¾ç¤ºå‡ºä¸€æ¬¡çš„è¡Œåˆ—ï¼›-w&lt;å­—ç¬¦ä½ç½®&gt;æˆ–--check-chars=&lt;å­—ç¬¦ä½ç½®&gt;ï¼šæŒ‡å®šè¦æ¯”è¾ƒçš„å­—ç¬¦ã€‚ å‚æ•° è¾“å…¥æ–‡ä»¶ï¼šæŒ‡å®šè¦å»é™¤çš„é‡å¤è¡Œæ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šæ­¤é¡¹ï¼Œåˆ™ä»æ ‡å‡†è¯»å–æ•°æ®ï¼› è¾“å‡ºæ–‡ä»¶ï¼šæŒ‡å®šè¦å»é™¤é‡å¤è¡Œåçš„å†…å®¹è¦å†™å…¥çš„è¾“å‡ºæ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šæ­¤é€‰é¡¹ï¼Œåˆ™å°†å†…å®¹æ˜¾ç¤ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ˆæ˜¾ç¤ºç»ˆç«¯ï¼‰ã€‚ å®ä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758[root]# cat sort.txt : åŸæœ¬è¡Œaaa:10:1.1ccc:30:3.3ddd:40:4.4bbb:20:2.2eee:50:5.5eee:50:5.5[root]# uniq sort.txt : ä¸å±•ç¤ºé‡å¤è¡Œaaa:10:1.1ccc:30:3.3ddd:40:4.4bbb:20:2.2eee:50:5.5[cts1:Desktop][cts1:Desktop][root]# sort sort.txt | uniq : ä¸å±•ç¤ºé‡å¤è¡Œaaa:10:1.1bbb:20:2.2ccc:30:3.3ddd:40:4.4eee:50:5.5[cts1:Desktop][root]# uniq -u sort.txt : åˆ é™¤é‡å¤è¡Œaaa:10:1.1ccc:30:3.3ddd:40:4.4bbb:20:2.2[cts1:Desktop][root]# sort sort.txt | uniq -u : æ’åºå¹¶åˆ é™¤é‡å¤è¡Œaaa:10:1.1bbb:20:2.2ccc:30:3.3ddd:40:4.4[cts1:Desktop][root]# sort sort.txt | uniq -c : å±•ç¤ºæ¯è¡Œå‡ºç°çš„æ¬¡æ•° 1 aaa:10:1.1 1 bbb:20:2.2 1 ccc:30:3.3 1 ddd:40:4.4 2 eee:50:5.5[cts1:Desktop][root]# sort sort.txt | uniq -d : åªå±•ç¤ºé‡å¤è¡Œeee:50:5.5# æ±‚a.txtå’Œb.txtçš„å·®é›† ## é¦–å…ˆa b å»æ‰é‡å¤çš„, å†è·Ÿa bå»é‡, æŠŠbå…¶å®ƒçš„éƒ¨åˆ†ä¹Ÿå»æ‰cts1 Desktop # cat a b b | sort | uniq -uab# æ±‚b.txtå’Œa.txtçš„å·®é›† ## åŒä¸Šcts1 Desktop # cat b a a | sort | uniq -uef cutcutå‘½ä»¤ ç”¨æ¥æ˜¾ç¤ºè¡Œä¸­çš„æŒ‡å®šéƒ¨åˆ†ï¼Œåˆ é™¤æ–‡ä»¶ä¸­æŒ‡å®šå­—æ®µã€‚cutç»å¸¸ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹ï¼Œç±»ä¼¼äºä¸‹çš„typeå‘½ä»¤ã€‚ è¯´æ˜ï¼šè¯¥å‘½ä»¤æœ‰ä¸¤é¡¹åŠŸèƒ½ï¼Œå…¶ä¸€æ˜¯ç”¨æ¥æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹ï¼Œå®ƒä¾æ¬¡è¯»å–ç”±å‚æ•°fileæ‰€æŒ‡ æ˜çš„æ–‡ä»¶ï¼Œå°†å®ƒä»¬çš„å†…å®¹è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸Šï¼›å…¶äºŒæ˜¯è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚cut fl f2 &gt; f3å°†æŠŠæ–‡ä»¶flå’Œå‡ çš„å†…å®¹åˆå¹¶èµ·æ¥ï¼Œç„¶åé€šè¿‡è¾“å‡ºé‡å®šå‘ç¬¦â€œ&gt;â€çš„ä½œç”¨ï¼Œå°†å®ƒä»¬æ”¾å…¥æ–‡ä»¶f3ä¸­ã€‚ å½“æ–‡ä»¶è¾ƒå¤§æ—¶ï¼Œæ–‡æœ¬åœ¨å±å¹•ä¸Šè¿…é€Ÿé—ªè¿‡ï¼ˆæ»šå±ï¼‰ï¼Œç”¨æˆ·å¾€å¾€çœ‹ä¸æ¸…æ‰€æ˜¾ç¤ºçš„å†…å®¹ã€‚å› æ­¤ï¼Œä¸€èˆ¬ç”¨moreç­‰å‘½ä»¤åˆ†å±æ˜¾ç¤ºã€‚ä¸ºäº†æ§åˆ¶æ»šå±ï¼Œå¯ä»¥æŒ‰Ctrl+Sé”®ï¼Œåœæ­¢æ»šå±ï¼›æŒ‰Ctrl+Qé”®å¯ä»¥æ¢å¤æ»šå±ã€‚æŒ‰Ctrl+Cï¼ˆä¸­æ–­ï¼‰é”®å¯ä»¥ç»ˆæ­¢è¯¥å‘½ä»¤çš„æ‰§è¡Œï¼Œå¹¶ä¸”è¿”å›Shellæç¤ºç¬¦çŠ¶æ€ã€‚ é€‰é¡¹123456789-bï¼šä»…æ˜¾ç¤ºè¡Œä¸­æŒ‡å®šç›´æ¥èŒƒå›´çš„å†…å®¹ï¼›-cï¼šä»…æ˜¾ç¤ºè¡Œä¸­æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ï¼› -dï¼šæŒ‡å®šå­—æ®µçš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦ä¸ºâ€œTABâ€ï¼› -fï¼šæ˜¾ç¤ºæŒ‡å®šå­—æ®µçš„å†…å®¹ï¼›-nï¼šä¸â€œ-bâ€é€‰é¡¹è¿ç”¨ï¼Œä¸åˆ†å‰²å¤šå­—èŠ‚å­—ç¬¦ï¼›--complementï¼šè¡¥è¶³è¢«é€‰æ‹©çš„å­—èŠ‚ã€å­—ç¬¦æˆ–å­—æ®µï¼›--out-delimiter=&lt;å­—æ®µåˆ†éš”ç¬¦&gt;ï¼šæŒ‡å®šè¾“å‡ºå†…å®¹æ˜¯çš„å­—æ®µåˆ†å‰²ç¬¦ï¼›--helpï¼šæ˜¾ç¤ºæŒ‡ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼›--versionï¼šæ˜¾ç¤ºæŒ‡ä»¤çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ å‚æ•°æ–‡ä»¶ï¼šæŒ‡å®šè¦è¿›è¡Œå†…å®¹è¿‡æ»¤çš„æ–‡ä»¶ã€‚ å®ä¾‹ä¾‹å¦‚æœ‰ä¸€ä¸ªå­¦ç”ŸæŠ¥è¡¨ä¿¡æ¯ï¼ŒåŒ…å«Noã€Nameã€Markã€Percentï¼š 12345[root@localhost text]# cat cut.txt No Name Mark Percent01 tom 69 9102 jack 71 8703 alex 68 98 -fä½¿ç”¨-f é€‰é¡¹æå–æŒ‡å®šå­—æ®µ 12345[root@localhost text]# cut -d ' ' -f1 cut.txt No010203 12345[root@localhost text]# cut -d ' ' -f2,3 test.txt Name Marktom 69jack 71alex 68 â€“complementé€‰é¡¹æå–æŒ‡å®šå­—æ®µä¹‹å¤–çš„åˆ—ï¼ˆæ‰“å°é™¤äº†ç¬¬äºŒåˆ—ä¹‹å¤–çš„åˆ—ï¼‰ï¼š 12345cut -d ' ' -f2 --complement cut.txtNo Mark Percent01 69 9102 71 8703 68 98 æŒ‡å®šå­—æ®µçš„å­—ç¬¦æˆ–è€…å­—èŠ‚èŒƒå›´ &amp; ä¾‹å­cutå‘½ä»¤å¯ä»¥å°†ä¸€ä¸²å­—ç¬¦ä½œä¸ºåˆ—æ¥æ˜¾ç¤ºï¼Œå­—ç¬¦å­—æ®µçš„è®°æ³•ï¼š N- ï¼šä»ç¬¬Nä¸ªå­—èŠ‚ã€å­—ç¬¦ã€å­—æ®µåˆ°ç»“å°¾ï¼› N-M ï¼šä»ç¬¬Nä¸ªå­—èŠ‚ã€å­—ç¬¦ã€å­—æ®µåˆ°ç¬¬Mä¸ªï¼ˆåŒ…æ‹¬Måœ¨å†…ï¼‰å­—èŠ‚ã€å­—ç¬¦ã€å­—æ®µï¼› -M ï¼šä»ç¬¬1ä¸ªå­—èŠ‚ã€å­—ç¬¦ã€å­—æ®µåˆ°ç¬¬Mä¸ªï¼ˆåŒ…æ‹¬Måœ¨å†…ï¼‰å­—èŠ‚ã€å­—ç¬¦ã€å­—æ®µã€‚ ä¸Šé¢æ˜¯è®°æ³•ï¼Œç»“åˆä¸‹é¢é€‰é¡¹å°†æ‘¸ä¸ªèŒƒå›´çš„å­—èŠ‚ã€å­—ç¬¦æŒ‡å®šä¸ºå­—æ®µï¼š -b è¡¨ç¤ºå­—èŠ‚ï¼› -c è¡¨ç¤ºå­—ç¬¦ï¼› -f è¡¨ç¤ºå®šä¹‰å­—æ®µã€‚ å®ä¾‹123456789101112131415161718192021222324252627282930[root@localhost text]# cat test.txt abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz# æ‰“å°ç¬¬1ä¸ªåˆ°ç¬¬3ä¸ªå­—ç¬¦ï¼šcut -c1-3 test.txt abcabcabcabcabc# æ‰“å°å‰2ä¸ªå­—ç¬¦ï¼šcut -c-2 test.txt ababababab# æ‰“å°ä»ç¬¬5ä¸ªå­—ç¬¦å¼€å§‹åˆ°ç»“å°¾ï¼šcut -c5- test.txt efghijklmnopqrstuvwxyzefghijklmnopqrstuvwxyzefghijklmnopqrstuvwxyzefghijklmnopqrstuvwxyzefghijklmnopqrstuvwxyz grep(æ–‡æœ¬ç”Ÿæˆå™¨)grep ï¼ˆglobal search regular expression(RE) and print out the lineï¼Œå…¨é¢æœç´¢æ­£åˆ™è¡¨è¾¾å¼å¹¶æŠŠè¡Œæ‰“å°å‡ºæ¥ï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚ç”¨äºè¿‡æ»¤/æœç´¢çš„ç‰¹å®šå­—ç¬¦ã€‚å¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼èƒ½å¤šç§å‘½ä»¤é…åˆä½¿ç”¨ï¼Œä½¿ç”¨ä¸Šååˆ†çµæ´»ã€‚ é€‰é¡¹123456789101112131415161718192021222324252627-a --text # ä¸è¦å¿½ç•¥äºŒè¿›åˆ¶æ•°æ®ã€‚-A &lt;æ˜¾ç¤ºè¡Œæ•°&gt; --after-context=&lt;æ˜¾ç¤ºè¡Œæ•°&gt; # é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹åçš„å†…å®¹ã€‚-b --byte-offset # åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹ã€‚-B&lt;æ˜¾ç¤ºè¡Œæ•°&gt; --before-context=&lt;æ˜¾ç¤ºè¡Œæ•°&gt; # é™¤äº†æ˜¾ç¤ºç¬¦åˆæ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹ã€‚-c --count # è®¡ç®—ç¬¦åˆèŒƒæœ¬æ ·å¼çš„åˆ—æ•°ã€‚-C&lt;æ˜¾ç¤ºè¡Œæ•°&gt; --context=&lt;æ˜¾ç¤ºè¡Œæ•°&gt;æˆ–-&lt;æ˜¾ç¤ºè¡Œæ•°&gt; # é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥åˆ—ä¹‹å‰åçš„å†…å®¹ã€‚-d&lt;è¿›è¡ŒåŠ¨ä½œ&gt; --directories=&lt;åŠ¨ä½œ&gt; # å½“æŒ‡å®šè¦æŸ¥æ‰¾çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹å‚æ•°ï¼Œå¦åˆ™grepå‘½ä»¤å°†å›æŠ¥ä¿¡æ¯å¹¶åœæ­¢åŠ¨ä½œã€‚-e&lt;èŒƒæœ¬æ ·å¼&gt; --regexp=&lt;èŒƒæœ¬æ ·å¼&gt; # æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„èŒƒæœ¬æ ·å¼ã€‚-E --extended-regexp # å°†èŒƒæœ¬æ ·å¼ä¸ºå»¶ä¼¸çš„æ™®é€šè¡¨ç¤ºæ³•æ¥ä½¿ç”¨ï¼Œæ„å‘³ç€ä½¿ç”¨èƒ½ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ã€‚-f&lt;èŒƒæœ¬æ–‡ä»¶&gt; --file=&lt;è§„åˆ™æ–‡ä»¶&gt; # æŒ‡å®šèŒƒæœ¬æ–‡ä»¶ï¼Œå…¶å†…å®¹æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªèŒƒæœ¬æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆèŒƒæœ¬æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯ä¸€åˆ—çš„èŒƒæœ¬æ ·å¼ã€‚-F --fixed-regexp # å°†èŒƒæœ¬æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚-G --basic-regexp # å°†èŒƒæœ¬æ ·å¼è§†ä¸ºæ™®é€šçš„è¡¨ç¤ºæ³•æ¥ä½¿ç”¨ã€‚-h --no-filename # åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œä¸æ ‡ç¤ºè¯¥åˆ—æ‰€å±çš„æ–‡ä»¶åç§°ã€‚-H --with-filename # åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œæ ‡ç¤ºè¯¥åˆ—çš„æ–‡ä»¶åç§°ã€‚-i --ignore-case # å¿½ç•¥å­—ç¬¦å¤§å°å†™çš„å·®åˆ«ã€‚-l --file-with-matches # åˆ—å‡ºæ–‡ä»¶å†…å®¹ç¬¦åˆæŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶åç§°ã€‚-L --files-without-match # åˆ—å‡ºæ–‡ä»¶å†…å®¹ä¸ç¬¦åˆæŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶åç§°ã€‚-n --line-number # åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥åˆ—çš„ç¼–å·ã€‚-q --quietæˆ–--silent # ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚-R/-r --recursive # æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€œ-d recurseâ€å‚æ•°ç›¸åŒã€‚-s --no-messages # ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚-v --revert-match # åè½¬æŸ¥æ‰¾ã€‚-V --version # æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -w --word-regexp # åªæ˜¾ç¤ºå…¨å­—ç¬¦åˆçš„åˆ—ã€‚-x --line-regexp # åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ—ã€‚-y # æ­¤å‚æ•°æ•ˆæœè·Ÿâ€œ-iâ€ç›¸åŒã€‚-o # åªè¾“å‡ºæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ†ã€‚ grepä¸­çš„æ­£åˆ™è¡¨è¾¾å¼12345678910111213141516171819202122232425^ # é”šå®šè¡Œçš„å¼€å§‹ å¦‚ï¼š'^grep'åŒ¹é…æ‰€æœ‰ä»¥grepå¼€å¤´çš„è¡Œã€‚ $ # é”šå®šè¡Œçš„ç»“æŸ å¦‚ï¼š'grep$'åŒ¹é…æ‰€æœ‰ä»¥grepç»“å°¾çš„è¡Œã€‚ . # åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ å¦‚ï¼š'gr.p'åŒ¹é…gråæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ * # åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå…ˆå‰å­—ç¬¦ å¦‚ï¼š'*grep'åŒ¹é…æ‰€æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿgrepçš„è¡Œã€‚ .* # ä¸€èµ·ç”¨ä»£è¡¨ä»»æ„å­—ç¬¦ã€‚ [] # åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚'[Gg]rep'åŒ¹é…Grepå’Œgrepã€‚ [^] # åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š'[^A-FH-Z]rep'åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿrepçš„è¡Œã€‚ \ # è½¬ä¹‰\(..\) # æ ‡è®°åŒ¹é…å­—ç¬¦ï¼Œå¦‚'\(love\)'ï¼Œloveè¢«æ ‡è®°ä¸º1ã€‚ \&lt; # é”šå®šå•è¯çš„å¼€å§‹ï¼Œå¦‚:'\&lt;grep'åŒ¹é…åŒ…å«ä»¥grepå¼€å¤´çš„å•è¯çš„è¡Œã€‚ \&gt; # é”šå®šå•è¯çš„ç»“æŸï¼Œå¦‚'grep\&gt;'åŒ¹é…åŒ…å«ä»¥grepç»“å°¾çš„å•è¯çš„è¡Œã€‚ x\&#123;m\&#125; # é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š'o\&#123;5\&#125;'åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚ x\&#123;m,\&#125; # é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š'o\&#123;5,\&#125;'åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚ x\&#123;m,n\&#125; # é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š'o\&#123;5,10\&#125;'åŒ¹é…5--10ä¸ªoçš„è¡Œã€‚ \w # åŒ¹é…æ–‡å­—å’Œæ•°å­—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯[A-Za-z0-9]ï¼Œå¦‚ï¼š'G\w*p'åŒ¹é…ä»¥Gåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ªæ–‡å­—æˆ–æ•°å­—å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ \W # \wçš„åç½®å½¢å¼ï¼ŒåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªéå•è¯å­—ç¬¦ï¼Œå¦‚ç‚¹å·å¥å·ç­‰ã€‚ \b # å•è¯é”å®šç¬¦ï¼Œå¦‚: '\bgrep\b'åªåŒ¹é…grepã€‚å¢å½•. # ä»»æ„ä¸€ä¸ªå­—ç¬¦a* # ä»»æ„å¤šä¸ªa(0ä¸ªæˆ–å¤šä¸ª)a? # 0ä¸ªæˆ–1ä¸ªaa+ # ä¸€ä¸ªæˆ–å¤šä¸ªa[A-Z][ABC] grepå‘½ä»¤å¸¸è§ç”¨æ³• åœ¨æ–‡ä»¶ä¸­æœç´¢ä¸€ä¸ªå•è¯ï¼Œå‘½ä»¤ä¼šè¿”å›ä¸€ä¸ªåŒ…å« â€œmatch_patternâ€ çš„æ–‡æœ¬è¡Œï¼š 12grep match_pattern file_namegrep "match_pattern" file_name åœ¨å¤šä¸ªæ–‡ä»¶ä¸­æŸ¥æ‰¾ 1grep "match_pattern" file_1 file_2 file_3 ... è¾“å‡ºé™¤ â€œmatch_patternâ€ ä¹‹å¤–çš„æ‰€æœ‰è¡Œ &gt;&gt; -v é€‰é¡¹ï¼š 1grep -v "match_pattern" file_name æ ‡è®°åŒ¹é…é¢œè‰² â€“color=auto é€‰é¡¹ï¼š 12345678910grep "match_pattern" file_name --color=autoeg: æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­çš„ `a`cts1 Desktop # grep "\(a\)" ./* --color=auto---./a:a./abc.txt:abcdefghijklmnopqrstuvwxyz./abc.txt:abcdefghijklmnopqrstuvwxyz./abc.txt:abcdefghijklmnopqrstuvwxyz... ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ -E é€‰é¡¹ï¼š123grep -E "[1-9]+"æˆ–egrep "[1-9]+" åªè¾“å‡ºæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ† -o é€‰é¡¹ï¼š 12345echo this is a test line. | grep -o -E "[a-z]+\."line.echo this is a test line. | egrep -o "[a-z]+\."line. ç»Ÿè®¡æ–‡ä»¶æˆ–è€…æ–‡æœ¬ä¸­åŒ…å«åŒ¹é…å­—ç¬¦ä¸²çš„è¡Œæ•° -c é€‰é¡¹ï¼š 1grep -c "text" file_name è¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦ä¸²çš„è¡Œæ•° -n é€‰é¡¹ï¼š 123456grep "text" -n file_nameæˆ–cat file_name | grep "text" -n#å¤šä¸ªæ–‡ä»¶grep "text" -n file_1 file_2 æ‰“å°æ ·å¼åŒ¹é…æ‰€ä½äºçš„å­—ç¬¦æˆ–å­—èŠ‚åç§» 1234echo gun is not unix | grep -b -o "not"7:not#ä¸€è¡Œä¸­å­—ç¬¦ä¸²çš„å­—ç¬¦ä¾¿å®œæ˜¯ä»è¯¥è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è®¡ç®—ï¼Œèµ·å§‹å€¼ä¸º0ã€‚é€‰é¡¹ **-b -o** ä¸€èˆ¬æ€»æ˜¯é…åˆä½¿ç”¨ã€‚ æœç´¢å¤šä¸ªæ–‡ä»¶å¹¶æŸ¥æ‰¾åŒ¹é…æ–‡æœ¬åœ¨å“ªäº›æ–‡ä»¶ä¸­ 1grep -l "text" file1 file2 file3... grepé€’å½’æœç´¢æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384# åœ¨å¤šçº§ç›®å½•ä¸­å¯¹æ–‡æœ¬è¿›è¡Œé€’å½’æœç´¢grep "text" . -r -n# .è¡¨ç¤ºå½“å‰ç›®å½•ã€‚# å¿½ç•¥åŒ¹é…æ ·å¼ä¸­çš„å­—ç¬¦å¤§å°å†™echo "hello world" | grep -i "HELLO"hello# é€‰é¡¹ -e åˆ¶åŠ¨å¤šä¸ªåŒ¹é…æ ·å¼ï¼šecho this is a text line | grep -e "is" -e "line" -oisline#ä¹Ÿå¯ä»¥ä½¿ç”¨ **-f** é€‰é¡¹æ¥åŒ¹é…å¤šä¸ªæ ·å¼ï¼Œåœ¨æ ·å¼æ–‡ä»¶ä¸­é€è¡Œå†™å‡ºéœ€è¦åŒ¹é…çš„å­—ç¬¦ã€‚cat patfileaaabbb# ç”¨æ–‡ä»¶åç§°åŒ¹é…, å®é™…ä¸Šå°±æ˜¯åŒ¹é…æ–‡ä»¶ä¸­çš„å†…å®¹echo aaa bbb ccc ddd eee | grep -f patfile -oaaabbb# åœ¨grepæœç´¢ç»“æœä¸­åŒ…æ‹¬æˆ–è€…æ’é™¤æŒ‡å®šæ–‡ä»¶ï¼š---#åªåœ¨ç›®å½•ä¸­æ‰€æœ‰çš„.phpå’Œ.htmlæ–‡ä»¶ä¸­é€’å½’æœç´¢å­—ç¬¦"main()"grep "main()" . -r --include *.&#123;php,html&#125;#åœ¨æœç´¢ç»“æœä¸­æ’é™¤æ‰€æœ‰READMEæ–‡ä»¶grep "main()" . -r --exclude "README"#åœ¨æœç´¢ç»“æœä¸­æ’é™¤filelistæ–‡ä»¶åˆ—è¡¨é‡Œçš„æ–‡ä»¶grep "main()" . -r --exclude-from filelist---# ä½¿ç”¨0å€¼å­—èŠ‚åç¼€çš„grepä¸xargsï¼š---# æµ‹è¯•æ–‡ä»¶ï¼šecho "aaa" &gt; file1echo "bbb" &gt; file2echo "aaa" &gt; file3grep "aaa" file* -lZ | xargs -0 rm#æ‰§è¡Œåä¼šåˆ é™¤file1å’Œfile3ï¼Œgrepè¾“å‡ºç”¨-Zé€‰é¡¹æ¥æŒ‡å®šä»¥0å€¼å­—èŠ‚ä½œä¸ºç»ˆç»“ç¬¦æ–‡ä»¶åï¼ˆ\0ï¼‰ï¼Œxargs -0 è¯»å–è¾“å…¥å¹¶ç”¨0å€¼å­—èŠ‚ç»ˆç»“ç¬¦åˆ†éš”æ–‡ä»¶åï¼Œç„¶ååˆ é™¤åŒ¹é…æ–‡ä»¶ï¼Œ-Zé€šå¸¸å’Œ-lç»“åˆä½¿ç”¨ã€‚# å¥½å§, æš‚æ—¶æˆ‘ä¹Ÿæ²¡æ‡‚æ˜¯å•¥æ„æ€...---# grepé™é»˜è¾“å‡ºï¼šgrep -q "test" filename# ä¸ä¼šè¾“å‡ºä»»ä½•ä¿¡æ¯ï¼Œå¦‚æœå‘½ä»¤è¿è¡ŒæˆåŠŸè¿”å›0ï¼Œå¤±è´¥åˆ™è¿”å›é0å€¼ã€‚ä¸€èˆ¬ç”¨äºæ¡ä»¶æµ‹è¯•ã€‚# æ‰“å°å‡ºåŒ¹é…æ–‡æœ¬ä¹‹å‰æˆ–è€…ä¹‹åçš„è¡Œï¼š# æ˜¾ç¤ºåŒ¹é…æŸä¸ªç»“æœä¹‹åçš„3è¡Œï¼Œä½¿ç”¨ -A é€‰é¡¹ï¼šseq 10 | grep "5" -A 35678# æ˜¾ç¤ºåŒ¹é…æŸä¸ªç»“æœä¹‹å‰çš„3è¡Œï¼Œä½¿ç”¨ -B é€‰é¡¹ï¼šseq 10 | grep "5" -B 32345# æ˜¾ç¤ºåŒ¹é…æŸä¸ªç»“æœçš„å‰ä¸‰è¡Œå’Œåä¸‰è¡Œï¼Œä½¿ç”¨ -C é€‰é¡¹ï¼šseq 10 | grep "5" -C 32345678# å¦‚æœåŒ¹é…ç»“æœæœ‰å¤šä¸ªï¼Œä¼šç”¨â€œ--â€ä½œä¸ºå„åŒ¹é…ç»“æœä¹‹é—´çš„åˆ†éš”ç¬¦ï¼šecho -e "a\nb\nc\na\nb\nc" | grep a -A 1ab--ab grepå…¶å®ƒå¸¸ç”¨ç”¨æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546# ç»Ÿè®¡å‡ºç°æŸä¸ªå­—ç¬¦ä¸²çš„è¡Œçš„æ€»è¡Œæ•° '-c'cts1 Desktop # echo "hello" &gt;&gt; hello.shcts1 Desktop # grep -c 'hello' hello.sh1# æŸ¥è¯¢ä¸åŒ…å«helloçš„è¡Œ, å¸¦æœ‰helloçš„æ•´è¡Œéƒ½ä¸ä¼šè¢«æŸ¥è¯¢åˆ° '-v'cts1 Desktop # grep -v 'hello' hello.sh....# `.*`çš„ç”¨æ³•, å‰åéƒ½æ˜¯ `.*` , åªè¦åŒ…å« parrten çš„ æ•´è¡Œ éƒ½ä¼šè¢«æŸ¥å‡ºæ¥grep '.*hello.*' hello.sh# ä»»ä½•ç”± 'h..p'åŒ…å«çš„éƒ½ä¼šè¢«æŸ¥å‡ºæ¥. æŸ¥çš„å½“å‰è¡Œ, .* ä»£è¡¨ä»»æ„å­—ç¬¦cts1 Desktop # grep 'h.*p' /etc/passwdgopher:x:13:30:gopher:/var/gopher:/sbin/nologinrpc:x:32:32:Rpcbind Daemon:/var/cache/rpcbind:/sbin/nolo# æ­£åˆ™è¡¨è¾¾ä»¥ ro å¼€å¤´cts1 Desktop # grep '^ro' /etc/passwdroot:x:0:0:root:/root:/bin/zsh# æ­£åˆ™è¡¨è¾¾ä»¥ t ç»“å°¾cts1 Desktop # grep 't$' /etc/passwdhalt:x:7:0:halt:/sbin:/sbin/halt# '[Gg]rep'åŒ¹é…Grepå’Œgrep## æ­¤å¤„æ˜¯åŒ¹é… ä»¥ h || r å¼€å¤´çš„cts1 Desktop # grep '^[hr]' /etc/passwdroot:x:0:0:root:/root:/bin/zshhalt:x:7:0:halt:/sbin:/sbin/haltrpc:x:32:32:Rpcbind Daemon:/var/cache/rpcbind:/sbin/nologin# åŒ¹é…éhä¹‹å¤–å…¶ä»–çš„, å’Œ r å¼€å¤´çš„, ä¹Ÿå°±æ˜¯åŒ¹é… hä»¥å¤–çš„cts1 Desktop # grep '^[hr]' /etc/passwdroot:x:0:0:root:/root:/bin/zshhalt:x:7:0:halt:/sbin:/sbin/haltrpc:x:32:32:Rpcbind Daemon:/var/cache/rpcbind:/sbin/nologin# åŒ¹é… h-r ä»¥å¤–çš„cts1 Desktop # grep '^[^h-r]' /etc/passwdbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologin... sed(æµç¼–è¾‘å™¨)sedå«åšæµç¼–è¾‘å™¨ï¼Œåœ¨shellè„šæœ¬å’ŒMakefileä¸­ä½œä¸ºè¿‡æ»¤ä¸€ä½¿ç”¨éå¸¸æ™®éï¼Œä¹Ÿå°±æ˜¯æŠŠå‰ä¸€ä¸ªç¨‹åºçš„è¾“å‡ºå¼•å…¥sedçš„è¾“å…¥ï¼Œç»è¿‡ä¸€ç³»åˆ—ç¼–è¾‘å‘½ä»¤è½¬æ¢æˆä¸ºå¦ä¸€ç§æ ¼å¼è¾“å‡ºã€‚sedæ˜¯ä¸€ç§åœ¨çº¿ç¼–è¾‘å™¨ï¼Œå®ƒä¸€æ¬¡å¤„ç†ä¸€è¡Œå†…å®¹ï¼Œå¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€æ¨¡å¼ç©ºé—´â€,æ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚æ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œé™¤éä½ ä½¿ç”¨é‡å®šå‘å­˜å‚¨è¾“å‡ºã€‚ é€‰é¡¹12345678910111213-nï¼šä¸€èˆ¬sedå‘½ä»¤ä¼šæŠŠæ‰€æœ‰æ•°æ®éƒ½è¾“å‡ºåˆ°å±å¹•ï¼Œå¦‚æœåŠ å…¥-né€‰é¡¹çš„è¯ï¼Œåˆ™åªä¼šæŠŠç»è¿‡sedå‘½ä»¤å¤„ç†çš„è¡Œè¾“å‡ºåˆ°å±å¹•ã€‚-e&lt;script&gt;æˆ–--expression=&lt;script&gt;ï¼šä»¥é€‰é¡¹ä¸­çš„æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ï¼› å…è®¸å¯¹è¾“å…¥æ•°æ®åº”ç”¨å¤šæ¡sedå‘½ä»¤ç¼–è¾‘ã€‚-iï¼šç”¨sedçš„ä¿®æ”¹ç»“æœç›´æ¥ä¿®æ”¹è¯»å–æ•°æ®çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç”±å±å¹•è¾“å‡ºã€‚-f&lt;scriptæ–‡ä»¶&gt;æˆ–--file=&lt;scriptæ–‡ä»¶&gt;ï¼šä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ï¼›-næˆ–--quietæˆ–â€”â€”silentï¼šä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœï¼›--versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚# åŠ¨ä½œ:aï¼šè¿½åŠ ï¼Œåœ¨å½“å‰è¡Œåæ·»åŠ ä¸€è¡Œæˆ–å¤šè¡Œã€‚cï¼šè¡Œæ›¿æ¢ï¼Œç”¨cåé¢çš„å­—ç¬¦ä¸²æ›¿æ¢åŸæ•°æ®è¡Œã€‚iï¼šæ’å…¥ï¼Œåœ¨å½“å‰è¡Œå‰æ’å…¥ä¸€è¡Œæˆ–å¤šè¡Œã€‚pï¼šæ‰“å°ï¼Œè¾“å‡ºæŒ‡å®šçš„è¡Œã€‚sï¼šå­—ç¬¦ä¸²æ›¿æ¢ï¼Œç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æ›¿æ¢å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ ¼å¼ä¸º**\'**è¡ŒèŒƒå›´s/æ—§å­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²/g**\'** (å¦‚æœä¸åŠ gçš„è¯ï¼Œåˆ™è¡¨ç¤ºåªæ›¿æ¢æ¯è¡Œç¬¬ä¸€ä¸ªåŒ¹é…çš„ä¸²) sedå…ƒå­—ç¬¦é›†(æ­£åˆ™)12345678910111213**^** åŒ¹é…è¡Œå¼€å§‹ï¼Œå¦‚ï¼š/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚**$** åŒ¹é…è¡Œç»“æŸï¼Œå¦‚ï¼š/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚**.** åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ï¼Œå¦‚ï¼š/s.d/åŒ¹é…såæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œæœ€åæ˜¯dã€‚**** * åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¦‚ï¼š/*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿsedçš„è¡Œã€‚**[]** åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/[ss]ed/åŒ¹é…sedå’ŒSedã€‚ **[^]** åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š/[^A-RT-Z]ed/åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚**\(..\)** åŒ¹é…å­ä¸²ï¼Œä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/\(love\)able/\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚**&amp;** ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚s/love/ **&amp;** /ï¼Œloveè¿™æˆ **love** ã€‚**\&lt;** åŒ¹é…å•è¯çš„å¼€å§‹ï¼Œå¦‚:/\&lt;love/åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œã€‚**\&gt;** åŒ¹é…å•è¯çš„ç»“æŸï¼Œå¦‚/love\&gt;/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚**x\&#123;m\&#125;** é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š/0\&#123;5\&#125;/åŒ¹é…åŒ…å«5ä¸ª0çš„è¡Œã€‚**x\&#123;m,\&#125;** é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š/0\&#123;5,\&#125;/åŒ¹é…è‡³å°‘æœ‰5ä¸ª0çš„è¡Œã€‚**x\&#123;m,n\&#125;** é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š/0\&#123;5,10\&#125;/åŒ¹é…5~10ä¸ª0çš„è¡Œã€‚ å®ä¾‹ åˆ é™¤: då‘½ä»¤ sed â€˜2dâ€™ sed.txt â€”â€“åˆ é™¤sed.txtæ–‡ä»¶çš„ç¬¬äºŒè¡Œã€‚ sed â€˜2,$dâ€™ sed.txt â€”â€“åˆ é™¤sed.txtæ–‡ä»¶çš„ç¬¬äºŒè¡Œåˆ°æœ«å°¾æ‰€æœ‰è¡Œã€‚ sed â€˜$dâ€™ sed.txt â€”â€“åˆ é™¤sed.txtæ–‡ä»¶çš„æœ€åä¸€è¡Œã€‚ sed â€˜/test/d â€˜ sed.txt â€”â€“åˆ é™¤sed.txtæ–‡ä»¶æ‰€æœ‰åŒ…å«testçš„è¡Œã€‚ sed â€˜/[A-Za-z]/d â€˜ sed.txt â€”â€“åˆ é™¤sed.txtæ–‡ä»¶æ‰€æœ‰åŒ…å«å­—æ¯çš„è¡Œã€‚ æ•´è¡Œæ›¿æ¢: cå‘½ä»¤ å°†ç¬¬äºŒè¡Œæ›¿æ¢æˆhello world sed \â€™2c hello world\â€™ sed.txt å­—ç¬¦ä¸²æ›¿æ¢ï¼šså‘½ä»¤ sed â€˜s/hello/hi/gâ€™ sed.txt ## åœ¨æ•´è¡ŒèŒƒå›´å†…æŠŠhelloæ›¿æ¢ä¸ºhiã€‚å¦‚æœæ²¡æœ‰gæ ‡è®°ï¼Œåˆ™åªæœ‰æ¯è¡Œç¬¬ä¸€ä¸ªåŒ¹é…çš„helloè¢«æ›¿æ¢æˆhiã€‚ sed â€˜s/hello/hi/2â€™ sed.txt ## æ­¤ç§å†™æ³•è¡¨ç¤ºåªæ›¿æ¢æ¯è¡Œçš„ç¬¬2ä¸ªhelloä¸ºhi sed â€˜s/hello/hi/2gâ€™ sed.txt ## æ­¤ç§å†™æ³•è¡¨ç¤ºåªæ›¿æ¢æ¯è¡Œçš„ç¬¬2ä¸ªä»¥åçš„helloä¸ºhiï¼ˆåŒ…æ‹¬ç¬¬2ä¸ªï¼‰ sed -n â€˜s/^hello/hi/pâ€™ sed.txt ## (-n)é€‰é¡¹å’Œpæ ‡å¿—ä¸€èµ·ä½¿ç”¨è¡¨ç¤ºåªæ‰“å°é‚£äº›å‘ç”Ÿæ›¿æ¢çš„è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸€è¡Œå¼€å¤´çš„helloè¢«æ›¿æ¢æˆhiï¼Œå°±æ‰“å°å®ƒã€‚ sed -n â€˜2,4pâ€™ sed.txt ## æ‰“å°è¾“å‡ºsed.txtä¸­çš„ç¬¬2è¡Œå’Œç¬¬4è¡Œ sed -n â€˜s/hello/&amp;-hi/gpâ€™ sed.txt sed â€˜s/^192.168.0.1/&amp;-localhost/â€˜ sed.txt sed â€˜s/^192.168.0.1/[&amp;]/â€˜ sed.txt ## &amp;ç¬¦å·è¡¨ç¤ºè¿½åŠ ä¸€ä¸ªä¸²åˆ°æ‰¾åˆ°çš„ä¸²å, &amp;ä»£è¡¨å‰ä¸€ä¸ªä¸²ã€‚ æ‰€æœ‰ä»¥192.168.0.1å¼€å¤´çš„è¡Œéƒ½ä¼šè¢«æ›¿æ¢æˆå®ƒè‡ªå·²åŠ  -localhostï¼Œå˜æˆ192.168.0.1-localhostã€‚ ç¬¬ä¸‰å¥è¡¨ç¤ºç»™IPåœ°å€æ·»åŠ ä¸­æ‹¬å· sed -n â€˜s/(liu)jialing/\1tao/pâ€™ sed.txt sed -n â€˜s/(liu)jia(ling)/\1tao\2ss/pâ€™ sed.txt ## liuè¢«æ ‡è®°ä¸º\1ï¼Œæ‰€ä»¥liuä¼šè¢«ä¿ç•™ä¸‹æ¥ï¼ˆ\1 == liuï¼‰ ## lingè¢«æ ‡è®°ä¸º\2ï¼Œæ‰€ä»¥lingä¹Ÿä¼šè¢«ä¿ç•™ä¸‹æ¥ï¼ˆ\2 == lingï¼‰ ## æ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯\1tao\2ss == â€œliuâ€ + â€œtaoâ€ + â€œlingâ€ + â€œssâ€ æ­¤å¤„åˆ‡è®°ï¼š\1ä»£è¡¨çš„æ˜¯è¢«ç¬¬ä¸€ä¸ª()åŒ…å«çš„å†…å®¹ï¼Œ\1ä»£è¡¨çš„æ˜¯è¢«ç¬¬ä¸€ä¸ª()åŒ…å«çš„å†…å®¹ï¼Œâ€¦â€¦ ä¸Šé¢å‘½ä»¤çš„æ„æ€å°±æ˜¯ï¼šè¢«æ‹¬å·åŒ…å«çš„å­—ç¬¦ä¸²ä¼šä¿ç•™ä¸‹æ¥ï¼Œç„¶åè·Ÿå…¶ä»–çš„å­—ç¬¦ä¸²æ¯”å¦‚taoå’Œssç»„æˆæ–°çš„å­—ç¬¦ä¸²liutaolingss sed â€˜s#hello#hi#gâ€™ sed.txt ## ä¸è®ºä»€ä¹ˆå­—ç¬¦ï¼Œç´§è·Ÿç€så‘½ä»¤çš„éƒ½è¢«è®¤ä¸ºæ˜¯æ–°çš„åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ï¼Œâ€#â€åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ï¼Œä»£æ›¿äº†é»˜è®¤çš„â€/â€œåˆ†éš”ç¬¦ã€‚è¡¨ç¤ºæŠŠæ‰€æœ‰helloæ›¿æ¢æˆhiã€‚ é€‰å®šè¡Œçš„èŒƒå›´ï¼šé€—å· sed -n â€˜/today/,/hello/pâ€™ sed.txt ## æ‰€æœ‰åœ¨æ¨¡æ¿todayå’Œhelloæ‰€ç¡®å®šçš„èŒƒå›´å†…çš„è¡Œéƒ½è¢«æ‰“å°ã€‚éƒ½æ‰¾ç¬¬ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»ç¬¬ä¸€ä¸ªtodayåˆ°ç¬¬ä¸€ä¸ªhello sed -n â€˜5,/^hello/pâ€™ sed.txt sed -n â€˜/^hello/,8pâ€™ sed.txt ## æ‰“å°ä»ç¬¬äº”è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«ä»¥helloå¼€å§‹çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œã€‚ sed â€˜/today/,/hello/s/$/www/â€˜ sed.txt ## å¯¹äºæ¨¡æ¿todayå’Œhelloä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„æœ«å°¾ç”¨å­—ç¬¦ä¸²wwwæ›¿æ¢ã€‚ sed â€˜/today/,/hello/s/^/www/â€˜ sed.txt ## å¯¹äºæ¨¡æ¿todayå’Œhelloä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„å¼€å¤´ç”¨å­—ç¬¦ä¸²wwwæ›¿æ¢ã€‚ sed â€˜/^[A-Za-z]/s/5/five/gâ€™ sed.txt ## å°†ä»¥å­—æ¯å¼€å¤´çš„è¡Œä¸­çš„æ•°å­—5æ›¿æ¢æˆfive å¤šç‚¹ç¼–è¾‘ï¼šeå‘½ä»¤ sed -e â€˜1,5dâ€™ -e â€˜s/hello/hi/â€˜ sed.txt ## (-e)é€‰é¡¹å…è®¸åœ¨åŒä¸€è¡Œé‡Œæ‰§è¡Œå¤šæ¡å‘½ä»¤ã€‚å¦‚ä¾‹å­æ‰€ç¤ºï¼Œç¬¬ä¸€æ¡å‘½ä»¤åˆ é™¤1è‡³5è¡Œï¼Œç¬¬äºŒæ¡å‘½ä»¤ç”¨helloæ›¿æ¢hiã€‚å‘½ä»¤çš„æ‰§è¡Œé¡ºåºå¯¹ç»“æœæœ‰å½±å“ã€‚å¦‚æœä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯æ›¿æ¢å‘½ä»¤ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ›¿æ¢å‘½ä»¤å°†å½±å“ç¬¬äºŒä¸ªæ›¿æ¢å‘½ä»¤çš„ç»“æœã€‚ sed â€“expression=â€™s/hello/hi/â€˜ â€“expression=â€™/today/dâ€™ sed.txt ## ä¸€ä¸ªæ¯”-eæ›´å¥½çš„å‘½ä»¤æ˜¯â€“expressionã€‚å®ƒèƒ½ç»™sedè¡¨è¾¾å¼èµ‹å€¼ã€‚ ä»æ–‡ä»¶è¯»å…¥ï¼šrå‘½ä»¤ sed â€˜/hello/r fileâ€™ sed.txt ## fileé‡Œçš„å†…å®¹è¢«è¯»è¿›æ¥ï¼Œæ˜¾ç¤ºåœ¨ä¸helloåŒ¹é…çš„è¡Œä¸‹é¢ï¼Œå¦‚æœåŒ¹é…å¤šè¡Œï¼Œåˆ™fileçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨æ‰€æœ‰åŒ¹é…è¡Œçš„ä¸‹é¢ã€‚ å†™å…¥æ–‡ä»¶ï¼šwå‘½ä»¤ sed -n â€˜/hello/w fileâ€™ sed.txt ## åœ¨huangbo.txtä¸­æ‰€æœ‰åŒ…å«helloçš„è¡Œéƒ½è¢«å†™å…¥fileé‡Œã€‚ è¿½åŠ å‘½ä»¤ï¼šaå‘½ä»¤ sed â€˜/^hello/a\â€”&gt;this is a exampleâ€™ sed.txt ## â€˜â€”&gt;this is a exampleâ€™è¢«è¿½åŠ åˆ°ä»¥helloå¼€å¤´çš„è¡Œ(å¦èµ·ä¸€è¡Œ)åé¢ï¼Œsedè¦æ±‚å‘½ä»¤aåé¢æœ‰ä¸€ä¸ªåæ–œæ ã€‚ æ’å…¥ï¼šiå‘½ä»¤ sed â€˜/will/i\some thing new â€”â€”â€”â€”â€”â€”â€”â€”-â€˜ sed.txt ## å¦‚æœtestè¢«åŒ¹é…ï¼Œåˆ™æŠŠåæ–œæ åé¢çš„æ–‡æœ¬æ’å…¥åˆ°åŒ¹é…è¡Œçš„å‰é¢ã€‚ ä¸‹ä¸€ä¸ªï¼šnå‘½ä»¤ sed â€˜/hello/{n; s/aa/bb/;}â€™ sed.txt æ›¿æ¢ä¸‹ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªaa sed â€˜/hello/{n; s/aa/bb/g;}â€™ sed.txt æ›¿æ¢ä¸‹ä¸€è¡Œçš„å…¨éƒ¨aa ## å¦‚æœhelloè¢«åŒ¹é…ï¼Œåˆ™ç§»åŠ¨åˆ°åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œï¼Œæ›¿æ¢è¿™ä¸€è¡Œçš„aaï¼Œå˜ä¸ºbbï¼Œå¹¶æ‰“å°è¯¥è¡Œï¼Œç„¶åç»§ç»­ã€‚ é€€å‡ºï¼šqå‘½ä»¤ sed â€˜10qâ€™ sed.txt ## æ‰“å°å®Œç¬¬10è¡Œåï¼Œé€€å‡ºsedã€‚ åŒæ ·çš„å†™æ³•ï¼š sed -n â€˜1,10p â€˜ sed.txt awk(æŠ¥è¡¨ç”Ÿæˆå™¨)Awkæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¤„ç†æ–‡æœ¬çš„ç¼–ç¨‹è¯­è¨€å·¥å…·ï¼Œå…¶åç§°å¾—è‡ªäºå®ƒçš„åˆ›å§‹äººAlfred Ahoã€Peter Weinbergerå’ŒBrian Kernighan å§“æ°çš„é¦–ä¸ªå­—æ¯ï¼Œç›¸å¯¹äºgrepçš„æŸ¥æ‰¾ï¼Œsedçš„ç¼–è¾‘ï¼Œawkåœ¨å…¶å¯¹æ•°æ®åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Šæ—¶ï¼Œæ˜¾å¾—å°¤ä¸ºå¼ºå¤§ã€‚AWK æä¾›äº†æå…¶å¼ºå¤§çš„åŠŸèƒ½ï¼šå¯ä»¥è¿›è¡Œæ ·å¼è£…å…¥ã€æµæ§åˆ¶ã€æ•°å­¦è¿ç®—ç¬¦ã€è¿›ç¨‹æ§åˆ¶è¯­å¥ç”šè‡³äºå†…ç½®çš„å˜é‡å’Œå‡½æ•°ã€‚ç®€å•æ¥è¯´awkå°±æ˜¯æ‰«ææ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œï¼ŒæŸ¥æ‰¾ä¸å‘½ä»¤è¡Œä¸­æ‰€ç»™å®šå†…å®¹ç›¸åŒ¹é…çš„æ¨¡å¼ã€‚å¦‚æœå‘ç°åŒ¹é…å†…å®¹ï¼Œåˆ™è¿›è¡Œä¸‹ä¸€ä¸ªç¼–ç¨‹æ­¥éª¤ã€‚å¦‚æœæ‰¾ä¸åˆ°åŒ¹é…å†…å®¹ï¼Œåˆ™ç»§ç»­å¤„ç†ä¸‹ä¸€è¡Œã€‚ è¯­æ³•12awk [options] 'script' var=value file(s)awk [options] -f scriptfile var=value file(s) â€¦ TODO å¾…è¡¥å…… å®ä¾‹ å‡è®¾last -n 5çš„è¾“å‡ºå¦‚ä¸‹: 123456root@cts1:~ # last -n 5root pts/1 192.168.170.1 Mon May 28 09:28 still logged inroot pts/1 192.168.170.1 Sun May 27 20:53 - 07:21 (10:28)root pts/0 192.168.170.1 Sun May 27 19:39 still logged inreboot system boot 2.6.32-573.el6.x Sun May 27 19:34 - 14:48 (19:13)root pts/1 192.168.170.1 Sat May 26 20:43 - 22:36 (01:53) åªæ˜¾ç¤ºäº”ä¸ªæœ€è¿‘ç™»å½•çš„è´¦å·ï¼š 12345678root@cts1:~ # last -n 5 | awk '&#123;print $1&#125;'rootrootrootrebootroot# awkå·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼šè¯»å…¥æœ‰'\n'æ¢è¡Œç¬¦åˆ†å‰²çš„ä¸€æ¡è®°å½•ï¼Œç„¶åå°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ$0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,$1è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸ,$nè¡¨ç¤ºç¬¬nä¸ªåŸŸã€‚é»˜è®¤åŸŸåˆ†éš”ç¬¦æ˜¯"ç©ºç™½é”®" æˆ– "[tab]é”®",æ‰€ä»¥$1è¡¨ç¤ºç™»å½•ç”¨æˆ·ï¼Œ$3è¡¨ç¤ºç™»å½•ç”¨æˆ·ip,ä»¥æ­¤ç±»æ¨ æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·ï¼š 12345678root@cts1:~ # cat /etc/passwd | awk -F':' '&#123;print $1&#125;'rootbindaemon...# è¿™ç§æ˜¯awk+actionçš„ç¤ºä¾‹ï¼Œæ¯è¡Œéƒ½ä¼šæ‰§è¡Œaction&#123;print $1&#125;ã€‚# -FæŒ‡å®šåŸŸåˆ†éš”ç¬¦ä¸º':' æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·å’Œè´¦æˆ·å¯¹åº”çš„shell,è€Œè´¦æˆ·ä¸shellä¹‹é—´ä»¥tabé”®åˆ†å‰² 12345root@cts1:~ # cat /etc/passwd | awk -F':' '&#123;print $1"\t"$7&#125;'root /bin/zshbin /sbin/nologindaemon /sbin/nologin... BEGIN and END å¦‚æœåªæ˜¯æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·å’Œè´¦æˆ·å¯¹åº”çš„shell,è€Œè´¦æˆ·ä¸shellä¹‹é—´ä»¥é€—å·åˆ†å‰²,è€Œä¸”åœ¨æ‰€æœ‰è¡Œæ·»åŠ åˆ—åname,shell,åœ¨æœ€åä¸€è¡Œæ·»åŠ â€blue,/bin/noshâ€ã€‚ 123456789101112131415161718root@cts1:~ # cat /etc/passwd |awk -F ':' 'BEGIN &#123;print "name,shell"&#125; &#123;print $1","$7&#125; END &#123;print "blue,/bin/nosh"&#125;'---name,shellroot,/bin/zshbin,/sbin/nologin...mysql,/bin/bashblue,/bin/nosh-------------------------root@cts1:~ # cat /etc/passwd | awk -F ':' 'BEGIN &#123;print "name \t shell"&#125; &#123;print$1"\t"$7&#125; END &#123;print "blue,/bin/bash"&#125;'---name shellroot /bin/zshbin /sbin/nologin...mysql /bin/bashblue,/bin/bash awkå·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼šå…ˆæ‰§è¡ŒBEGINï¼Œç„¶åè¯»å–æ–‡ä»¶ï¼Œè¯»å…¥æœ‰/næ¢è¡Œç¬¦åˆ†å‰²çš„ä¸€æ¡è®°å½•ï¼Œç„¶åå°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ$0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,$1è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸ,$nè¡¨ç¤ºç¬¬nä¸ªåŸŸ,éšåå¼€å§‹æ‰§è¡Œæ¨¡å¼æ‰€å¯¹åº”çš„åŠ¨ä½œactionã€‚æ¥ç€å¼€å§‹è¯»å…¥ç¬¬äºŒæ¡è®°å½•â€¢â€¢â€¢â€¢â€¢â€¢ç›´åˆ°æ‰€æœ‰çš„è®°å½•éƒ½è¯»å®Œï¼Œæœ€åæ‰§è¡ŒENDæ“ä½œã€‚ æœç´¢/etc/passwdæœ‰rootå…³é”®å­—çš„æ‰€æœ‰è¡Œ 1234567891011121314151. root@cts1:~ # awk -F: '/root/' /etc/passwd --- root:x:0:0:root:/root:/bin/zsh operator:x:11:0:operator:/root:/sbin/nologin # è¿™ç§æ˜¯patternçš„ä½¿ç”¨ç¤ºä¾‹ï¼ŒåŒ¹é…äº†pattern(è¿™é‡Œæ˜¯root)çš„è¡Œæ‰ä¼šæ‰§è¡Œaction(æ²¡æœ‰æŒ‡å®šactionï¼Œé»˜è®¤è¾“å‡ºæ¯è¡Œçš„å†…å®¹)ã€‚2. æœç´¢æ”¯æŒæ­£åˆ™ï¼Œä¾‹å¦‚æ‰¾rootå¼€å¤´çš„: awk -F: '/^root/' /etc/passwd# æœç´¢/etc/passwdæœ‰rootå…³é”®å­—çš„æ‰€æœ‰è¡Œï¼Œå¹¶æ˜¾ç¤ºå¯¹åº”çš„shellroot@cts1:~ # awk -F ':' '/root/&#123;print $7&#125;' /etc/passwd/bin/zsh/sbin/nologin# è¿™é‡ŒæŒ‡å®šäº†action&#123;print $7&#125; awkå¸¸è§å†…ç½®å˜é‡ FILENAMEï¼šawkæµè§ˆçš„æ–‡ä»¶å FNRï¼šæµè§ˆæ–‡ä»¶çš„è®°å½•æ•°ï¼Œä¹Ÿå°±æ˜¯è¡Œæ•°ã€‚awkæ˜¯ä»¥è¡Œä¸ºå•ä½å¤„ç†çš„ï¼Œæ‰€ä»¥æ¯è¡Œå°±æ˜¯ä¸€ä¸ªè®°å½• NRï¼šawkè¯»å–æ–‡ä»¶æ¯è¡Œå†…å®¹æ—¶çš„è¡Œå· NFï¼šæµè§ˆè®°å½•çš„åŸŸçš„ä¸ªæ•°ã€‚å¯ä»¥ç”¨å®ƒæ¥è¾“å‡ºæœ€åä¸€ä¸ªåŸŸ FSï¼šè®¾ç½®è¾“å…¥åŸŸåˆ†éš”ç¬¦ï¼Œç­‰ä»·äºå‘½ä»¤è¡Œ-Fé€‰é¡¹ OFSï¼šè¾“å‡ºåŸŸåˆ†éš”ç¬¦ ç»Ÿè®¡/etc/passwd:æ–‡ä»¶åï¼Œæ¯è¡Œçš„è¡Œå·ï¼Œæ¯è¡Œçš„åˆ—æ•°ï¼Œå¯¹åº”çš„å®Œæ•´è¡Œå†…å®¹ 1234root@cts1:~ # awk -F ':' '&#123;print "filename:" FILENAME ",linenumber:" NR ",columns:" NF ",linecontent:"$0&#125;' /etc/passwd---filename:/etc/passwd,linenumber:1,columns:7,linecontent:root:x:0:0:root:/root:/bin/zshfilename:/etc/passwd,linenumber:2,columns:7,linecontent:bin:x:1:1:bin:/bin:/sbin/nologin ä½¿ç”¨printfæ›¿ä»£print,å¯ä»¥è®©ä»£ç æ›´åŠ ç®€æ´ï¼Œæ˜“è¯» 1234root@cts1:~ # awk -F ':' '&#123;printf("filename:%s,linenumber:%s,columns:%s,linecontent:%s\n",FILENAME,NR,NF,$0)&#125;' /etc/passwd---filename:/etc/passwd,linenumber:1,columns:7,linecontent:root:x:0:0:root:/root:/bin/zshfilename:/etc/passwd,linenumber:2,columns:7,linecontent:bin:x:1:1:bin:/bin:/sbin/nologin æŒ‡å®šè¾“å…¥åˆ†éš”ç¬¦ï¼ŒæŒ‡å®šè¾“å‡ºåˆ†éš”ç¬¦ï¼š 12345root@cts1:~ # awk 'BEGIN &#123;FS=":"; OFS="\t"&#125; &#123;print $1, $2&#125;' /etc/passwd---root xbin x... å®ç”¨ä¾‹å­ 1234567891011121314# Aï¼šæ‰“å°æœ€åä¸€åˆ—ï¼šawk -F: '&#123;print $NF&#125;' /etc/passwdawk -F: '&#123;printf("%s\n",$NF);&#125;' /etc/passwd# Bï¼šç»Ÿè®¡æ–‡ä»¶è¡Œæ•°ï¼šawk 'BEGIN &#123;x=0&#125; &#123;x++&#125; END &#123;print x&#125;' /etc/passwd# Cï¼šæ‰“å°9*9ä¹˜æ³•è¡¨ï¼šawk 'BEGIN&#123;for(n=0;n++&lt;9;)&#123;for(i=0;i++&lt;n;)printf i"*"n"="i*n" ";print ""&#125;&#125;'awk 'BEGIN &#123;for(i=1;i&lt;=9;i++)&#123;for(j=1;j&lt;=i;j++)&#123;printf i"*"j"="i*j" ";&#125;print ""&#125;&#125;'awk 'BEGIN &#123;for(i=9;i&gt;=1;i--)&#123;for(j=i;j&gt;=1;j--)&#123;printf i"*"j"="i*j" ";&#125;print ""&#125;&#125;'# D: è®¡ç®—1-100 ä¹‹å’Œecho "sum" | awk 'BEGIN &#123;sum=0;&#125; &#123;i=0;while(i&lt;101)&#123;sum+=i;i++&#125;&#125; END &#123;print sum&#125;' æ›´å¤šè¯¦ç»†ç”¨æ³•å‚è§å®˜ç½‘ findåŠŸèƒ½ï¼š æœç´¢æ–‡ä»¶ç›®å½•å±‚æ¬¡ç»“æ„ æ ¼å¼ï¼š find path -option actions find &lt;è·¯å¾„&gt; &lt;é€‰é¡¹&gt; [è¡¨è¾¾å¼] å¸¸ç”¨å¯é€‰é¡¹ï¼š1234567891011121314151617-name æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾ï¼Œæ”¯æŒ(\'\* \' , \'? \')-type æ ¹æ®æ–‡ä»¶ç±»å‹æŸ¥æ‰¾(f-æ™®é€šæ–‡ä»¶ï¼Œc-å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œb-å—è®¾å¤‡æ–‡ä»¶ï¼Œl-é“¾æ¥æ–‡ä»¶ï¼Œd-ç›®å½•)-perm æ ¹æ®æ–‡ä»¶çš„æƒé™æŸ¥æ‰¾ï¼Œæ¯”å¦‚ 755-user æ ¹æ®æ–‡ä»¶æ‹¥æœ‰è€…æŸ¥æ‰¾-group æ ¹æ®æ–‡ä»¶æ‰€å±ç»„å¯»æ‰¾æ–‡ä»¶-size æ ¹æ®æ–‡ä»¶å°å¤§å¯»æ‰¾æ–‡ä»¶ -o è¡¨è¾¾å¼ æˆ–-a è¡¨è¾¾å¼ ä¸-not è¡¨è¾¾å¼ é ç±»å‹å‚æ•°åˆ—è¡¨ï¼š1234567- **f** æ™®é€šæ–‡ä»¶- **l** ç¬¦å·è¿æ¥- **d** ç›®å½•- **c** å­—ç¬¦è®¾å¤‡- **b** å—è®¾å¤‡- **s** å¥—æ¥å­—- **p** Fifo ç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556[linux@linux txt]$ ll ## å‡†å¤‡çš„æµ‹è¯•æ–‡ä»¶total 248-rw-rw-r--. 1 linux linux 235373 Apr 18 00:10 hw.txt-rw-rw-r--. 1 linux linux 0 Apr 22 05:43 LINUX.pdf-rw-rw-r--. 1 linux linux 3 Apr 22 05:50 liujialing.jpg-rw-rw-r--. 1 linux linux 0 Apr 22 05:43 mingxing.pdf-rw-rw-r--. 1 linux linux 57 Apr 22 04:40 mingxing.txt-rw-rw-r--. 1 linux linux 66 Apr 22 05:15 sort.txt-rw-rw-r--. 1 linux linux 214 Apr 18 10:08 test.txt-rw-rw-r--. 1 linux linux 24 Apr 22 05:27 uniq.txt[linux@linux txt]$ find /home/linux/txt/ -name "*.txt" ## æŸ¥æ‰¾æ–‡ä»¶åtxtç»“å°¾çš„æ–‡ä»¶/home/linux/txt/uniq.txt/home/linux/txt/mingxing.txt/home/linux/txt/test.txt/home/linux/txt/hw.txt/home/linux/txt/sort.txt## å¿½ç•¥å¤§å°å†™æŸ¥æ‰¾æ–‡ä»¶ååŒ…å«linux[linux@linux txt]$ find /home/linux/txt -iname "*linux*" /home/linux/txt/LINUX.pdf## æŸ¥æ‰¾æ–‡ä»¶åç»“å°¾æ˜¯.txtæˆ–è€….jpgçš„æ–‡ä»¶[linux@linux txt]$ find /home/linux/txt/ \( -name "*.txt" -o -name "*.jpg" \) /home/linux/txt/liujialing.jpg/home/linux/txt/uniq.txt/home/linux/txt/mingxing.txt/home/linux/txt/test.txt/home/linux/txt/hw.txt/home/linux/txt/sort.txtå¦ä¸€ç§å†™æ³•ï¼šfind /home/linux/txt/ -name "*.txt" -o -name "*.jpg"# ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼å»æŸ¥æ‰¾ä¸Šé¢æ¡ä»¶çš„æ–‡ä»¶ï¼š[linux@linux txt]$ find /home/linux/txt/ -regex ".*\(\.txt\|\.jpg\)$"/home/linux/txt/liujialing.jpg/home/linux/txt/uniq.txt/home/linux/txt/mingxing.txt/home/linux/txt/test.txt/home/linux/txt/hw.txt/home/linux/txt/sort.txt## æŸ¥æ‰¾.jpgç»“å°¾çš„æ–‡ä»¶ï¼Œç„¶ååˆ æ‰[linux@linux txt]$ find /home/linux/txt -type f -name "*.jpg" -delete[linux@linux txt]$ lltotal 248-rw-rw-r--. 1 linux linux 235373 Apr 18 00:10 hw.txt-rw-rw-r--. 1 linux linux 0 Apr 22 05:43 LINUX.pdf-rw-rw-r--. 1 linux linux 0 Apr 22 05:43 mingxing.pdf-rw-rw-r--. 1 linux linux 57 Apr 22 04:40 mingxing.txt-rw-rw-r--. 1 linux linux 66 Apr 22 05:15 sort.txt-rw-rw-r--. 1 linux linux 214 Apr 18 10:08 test.txt-rw-rw-r--. 1 linux linux 24 Apr 22 05:27 uniq.txt## æŸ¥æ‰¾5å¤©ä»¥å†…åˆ›å»ºçš„ .sh æ–‡ä»¶, å¹¶æ˜¾ç¤ºåˆ›å»º/æ›´æ”¹æ—¶é—´find / -name "*sh" -mtime -5 |xargs ls -l 3. Shellæ“ä½œå­—ç¬¦ä¸²å­—ç¬¦ä¸²æˆªå–Linuxä¸­æ“ä½œå­—ç¬¦ä¸²ï¼Œä¹Ÿæ˜¯ä¸€é¡¹å¿…å¤‡çš„æŠ€èƒ½ã€‚å…¶ä¸­å°¤ä»¥æˆªå–å­—ç¬¦ä¸²æ›´åŠ é¢‘ç¹ï¼Œä¸‹é¢ä¸ºå¤§å®¶ä»‹ç»å‡ ç§å¸¸ç”¨æ–¹å¼ï¼Œæˆªå–å­—ç¬¦ä¸² é¢„å…ˆå®šä¹‰ä¸€ä¸ªå˜é‡ï¼šWEBSITE=â€™http://hadoop//centos/huangbo.html&#39; #æˆªå–ï¼Œ*ä»»æ„çš„, åˆ é™¤//å·¦è¾¹å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬åˆ¶å®šçš„åˆ†éš”ç¬¦ï¼‰ï¼Œä¿ç•™å³è¾¹å­—ç¬¦ä¸² root@cts1:~ # echo ${WEBSITE#*//}hadoop//centos/huangbo.html ##æˆªå–ï¼Œåˆ é™¤å·¦è¾¹å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬æŒ‡å®šçš„åˆ†éš”ç¬¦ï¼‰ï¼Œä¿ç•™å³è¾¹å­—ç¬¦ä¸²ï¼Œå’Œä¸Šè¾¹ä¸€ä¸ª#ä¸åŒçš„æ˜¯ï¼Œå®ƒä¸€ç›´æ‰¾åˆ°æœ€åï¼Œè€Œä¸æ˜¯åƒä¸€ä¸ª#é‚£æ ·æ‰¾åˆ°ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶é€€å‡ºäº†ã€‚ root@cts1:~ # echo ${WEBSITE##*//}centos/huangbo.html %æˆªå–ï¼Œåˆ é™¤å³è¾¹å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬åˆ¶å®šçš„åˆ†éš”ç¬¦ï¼‰ï¼Œä¿ç•™å·¦è¾¹å­—ç¬¦ä¸² root@cts1:~ # echo ${WEBSITE%//*}http://hadoop %%æˆªå–ï¼Œåˆ é™¤å³è¾¹å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬æŒ‡å®šçš„åˆ†éš”ç¬¦ï¼‰ï¼Œä¿ç•™å·¦è¾¹å­—ç¬¦ä¸²ï¼Œå’Œä¸Šè¾¹ä¸€ä¸ª%ä¸åŒçš„æ˜¯ï¼Œå®ƒä¸€ç›´æ‰¾åˆ°æœ€å‰ï¼Œè€Œä¸æ˜¯åƒä¸€ä¸ª%é‚£æ ·æ‰¾åˆ°ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶é€€å‡ºäº†ã€‚ root@cts1:~ # echo ${WEBSITE%%//*}http: ä»å·¦è¾¹ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä»¥åŠæˆªå–çš„å­—ç¬¦çš„ä¸ªæ•° root@cts1:~ # echo ${WEBSITE:2:2}tp ä»å·¦è¾¹ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä¸€ç›´åˆ°ç»“æŸ root@cts1:~ # echo ${WEBSITE:2}tp://hadoop//centos/huangbo.html ä»å³è¾¹ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä»¥åŠå­—ç¬¦çš„ä¸ªæ•°, ä»-4å¼€å§‹, è¿˜æ˜¯å¾€å³è¾¹æˆªå– root@cts1:~ # echo ${WEBSITE:0-4:2 ht ä»å³è¾¹ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä¸€ç›´åˆ°ç»“æŸ root@cts1:~ # echo ${WEBSITE:0-4}html åˆ©ç”¨awkè¿›è¡Œå­—ç¬¦ä¸²æˆªå– echo $WEBSITE | awk â€˜{print substr($1,2,6)}â€™ ttp:// åˆ©ç”¨cutè¿›è¡Œå­—ç¬¦ä¸²æˆªå– root@cts1:~ # echo $WEBSITE | cut -b 1-4 http è·å–æœ€åå‡ ä¸ªå­—ç¬¦ root@cts1:~ # echo ${WEBSITE:(-3)} tml æˆªå–ä»å€’æ•°ç¬¬3ä¸ªå­—ç¬¦åçš„2ä¸ªå­—ç¬¦ root@cts1:~ # echo ${WEBSITE:(-3):2}tm å­—ç¬¦ä¸²æ›¿æ¢ä½¿ç”¨æ ¼å¼ ${parameter/pattern/string} ä¾‹å­12345678910# å®šä¹‰å˜é‡VARï¼š[linux@linux ~]$ VAR="hello tom, hello kitty, hello xiaoming"# æ›¿æ¢ç¬¬ä¸€ä¸ªhello, ç”¨`/`ï¼š[linux@linux ~]$ echo $&#123;VAR/hello/hi&#125;hi tom, hello kitty, hello xiaoming# æ›¿æ¢æ‰€æœ‰hello, ç”¨'//'ï¼š[linux@linux ~]$ echo $&#123;VAR//hello/hi&#125;hi tom, hi kitty, hi xiaoming è·å–å­—ç¬¦ä¸²é•¿åº¦åœ¨æ­¤ä¸ºå¤§å®¶æä¾›äº”ç§æ–¹å¼è·å–æŸå­—ç¬¦ä¸²çš„é•¿åº¦ 123456789101112131415161718192021222324252627282930313233343536# åœ¨æ­¤ä¸ºå¤§å®¶æä¾›äº”ç§æ–¹å¼è·å–æŸå­—ç¬¦ä¸²çš„é•¿åº¦# 1. ä½¿ç”¨wc -Lå‘½ä»¤+----------------------------------------------------+| echo $&#123;WEBSITE&#125; |wc -L || || 35 |+----------------------------------------------------+# 2. ä½¿ç”¨exprçš„æ–¹å¼å»è®¡ç®—+---------------------------------------------------+| expr length $&#123;WEBSITE&#125; || || 35 |+---------------------------------------------------+# 3. é€šè¿‡awk + lengthçš„æ–¹å¼è·å–å­—ç¬¦ä¸²é•¿åº¦+---------------------------------------------------------------------------+|echo $&#123;WEBSITE&#125; | awk '&#123;print length($0)&#125;' || || 35 |+---------------------------------------------------------------------------+# 4. é€šè¿‡awkçš„æ–¹å¼è®¡ç®—ä»¥**\"\"**åˆ†éš”çš„å­—æ®µä¸ªæ•°+-------------------------------------------------------------------------+| echo $&#123;WEBSITE&#125; |awk -F "" '&#123;print NF&#125;' || || 35 |+-------------------------------------------------------------------------+# 5. é€šè¿‡\#çš„æ–¹å¼è·å–å­—ç¬¦ä¸²ï¼ˆæœ€ç®€å•ï¼Œæœ€å¸¸ç”¨ï¼‰+----------------------------------------------+| echo $&#123;#WEBSITE&#125; || || 35 |+----------------------------------------------+ 4. è„šæœ¬è‡ªåŠ¨å®‰è£…MySqlè¿™é‡Œå…ˆåšä¸ªè®°å½•, ä¹‹åä¼šæ•´ç†ä¸€ä»½æ›´è¯¦ç»†çš„æ–‡æ¡£å‡ºæ¥.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#!/bin/bash## auto install mysql## å‡å¦‚æ˜¯ç¬¬äºŒæ¬¡è£…ï¼Œé‚£ä¹ˆè¦å…ˆåœæ‰æœåŠ¡ï¼Œå¹¶ä¸”å¸è½½ä¹‹å‰çš„mysqlservice mysql stopEXISTS_RPMS=`rpm -qa | grep -i mysql`echo $&#123;EXISTS_RPMS&#125;for RPM in $&#123;EXISTS_RPMS&#125;do rpm -e --nodeps $&#123;RPM&#125;done## åˆ é™¤æ®‹ç•™æ–‡ä»¶rm -fr /usr/lib/mysqlrm -fr /usr/include/mysqlrm -f /etc/my.cnfrm -fr /var/lib/mysql## ä»æœåŠ¡å™¨è·å–å®‰è£…mysqlçš„rpmåŒ…wget http://linux/soft/MySQL-client-5.6.26-1.linux_glibc2.5.x86_64.rpmwget http://linux/soft/MySQL-server-5.6.26-1.linux_glibc2.5.x86_64.rpm## åˆ é™¤ä¹‹å‰çš„å¯†ç æ–‡ä»¶ï¼Œä»¥å…äº§ç”Ÿå¹²æ‰°rm -rf /root/.mysql_secret## å®‰è£…æœåŠ¡å™¨rpm -ivh MySQL-server-5.6.26-1.linux_glibc2.5.x86_64.rpm## è·å–åˆ°ç”Ÿæˆçš„éšæœºå¯†ç ##PSWD=`cat /root/.mysql_secret | awk -F ':' '&#123;print substr($4,2,16)&#125;'`PSWD=` grep -v '^$' /root/.mysql_secret | awk -F ':' '&#123;print substr($4,2,16)&#125;'`##PSWD=$&#123;PWD:1:16&#125;## å®‰è£…å®¢æˆ·ç«¯rpm -ivh MySQL-client-5.6.26-1.linux_glibc2.5.x86_64.rpm## ç„¶ååˆ é™¤åˆšåˆšä¸‹ä¸‹æ¥çš„rpmåŒ…rm -rf MySQL-client-5.6.26-1.linux_glibc2.5.x86_64.rpmrm -rf MySQL-server-5.6.26-1.linux_glibc2.5.x86_64.rpm## æç¤ºå®‰è£…çš„æ­¥éª¤éƒ½å®Œæˆäº†ã€‚echo "install mysql server and client is done .!!!!!!"## æ‰“å°å‡ºæ¥åˆšåˆšç”Ÿæˆçš„mysqlåˆå§‹å¯†ç echo "random password is:$&#123;PSWD&#125;"## å¼€å¯mysqlæœåŠ¡service mysql start# æ‰‹åŠ¨ç¬¬ä¸€æ¬¡ç™»é™†ï¼Œç„¶åæ”¹æ‰å¯†ç [root@hadoop bin]# mysql -uroot -pZjVIWvOGD18bT7oXmysql&gt; set PASSWORD=PASSWORD('root');# ç°åœ¨å°±å¯ä»¥å†™è„šæœ¬é“¾æ¥mysqlè¿›è¡Œæ“ä½œäº†[root@hadoop bin]# vi initMysql.sh#!/bin/bashmysql -uroot -proot &lt;&lt; EOF GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION; FLUSH PRIVILEGES; use mysql; select host, user, password from user;EOF]]></content>
      <categories>
        <category>Linux</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå­¦ä¹ ç¬”è®°-4]]></title>
    <url>%2F2018%2F05%2F28%2FLinux%2FLinux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-4%2F</url>
    <content type="text"><![CDATA[1ã€Linux shellç®€ä»‹1.1ã€Shellæ¦‚è¿°Shellæœ¬èº«æ˜¯ä¸€ä¸ªç”¨Cè¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå®ƒæ˜¯ç”¨æˆ·ä½¿ç”¨Unix/Linuxçš„æ¡¥æ¢ï¼Œç”¨æˆ·çš„å¤§éƒ¨åˆ†å·¥ä½œéƒ½æ˜¯é€šè¿‡Shellå®Œæˆçš„ã€‚ Shellæ—¢æ˜¯ä¸€ç§å‘½ä»¤è¯­è¨€ï¼Œåˆæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ï¼š ä½œä¸ºå‘½ä»¤è¯­è¨€ï¼Œå®ƒäº¤äº’å¼åœ°è§£é‡Šå’Œæ‰§è¡Œç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ï¼› ä½œä¸ºç¨‹åºè®¾è®¡è¯­è¨€ï¼Œå®ƒå®šä¹‰äº†å„ç§å˜é‡å’Œå‚æ•°ï¼Œå¹¶æä¾›äº†è®¸å¤šåœ¨é«˜çº§è¯­è¨€ä¸­æ‰å…·æœ‰çš„æ§åˆ¶ç»“æ„ï¼ŒåŒ…æ‹¬å¾ªç¯å’Œåˆ†æ”¯ã€‚ Shellå®ƒè™½ç„¶ä¸æ˜¯Unix/Linuxç³»ç»Ÿå†…æ ¸çš„ä¸€éƒ¨åˆ†ï¼Œä½†å®ƒè°ƒç”¨äº†ç³»ç»Ÿæ ¸å¿ƒçš„å¤§éƒ¨åˆ†åŠŸèƒ½æ¥æ‰§è¡Œç¨‹åºã€å»ºç«‹æ–‡ä»¶å¹¶ä»¥å¹¶è¡Œçš„æ–¹å¼åè°ƒå„ä¸ªç¨‹åºçš„è¿è¡Œã€‚Shellæ˜¯ç”¨æˆ·ä¸å†…æ ¸è¿›è¡Œäº¤äº’æ“ä½œçš„ä¸€ç§æ¥å£ï¼Œç›®å‰æœ€æµè¡Œçš„Shellç§°ä¸ºbash Shellï¼ˆBourne Again Shellï¼‰ Shellæ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€(è§£é‡Šå‹çš„ç¼–ç¨‹è¯­è¨€)ï¼Œå³shellè„šæœ¬(å°±æ˜¯åœ¨ç”¨linuxçš„shellå‘½ä»¤ç¼–ç¨‹)ï¼ŒShellè„šæœ¬ç¨‹åºä»è„šæœ¬ä¸­ä¸€è¡Œä¸€è¡Œè¯»å–å¹¶æ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œç›¸å½“äºä¸€ä¸ªç”¨æˆ·æŠŠè„šæœ¬ä¸­çš„å‘½ä»¤ä¸€è¡Œä¸€è¡Œæ•²åˆ°Shellæç¤ºç¬¦ä¸‹æ‰§è¡Œ Shellæ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œé‚£ä¹ˆï¼Œå°±å¿…é¡»æœ‰è§£é‡Šå™¨æ¥æ‰§è¡Œè¿™äº›è„šæœ¬ Unix/Linuxä¸Šå¸¸è§çš„Shellè„šæœ¬è§£é‡Šå™¨æœ‰bashã€shã€cshã€kshç­‰ï¼Œä¹ æƒ¯ä¸ŠæŠŠå®ƒä»¬ç§°ä½œä¸€ç§Shellã€‚æˆ‘ä»¬å¸¸è¯´æœ‰å¤šå°‘ç§Shellï¼Œå…¶å®è¯´çš„æ˜¯Shellè„šæœ¬è§£é‡Šå™¨ï¼Œå¯ä»¥é€šè¿‡cat /etc/shellså‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿä¸­å®‰è£…çš„shellï¼Œä¸åŒçš„shellå¯èƒ½æ”¯æŒçš„å‘½ä»¤è¯­æ³•æ˜¯ä¸ç›¸åŒçš„ shæ˜¯Unix æ ‡å‡†é»˜è®¤çš„shellï¼Œç”±Steve Bourneå¼€å‘ï¼Œæ˜¯Bourne Shellçš„ç¼©å†™ã€‚ bashæ˜¯Linuxæ ‡å‡†é»˜è®¤çš„shellï¼Œæœ¬æ•™ç¨‹ä¹ŸåŸºäºbashè®²è§£ã€‚bashç”±Brian Foxå’ŒChet Rameyå…±åŒå®Œæˆï¼Œæ˜¯Bourne Again Shellçš„ç¼©å†™ã€‚ Shellæœ¬èº«æ”¯æŒçš„å‘½ä»¤å¹¶ä¸å¤šï¼Œå†…éƒ¨å‘½ä»¤ä¸€å…±æœ‰40ä¸ªï¼Œä½†æ˜¯å®ƒå¯ä»¥è°ƒç”¨å…¶ä»–çš„ç¨‹åºï¼Œæ¯ä¸ªç¨‹åºå°±æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè¿™ä½¿å¾—Shellå‘½ä»¤çš„æ•°é‡å¯ä»¥æ— é™æ‰©å±•ï¼Œå…¶ç»“æœå°±æ˜¯Shellçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå®Œå…¨èƒ½å¤Ÿèƒœä»»Linuxçš„æ—¥å¸¸ç®¡ç†å·¥ä½œï¼Œå¦‚æ–‡æœ¬æˆ–å­—ç¬¦ä¸²æ£€ç´¢ã€æ–‡ä»¶çš„æŸ¥æ‰¾æˆ–åˆ›å»ºã€å¤§è§„æ¨¡è½¯ä»¶çš„è‡ªåŠ¨éƒ¨ç½²ã€æ›´æ”¹ç³»ç»Ÿè®¾ç½®ã€ç›‘æ§æœåŠ¡å™¨æ€§èƒ½ã€å‘é€æŠ¥è­¦é‚®ä»¶ã€æŠ“å–ç½‘é¡µå†…å®¹ã€å‹ç¼©æ–‡ä»¶ç­‰ã€‚ 1.2ã€ShellåŸºæœ¬æ ¼å¼ä»£ç å†™åœ¨æ™®é€šæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä»¥.shç»“å°¾ï¼Œè™½ç„¶ä¸æ˜¯å¼ºåˆ¶è¦æ±‚ï¼Œä½†å¸Œæœ›å¤§å®¶æœ€å¥½è¿™ä¹ˆåš 12345vi helloworld.sh--------------------------#!/bin/bash ## è¡¨ç¤ºç”¨å“ªä¸€ç§shellè§£æå™¨æ¥è§£ææ‰§è¡Œæˆ‘ä»¬çš„è¿™ä¸ªè„šæœ¬ç¨‹åºï¼Œè¿™å¥è¯åªå¯¹è‡ªæ‰§è¡Œæœ‰æ•ˆï¼Œå¯¹äºä½¿ç”¨sh helloworld.shæ— æ•ˆecho "hello world" ## æ³¨é‡Šä¹Ÿå¯ä»¥å†™åœ¨è¿™é‡Œ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°±å†™å¥½äº†ä¸€ä¸ªshellè„šæœ¬ï¼Œç¬¬ä¸€è¡Œæ˜¯å›ºå®šéœ€è¦çš„ï¼Œè¡¨æ˜ç”¨å“ªä¸€ç§shellè§£æå™¨æ¥æ‰§è¡Œæˆ‘ä»¬çš„è¿™ä¸ªè„šæœ¬ç¨‹åºã€‚æœ¬è´¨ä¸Šï¼Œshellè„šæœ¬é‡Œé¢çš„ä»£ç éƒ½æ˜¯å°±æ˜¯ä¸€äº›æµç¨‹æ§åˆ¶è¯­å¥åŠ ä¸€äº›ç‰¹æ®Šè¯­æ³•å†åŠ shell**å‘½ä»¤**ç»„æˆã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å½“åšæ¯ä¸€ä¸ªå‘½ä»¤å°±æ˜¯shellç¼–ç¨‹å½“ä¸­çš„å…³é”®å­—ã€‚ 1.3ã€Shellæ‰§è¡Œæ–¹å¼1 ã€sh æ–¹å¼æˆ–è€…bash æ–¹å¼ sh helloworld.sh bash helloworld.sh ## ç›´æ¥æŒ‡å®šç”¨ç³»ç»Ÿé»˜è®¤çš„bash shellè§£é‡Šæ‰§è¡Œ 2 ã€source æ–¹å¼æˆ–è€…. æ–¹å¼ sourceå‘½ä»¤ä¹Ÿç§°ä¸ºâ€œç‚¹å‘½ä»¤â€ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç‚¹ç¬¦å·ï¼ˆ.ï¼‰,æ˜¯bashçš„å†…éƒ¨å‘½ä»¤ã€‚ åŠŸèƒ½ï¼šä½¿Shellè¯»å…¥æŒ‡å®šçš„Shellç¨‹åºæ–‡ä»¶å¹¶ä¾æ¬¡æ‰§è¡Œæ–‡ä»¶ä¸­çš„æ‰€æœ‰è¯­å¥ sourceå‘½ä»¤é€šå¸¸ç”¨äºé‡æ–°æ‰§è¡Œåˆšä¿®æ”¹çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œä½¿ä¹‹ç«‹å³ç”Ÿæ•ˆï¼Œè€Œä¸å¿…æ³¨é”€å¹¶é‡æ–°ç™»å½•ã€‚ ç”¨æ³•ï¼š . helloworld.sh source helloworld.sh 3 ã€ç›´æ¥æ‰§è¡Œè¯¥è„šæœ¬æ–‡ä»¶ å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸è¿‡è¿™ä¸¤ç§æ–¹å¼çš„æ‰§è¡Œï¼Œéƒ½éœ€è¦è¯¥æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™ æ‰€ä»¥åœ¨æ‰§è¡Œä¹‹å‰ï¼Œæˆ‘ä»¬è¦æ›´æ”¹ä»–çš„æ‰§è¡Œæƒé™ 1ã€ åˆ‡æ¢åˆ°è¯¥æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š ./helloworld.sh 2ã€ ç›´æ¥ä»¥ç»å¯¹è·¯å¾„æ–¹å¼æ‰§è¡Œ /home/linux/hellworld.sh 1.4ã€Shellæ³¨é‡Šå•è¡Œæ³¨é‡Šï¼šShellè„šæœ¬ä¸­ä»¥#å¼€å¤´çš„ä»£ç å°±æ˜¯æ³¨é‡Š # xxx å¤šè¡Œæ³¨é‡Šï¼šShellè„šæœ¬ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šè¡Œæ³¨é‡Šï¼š:&lt;&lt;! xxx ! 2ã€ShellåŸºæœ¬è¯­æ³•2.1ã€å˜é‡2.1.1ã€ç³»ç»Ÿå˜é‡Linux Shellä¸­çš„å˜é‡åˆ†ä¸ºâ€œç³»ç»Ÿå˜é‡â€å’Œâ€œç”¨æˆ·è‡ªå®šä¹‰å˜é‡â€ ç³»ç»Ÿå˜é‡å¯ä»¥é€šè¿‡setå‘½ä»¤æŸ¥çœ‹ï¼Œç”¨æˆ·ç¯å¢ƒå˜é‡å¯ä»¥é€šè¿‡envæŸ¥çœ‹ï¼š å¸¸ç”¨ç³»ç»Ÿå˜é‡ï¼š\$PWD \$SHELL \$USER $HOME 2.1.2ã€è‡ªå®šä¹‰å˜é‡12345678910111213141516171819# 1.æ³¨æ„, å˜é‡ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼A=123 echo $A# 2.å˜é‡ä¸­é—´æœ‰ç©ºæ ¼çš„è¯è¦åŠ å¼•å· - åŒå¼•å·ä¸­é—´å¯ä»¥å¼•ç”¨å˜é‡ a=zs b="this is $a" echo $b this is zs - å•å¼•å·å¼•ç”¨å˜é‡ä¼šåŸæ ·è¾“å‡º b='this is $a' echo $b this is $a # 3. è¦åœ¨å˜é‡åç›´æ¥è¿æ¥å­—ç¬¦, è¦ç”¨&#123;&#125;æŠŠå˜é‡æ‹¬èµ·æ¥ $&#123;å˜é‡å&#125;å…¶å®ƒå­—ç¬¦ echo $&#123;A&#125;ddd helloddd 2.1.3ã€å˜é‡é«˜çº§ç”¨æ³• æ’¤é”€å˜é‡ï¼šunset ABC å£°æ˜é™æ€å˜é‡ï¼šreadonly ABC= â€˜abcâ€™ ç‰¹ç‚¹æ˜¯è¿™ç§å˜é‡æ˜¯åªè¯»çš„ï¼Œä¸èƒ½unset åœ¨ä¸€ä¸ª .sh ä¸­. ä»¥ç»å¯¹è·¯å¾„çš„å½¢å¼è°ƒå¦ä¸€ä¸ª .sh ä½¿ç”¨exportå…³é”®å­— export A=â€A in a.shâ€ æ„å‘³ç€æŠŠå˜é‡æå‡ä¸ºå½“å‰shell è¿›ç¨‹ä¸­çš„å…¨å±€ç¯å¢ƒå˜é‡ï¼Œå¯ä¾›å…¶ä»–å­shell ç¨‹åºä½¿ç”¨ï¼Œ A å˜é‡å°±æˆäº†a.sh è„šæœ¬æ‰€åœ¨bash è¿›ç¨‹çš„å…¨å±€å˜é‡ï¼Œè¯¥è¿›ç¨‹çš„æ‰€æœ‰å­è¿›ç¨‹éƒ½èƒ½è®¿é—®åˆ°å˜é‡A é€šè¿‡ . /root/bin/b.sh æˆ– source /root/bin/b.sh æ¥è°ƒç”¨ æ€»ç»“ï¼š a.shä¸­ç›´æ¥è°ƒç”¨b.shï¼Œä¼šè®©b.shåœ¨Aæ‰€åœ¨çš„bashè¿›ç¨‹çš„â€œå­è¿›ç¨‹â€ç©ºé—´ä¸­æ‰§è¡Œ è€Œå­è¿›ç¨‹ç©ºé—´åªèƒ½è®¿é—®çˆ¶è¿›ç¨‹ä¸­ç”¨exportå®šä¹‰çš„å˜é‡ ä¸€ä¸ªshellè¿›ç¨‹æ— æ³•å°†è‡ªå·±å®šä¹‰çš„å˜é‡æå‡åˆ°çˆ¶è¿›ç¨‹ç©ºé—´ä¸­å» sourceæˆ–è€…â€œ.â€å·æ‰§è¡Œè„šæœ¬æ—¶ï¼Œä¼šè®©è„šæœ¬åœ¨è°ƒç”¨è€…æ‰€åœ¨çš„shellè¿›ç¨‹ç©ºé—´ä¸­æ‰§è¡Œ 2.1.4ã€åå¼•å·èµ‹å€¼ a=`ls -l /root/bin` ##åå¼•å·ï¼Œè¿è¡Œé‡Œé¢çš„å‘½ä»¤ï¼Œå¹¶æŠŠç»“æœè¿”å›ç»™å˜é‡a å¦å¤–ä¸€ç§å†™æ³•ï¼ša=$(ls -l /root/bin) 2.1.5ã€å˜é‡æœ‰ç”¨æŠ€å·§ å½¢å¼ è¯´æ˜ ${var} å˜é‡æœ¬æ¥çš„å€¼ ${var:-word} å¦‚æœå˜é‡ var ä¸ºç©ºæˆ–å·²è¢«åˆ é™¤(unset)ï¼Œé‚£ä¹ˆè¿”å› wordï¼Œä½†ä¸æ”¹å˜ var çš„å€¼ ${var:+word} å¦‚æœå˜é‡ var è¢«å®šä¹‰ï¼Œé‚£ä¹ˆè¿”å›wordï¼Œä½†ä¸æ”¹å˜ var çš„å€¼ ${var:=word} å¦‚æœå˜é‡ var ä¸ºç©ºæˆ–å·²è¢«åˆ é™¤(unset)ï¼Œé‚£ä¹ˆè¿”å› wordï¼Œå¹¶å°† var çš„å€¼è®¾ç½®ä¸º word ${var:?message} å¦‚æœå˜é‡ var ä¸ºç©ºæˆ–å·²è¢«åˆ é™¤(unset)ï¼Œé‚£ä¹ˆå°†æ¶ˆæ¯ message é€åˆ°æ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œå¯ä»¥ç”¨æ¥æ£€æµ‹å˜é‡ var æ˜¯å¦å¯ä»¥è¢«æ­£å¸¸èµ‹å€¼ã€‚ è‹¥æ­¤æ›¿æ¢å‡ºç°åœ¨Shellè„šæœ¬ä¸­ï¼Œé‚£ä¹ˆè„šæœ¬å°†åœæ­¢è¿è¡Œ 2.1.6 ç‰¹æ®Šå˜é‡ $? è¡¨ç¤ºä¸Šä¸€ä¸ªå‘½ä»¤é€€å‡ºçš„çŠ¶æ€ç  $$ è¡¨ç¤ºå½“å‰è¿›ç¨‹ç¼–å· $0 è¡¨ç¤ºå½“å‰è„šæœ¬åç§° $n è¡¨ç¤ºn ä½ç½®çš„è¾“å…¥å‚æ•°ï¼ˆn**ä»£è¡¨æ•°å­—ï¼Œn&gt;=1 ï¼‰** $# è¡¨ç¤ºå‚æ•°çš„ä¸ªæ•°ï¼Œå¸¸ç”¨äºå¾ªç¯ $* å’Œ$@ éƒ½è¡¨ç¤ºå‚æ•°åˆ—è¡¨ æ³¨æ„ï¼š$*ä¸$@åŒºåˆ« $* å’Œ $@ éƒ½è¡¨ç¤ºä¼ é€’ç»™å‡½æ•°æˆ–è„šæœ¬çš„æ‰€æœ‰å‚æ•°** ä¸è¢«åŒå¼•å·â€ â€œåŒ…å«æ—¶ $* å’Œ $@ éƒ½ä»¥\$1 \$2 â€¦ \$n çš„å½¢å¼ç»„æˆå‚æ•°åˆ—è¡¨ å½“å®ƒä»¬è¢«åŒå¼•å·â€ â€œåŒ…å«æ—¶ â€œ$*â€œ ä¼šå°†æ‰€æœ‰çš„å‚æ•°ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œä»¥â€\$1 \$2 â€¦ \$nâ€çš„å½¢å¼ç»„æˆä¸€ä¸ªæ•´ä¸²ï¼› $* ä¼šå°†å„ä¸ªå‚æ•°åˆ†å¼€ï¼Œä»¥â€\$1â€ â€œ\$2â€ â€¦ â€œ\$nâ€ çš„å½¢å¼ç»„æˆä¸€ä¸ªå‚æ•°åˆ—è¡¨ 2.1.7 å˜é‡çš„å…¶ä»–æ³¨æ„ç‚¹ ä½¿ç”¨å˜é‡ ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡, åªéœ€è¦åœ¨å˜é‡åå‰é¢åŠ  $ ç¬¦å· å¦‚æœå˜é‡åé¢ç›´æ¥è·Ÿä¸Šäº†å­—ç¬¦ä¸², å°±å¿…é¡»è¦åŠ èŠ±æ‹¬å· æ¨èç»™æ‰€æœ‰å˜é‡åŠ ä¸ŠèŠ±æ‹¬å·, è¿™ä¸ªæ˜¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ å·²å®šä¹‰çš„éåªè¯»å˜é‡, å¯ä»¥è¢«é‡æ–°å®šä¹‰ åªè¯»å˜é‡ ä½¿ç”¨ readonly å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚ 1234567#!/bin/bashmyUrl="http://www.w3cschool.cc"readonly myUrlmyUrl="http://www.runoob.com"---# ä¼šæŠ¥é”™zsh: read-only variable: myUrl åˆ é™¤å˜é‡, åªè¯»å˜é‡ä¸èƒ½åˆ é™¤, å˜é‡è¢«åˆ é™¤åä¸èƒ½å†æ¬¡ä½¿ç”¨ 1unset variable_name å˜é‡ç±»å‹ 1) å±€éƒ¨å˜é‡ å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚ 2) ç¯å¢ƒå˜é‡ æ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚ 3) shellå˜é‡ shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ 2.18 å­—ç¬¦ä¸²è·å–å­—ç¬¦ä¸²é•¿åº¦12string="abcd"echo $&#123;#string&#125; #è¾“å‡º 4 æå–å­å­—ç¬¦ä¸²ä»¥ä¸‹å®ä¾‹ä»å­—ç¬¦ä¸²ç¬¬ 2 ä¸ªå­—ç¬¦å¼€å§‹æˆªå– 4 ä¸ªå­—ç¬¦ï¼š 12string="runoob is a great site"echo $&#123;string:1:4&#125; # è¾“å‡º unoo æŸ¥æ‰¾å­å­—ç¬¦ä¸²æŸ¥æ‰¾å­—ç¬¦ â€œi æˆ– sâ€œ çš„ä½ç½®ï¼š 12string="runoob is a great company"echo `expr index "$string" is` # è¾“å‡º 8 2.19 Shell æ•°ç»„ bashæ”¯æŒä¸€ç»´æ•°ç»„ï¼ˆä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°ã€‚ ç±»ä¼¼ä¸Cè¯­è¨€ï¼Œæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ç”±0å¼€å§‹ç¼–å·ã€‚è·å–æ•°ç»„ä¸­çš„å…ƒç´ è¦åˆ©ç”¨ä¸‹æ ‡ï¼Œä¸‹æ ‡å¯ä»¥æ˜¯æ•´æ•°æˆ–ç®—æœ¯è¡¨è¾¾å¼ï¼Œå…¶å€¼åº”å¤§äºæˆ–ç­‰äº0ã€‚ å®šä¹‰æ•°ç»„åœ¨Shellä¸­ï¼Œç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨â€ç©ºæ ¼â€ç¬¦å·åˆ†å‰²å¼€ã€‚å®šä¹‰æ•°ç»„çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š 1æ•°ç»„å=(å€¼1 å€¼2 ... å€¼n) è¿˜å¯ä»¥å•ç‹¬å®šä¹‰æ•°ç»„çš„å„ä¸ªåˆ†é‡ï¼š 123array_name[0]=value0array_name[1]=value1array_name[n]=valuen å¯ä»¥ä¸ä½¿ç”¨è¿ç»­çš„ä¸‹æ ‡ï¼Œè€Œä¸”ä¸‹æ ‡çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ã€‚ è·å–æ•°ç»„çš„é•¿åº¦ è·å–æ•°ç»„é•¿åº¦çš„æ–¹æ³•ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ç›¸åŒï¼Œä¾‹å¦‚ï¼š 123456# å–å¾—æ•°ç»„å…ƒç´ çš„ä¸ªæ•°length=$&#123;#array_name[@]&#125;# æˆ–è€…length=$&#123;#array_name[*]&#125;# å–å¾—æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦lengthn=$&#123;#array_name[n]&#125; 2.2ã€è¿ç®—ç¬¦2.2.1ã€ç®—æ•°è¿ç®—ç¬¦1. ç”¨expr12345678æ ¼å¼ expr m + n æ³¨æ„exprè¿ç®—ç¬¦é—´è¦æœ‰ç©ºæ ¼ä¾‹å¦‚è®¡ç®—ï¼ˆ2ï¼‹3ï¼‰Ã—4 çš„å€¼1ã€åˆ†æ­¥è®¡ç®— S=`expr 2 + 3` expr $S \* 4 ## *å·éœ€è¦è½¬ä¹‰2ã€ä¸€æ­¥å®Œæˆè®¡ç®— expr `expr 2 + 3 ` \* 4 echo `expr \`expr 2 + 3\` \* 4` ç”¨exprè¿˜å¯ä»¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå­å­—ç¬¦ä¸²å‡ºç°çš„ä½ç½®ï¼Œæˆªå–å­—ç¬¦ä¸²ç­‰ç­‰ 123456789cts1 ~ # name='woshishuaige'cts1 ~ # expr length name4cts1 ~ # expr length $name12cts1 ~ # expr index $name shuai3cts1 ~ # expr substr $name 6 2sh è¯¦æƒ…è¯·ç¿»é˜…: expr â€“help 2. ç”¨(())12345678((1+2))(((2+3)*4))count=1((count++))((++count))echo $count# ä½†æ˜¯è¦æƒ³å–åˆ°è¿ç®—ç»“æœï¼Œéœ€è¦ç”¨$å¼•ç”¨a=$((1+2)) 3. ç”¨\$[]12345SS=$[2+3]echo $SSSS=$[2*3]echo $SSecho $[(2 + 3)*3] 4. ç”¨let1234first=1second=2let third=first+secondecho $&#123;third&#125; 5. ç”¨ | bcä»¥ä¸Šå‘½ä»¤éƒ½åªå¯¹æ•´å½¢æ•°å€¼æœ‰æ•ˆï¼Œä¸é€‚ç”¨äºæµ®ç‚¹æ•° å¦‚æœæœ‰æµ®ç‚¹æ•°å‚ä¸è¿ç®—ï¼Œå¯ä»¥å°†echoä¸bcå‘½ä»¤ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ 123456echo "1.212*3" | bc ## ç®€å•æµ®ç‚¹è¿ç®—echo "scale=2;3/8" | bc ##å°†è¾“å‡ºç»“æœè®¾ç½®ä¸º2ä½echo "obase=2;127" | bc ##è¾“å‡ºè¿ç®—ç»“æœçš„äºŒè¿›åˆ¶echo "obase=10;ibase=2;101111111" | bc ##å°†äºŒè¿›åˆ¶è½¬æ¢æˆåè¿›åˆ¶echo "10^10" | bc ##æ±‚å¹‚æŒ‡æ•°echo "sqrt(100)" | bc ##å¼€å¹³æ–¹ é™¤äº†ç”¨bcåšå°½èŒè½¬æ¢ä»¥å¤–ï¼Œè¿˜å¯ä»¥è¿™æ ·åšï¼š 12345echo $((base#number)) è¡¨ç¤ºæŠŠä»»æ„baseè¿›åˆ¶çš„æ•°numberè½¬æ¢æˆåè¿›åˆ¶ä¾‹å­ï¼šecho $((8#377)) è¿”å›255echo $((025)) è¿”å›21 ï¼Œ å…«è¿›åˆ¶echo $((0xA4)) è¿”å›164 ï¼Œ åå…­è¿›åˆ¶ ä½¿ç”¨bcè¿˜å¯ä»¥ç”¨æ¥æ¯”è¾ƒæµ®ç‚¹æ•°çš„å¤§å°ï¼š 12345678910111213[root@hadoop02 bin]# echo "1.2 &lt; 2" |bc1[root@hadoop02 bin]# echo "1.2 &gt; 2" |bc0[root@hadoop02 bin]# echo "1.2 == 2.2" |bc0[root@hadoop02 bin]# echo "1.2 != 2.2" |bc1çœ‹å‡ºè§„å¾‹äº†å˜›ï¼Ÿè¿ç®—å¦‚æœä¸ºçœŸè¿”å› 1ï¼Œå¦åˆ™è¿”å› 0ï¼Œå†™ä¸€ä¸ªä¾‹å­ï¼š[root@hadoop02 bin]# [ $(echo "2.2 &gt; 2" |bc) -eq 1 ] &amp;&amp; echo yes || echo noyes[root@hadoop02 bin]# [ $(echo "2.2 &lt; 2" |bc) -eq 1 ] &amp;&amp; echo yes || echo nono 2.2.2ã€å…³ç³»è¿ç®—ç¬¦ä¸‹é¢ç»™å‡ºä¸€å¼ å…³ç³»è¿ç®—ç¬¦çš„åˆ—è¡¨ï¼š è¿ç®—ç¬¦ ç­‰åŒè¿ç®—ç¬¦ è¯´æ˜ -eq = æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å›true -ne != æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å›true -ge &gt;= æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§ç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -gt &gt; æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -le &lt;= æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -lt &lt; æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true 2.2.3ã€å¸ƒå°”è¿ç®—ç¬¦ è¿ç®—ç¬¦ ç­‰åŒè¿ç®—ç¬¦ è¯´æ˜ ! ! éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å›falseï¼Œå¦åˆ™è¿”å›true -a &amp;&amp; ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸ºtrue æ‰è¿”å›true -o \ \ æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸ºtrue åˆ™è¿”å›true 2.2.4ã€å­—ç¬¦ä¸²è¿ç®—ç¬¦ è¿ç®—ç¬¦ è¯´æ˜ = æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å›true != æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å›true -z æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å›true -n æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0è¿”å›true str æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å›true 2.2.5ã€æ–‡ä»¶è¿ç®—ç¬¦ è¿ç®—ç¬¦ è¯´æ˜ -d æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -f æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -e æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -s æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å›true -r æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -w æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -x æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -b æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true -c æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›true 2.3ã€æµç¨‹æ§åˆ¶2.3.1ã€ifif.. then ..elif.. then.. else..fi123456789101112131415161718192021222324252627282930313233343536# ifè¯­æ³•æ ¼å¼ï¼šif conditionthen statements [elif condition then statements. ..] [else statements ] fi# ç¤ºä¾‹ç¨‹åºï¼š[root@hadoop02 bin]# vi g.sh#!/bin/bash## read a value for NAME from stdinread -p "please input your name:" NAME## printf '%s\n' $NAMEif [ $NAME = root ]thenecho "hello $&#123;NAME&#125;, welcome !"elif [ $NAME = hadoop ]then echo "hello $&#123;NAME&#125;, welcome !"else echo "I donâ€™t know you !"fi## è§„åˆ™è§£é‡Š[ condition ] (æ³¨ï¼šconditionå‰åè¦æœ‰ç©ºæ ¼)#éç©ºè¿”å›trueï¼Œå¯ä½¿ç”¨$?éªŒè¯ï¼ˆ0ä¸ºtrueï¼Œ&gt;1ä¸ºfalseï¼‰[ hadoop ]#ç©ºè¿”å›false[ ]# æ³¨æ„[ ]å†…éƒ¨çš„=å‘¨è¾¹çš„ç©ºæ ¼ ä¸‰å…ƒè¿ç®—ç¬¦12[ condition ] &amp;&amp; echo OK || echo notok# æ¡ä»¶æ»¡è¶³ï¼Œæ‰§è¡Œ&amp;&amp;åé¢çš„è¯­å¥ï¼›æ¡ä»¶ä¸æ»¡è¶³ï¼Œæ‰§è¡Œ||åé¢çš„è¯­å¥ æ¡ä»¶åˆ¤æ–­ç»„åˆ æ¡ä»¶åˆ¤æ–­ç»„åˆæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š [] å’Œ [[]] æ³¨æ„å®ƒä»¬çš„åŒºåˆ«ï¼š [[ ]] ä¸­é€»è¾‘ç»„åˆå¯ä»¥ä½¿ç”¨ &amp;&amp; || ç¬¦å· [] é‡Œé¢é€»è¾‘ç»„åˆå¯ä»¥ç”¨ -a -o å¸¸ç”¨åˆ¤æ–­è¿ç®—ç¬¦1. å­—ç¬¦ä¸²æ¯”è¾ƒ = åˆ¤æ–­ç›¸ç­‰!= åˆ¤æ–­ä¸ç›¸ç­‰-z å­—ç¬¦ä¸²é•¿åº¦æ˜¯ä¸º0è¿”å›true-n å­—ç¬¦ä¸²é•¿åº¦æ˜¯ä¸ä¸º0è¿”å›true 2. æ•´æ•°æ¯”è¾ƒ -lt å°äº less than -le å°äºç­‰äº -eq ç­‰äº -gt å¤§äº great than -ge å¤§äºç­‰äº -ne ä¸ç­‰äº 3. æ–‡ä»¶åˆ¤æ–­ -d æ˜¯å¦ä¸ºç›®å½• if [ -d /bin ]; then echo ok; else echo notok;fi -f æ˜¯å¦ä¸ºæ–‡ä»¶ if [ -f /bin/ls ]; then echo ok; else echo notok;fi -e æ˜¯å¦å­˜åœ¨ if [ -e /bin/ls ]; then echo ok; else echo notok;fi 2.3.2ã€while1234567891011121314151617181920212223242526while expressiondo command â€¦â€¦done----------------------i=1while ((i&lt;=3))do echo $i let i++done----------------------#!/bin/bashi=1while [ $i -le 3 ]do echo $i let i++done# å‘½ä»¤æ‰§è¡Œå®Œæ¯•ï¼Œæ§åˆ¶è¿”å›å¾ªç¯é¡¶éƒ¨ï¼Œä»å¤´å¼€å§‹ç›´è‡³æµ‹è¯•æ¡ä»¶ä¸ºå‡# æ¢ç§æ–¹å¼ï¼šå¾ªç¯ä½“ä¼šä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°æ¡ä»¶è¡¨è¾¾å¼expressionä¸ºfalse# æ³¨æ„ï¼šä¸Šè¿°let i++ å¯ä»¥å†™æˆ i=$(($i+1))æˆ–è€…i=$((i+1)) 2.3.3ã€caseCaseè¯­æ³•ï¼ˆé€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºï¼‰ï¼š 12345678910case $1 instart) echo "starting" ;;stop) echo "stoping" ;;*) echo "Usage: &#123;start|stop&#125;"esac 2.3.4ã€forè¯­æ³•æ ¼å¼ï¼š 1234567for å˜é‡ in åˆ—è¡¨docommandâ€¦â€¦done# åˆ—è¡¨æ˜¯ä¸€ç»„å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ç­‰ï¼‰ç»„æˆçš„åºåˆ—ï¼Œæ¯ä¸ªå€¼é€šè¿‡ç©ºæ ¼åˆ†éš”ã€‚æ¯å¾ªç¯ä¸€æ¬¡ï¼Œå°±å°†åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå€¼èµ‹ç»™å˜é‡ ä¸‰ç§æ–¹å¼ 12345678# æ–¹å¼1for N in 1 2 3; do echo $N; done# æ–¹å¼2for N in &#123;1..3&#125;; do echo $N; done# æ–¹å¼3for ((i=0; i&lt;=2; i++)); do echo "welcome $i times"; done 2.3.5ã€utilè¯­æ³•ç»“æ„ï¼š 123456789101112131415161718192021222324until expressiondo command â€¦â€¦done# expressionä¸€èˆ¬ä¸ºæ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å›å€¼ä¸º falseï¼Œåˆ™ç»§ç»­æ‰§è¡Œå¾ªç¯ä½“å†…çš„è¯­å¥ï¼Œå¦åˆ™è·³å‡ºå¾ªç¯ã€‚# æ¢ç§æ–¹å¼è¯´ï¼šå¾ªç¯ä½“ä¼šä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°æ¡ä»¶è¡¨è¾¾å¼expressionä¸ºtrue## ç¤ºä¾‹#!/bin/bash## vi util.sha=0until [ ! $a -lt 3 ]do echo $a a=`expr $a + 1`done----è¾“å‡º: 012 2.4ã€æ•°ç»„åœ¨Shellä¸­ï¼Œç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨â€œç©ºæ ¼â€ç¬¦å·åˆ†å‰²å¼€ã€‚å®šä¹‰æ•°ç»„çš„ä¸€èˆ¬å½¢å¼ä¸º 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061array_name=(value1 ... valuen)ä¾‹å­ï¼šmingxing=(huangbo xuzheng wangbaoqiang)ä¹Ÿå¯ä»¥å•ç‹¬å®šä¹‰ï¼šmingxing[3]=liujialingè¯»å–æ•°ç»„å…ƒç´ çš„æ ¼å¼æ˜¯ï¼š$&#123;array_name[index]&#125;============================================# è·å–æ•°ç»„ä¸‹æ ‡ï¼š å‰é¢åŠ  `!`[linux@linux ~]$ echo $&#123;!mingxing[@]&#125; æˆ–è€…[linux@linux ~]$ echo $&#123;!mingxing[*]&#125;---è¾“å‡º: 0 1 2 3============================================# è¾“å‡ºæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼šç›´æ¥å–å€¼[linux@linux ~]$ echo $&#123;mingxing[*]&#125;[linux@linux ~]$ echo $&#123;mingxing[@]&#125;============================================# è·å–æ•°ç»„çš„é•¿åº¦ï¼š`#` [linux@linux ~]$ echo $&#123;#mingxing[*]&#125;[linux@linux ~]$ echo $&#123;#mingxing[@]&#125;============================================# æ•°ç»„å¯¹æ¥: æ·»åŠ æ–°çš„å€¼[linux@linux ~]$ mingxing+=(liuyifei liuyufeng)============================================# åˆ é™¤æ•°ç»„å…ƒç´ ï¼Œä½†æ˜¯ä¼šä¿ç•™æ•°ç»„å¯¹åº”ä½ç½®ï¼Œå°±æ˜¯è¯¥å€¼çš„ä¸‹æ ‡ä¾ç„¶ä¼šä¿ç•™ï¼Œä¼šç©ºç€ï¼Œä¹‹åï¼Œè¿˜å¯ä»¥å¡«å……å…¶ä»–çš„å€¼è¿›æ¥ã€‚# åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼šä¹‹å $&#123;mingxing[0]&#125; å°±æ˜¯ç©ºå€¼äº†[linux@linux ~]$ unset mingxing[0]============================================# éå†æ•°ç»„ï¼š#!/bin/bashIP=(192.168.1.1 192.168.1.2 192.168.1.3)# ç¬¬ä¸€ç§æ–¹å¼for ((i=0;i&lt;$&#123;#IP[*]&#125;;i++))doecho $&#123;IP[$i]&#125;done#ç¬¬äºŒç§æ–¹å¼for ip in $&#123;IP[*]&#125;do echo $ipdone============================================# æ•°ç»„çš„åˆ†ç‰‡ï¼š$&#123;arr[@]:number1:number2&#125;è¿™é‡Œnumber1ä»ä¸‹æ ‡number1å¼€å§‹å–å€¼ï¼Œnumber2å¾€åå–å‡ ä¸ªå…ƒç´ ï¼Œå³å–åˆ°çš„æ–°çš„æ•°ç»„çš„é•¿åº¦---cts1 ~ # arr=(1 2 3 4 5 6 7)cts1 ~ # echo "&#123;arr[@]:0:3&#125; --- $&#123;arr[@]:0:3&#125; "&#123;arr[@]:0:3&#125; --- 1 2 3cts1 ~ # echo "&#123;arr[@]:3:3&#125; --- $&#123;arr[@]:3:3&#125; "&#123;arr[@]:3:3&#125; --- 4 5 6cts1 ~ # echo "&#123;arr[@]:4:3&#125; --- $&#123;arr[@]:4:3&#125; "&#123;arr[@]:4:3&#125; --- 5 6 7 2.5ã€å‡½æ•°ä½¿ç”¨å‡½æ•°çš„è¯­æ³•ä½¿ç”¨ç¤ºä¾‹ : 1234567891011121314[root@hadoop02 bin]# vi i.sh #!/bin/shhello()&#123; echo "`date +%Y-%m-%d`" # return 2&#125;helloecho â€œhuangboâ€ # echo $?A="mazhonghua"echo $A---æ‰§è¡Œç»“æœ----â€œhuangboâ€mazhonghua å‡½æ•°çš„è°ƒç”¨æ–¹å¼å°±æ˜¯ç›´æ¥å†™å‡½æ•°åå°±OKäº† 123æ³¨æ„ï¼š1ã€å¿…é¡»åœ¨è°ƒç”¨å‡½æ•°åœ°æ–¹ä¹‹å‰ï¼Œå…ˆå£°æ˜å‡½æ•°ï¼Œshellè„šæœ¬æ˜¯é€è¡Œè¿è¡Œã€‚ä¸ä¼šåƒå…¶å®ƒè¯­è¨€ä¸€æ ·å…ˆé¢„ç¼–è¯‘2ã€å‡½æ•°è¿”å›å€¼ï¼Œåªèƒ½é€šè¿‡$? ç³»ç»Ÿå˜é‡è·å¾—ï¼Œå¯ä»¥æ˜¾ç¤ºåŠ ï¼šreturn è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚ returnåè·Ÿæ•°å€¼n(0-255) è„šæœ¬è°ƒè¯•ï¼š ä½¿ç”¨-xé€‰é¡¹è·Ÿè¸ªè„šæœ¬è°ƒè¯•shellè„šæœ¬ï¼Œèƒ½æ‰“å°å‡ºæ‰€æ‰§è¡Œçš„æ¯ä¸€è¡Œå‘½ä»¤ä»¥åŠå½“å‰çŠ¶æ€ sh -x i.sh æˆ–è€…åœ¨ä»£ç ä¸­åŠ å…¥ï¼šset -x 12345678910111213cts1 Desktop # sh -x i.sh+ hello++ date +%Y-%m-%d+ echo 2018-05-292018-05-29+ return 2+ echo $'\342\200\234huangbo\342\200\235'â€œhuangboâ€+ echo 00+ A=mazhonghua+ echo mazhonghuamazhonghua 2.6ã€å‡½æ•°å‚æ•°ç›´æ¥ä¸Šä»£ç  123456789101112131415161718192021222324vim funcWithParam.sh--------shæ–‡ä»¶--------#!/bin/bash# filename=funcWithParamfuncWithParam()&#123; echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸º $1 !" echo "ç¬¬äºŒä¸ªå‚æ•°ä¸º $2 !" echo "ç¬¬åä¸ªå‚æ•°ä¸º $10 !" echo "ç¬¬åä¸ªå‚æ•°ä¸º $&#123;10&#125; !" echo "ç¬¬åä¸€ä¸ªå‚æ•°ä¸º $&#123;11&#125; !" echo "å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!" echo "ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !"&#125;funcWithParam 1 2 3 4 5 6 7 8 9 34 73--------------------# è°ƒç”¨cts1 Desktop # sh funcWithParam.shç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !ç¬¬åä¸ªå‚æ•°ä¸º 10 !ç¬¬åä¸ªå‚æ•°ä¸º 34 !ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 73 !å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª!ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 34 73 ! 2.7ã€è·¨è„šæœ¬è°ƒç”¨å‡½æ•°ç¼–å†™ä¸€ä¸ªbase.shè„šæœ¬ï¼Œé‡Œé¢æ”¾æ”¾ä¸€ä¸ªtestå‡½æ•° 123456vim base.sh------#!/bin/bashtest()&#123; echo "hello"&#125; å†ç¼–å†™ä¸€ä¸ªother.shè„šæœ¬ï¼Œé‡Œé¢å¼•å…¥base.shè„šæœ¬ï¼Œå¹¶ä¸”è°ƒç”¨testå‡½æ•°ï¼š 12345678910111213vim other.sh--------#!/bin/bashsource base.sh ## å¼•å…¥è„šæœ¬test ##è°ƒç”¨å¼•å…¥è„šæœ¬å½“ä¸­çš„testå‡½æ•°============================================# æ‰§è¡Œcts1 Desktop # sh other.shother.sh: line 2: ./base.sh: æƒé™ä¸å¤Ÿcts1 Desktop # chmod 755 other.sh base.shcts1 Desktop # ./other.shhello 3ã€Shellç»¼åˆæ¡ˆä¾‹3.1ã€æ‰“å°9*9ä¹˜æ³•è¡¨ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425#!/bin/bashfor((i=1;i&lt;=9;++i))do for((j=1;j&lt;=i;j++)) do echo -ne "$i*$j=$((i*j))\t" done echodone# è§£é‡Š-n ä¸åŠ æ¢è¡Œç¬¦-e è§£é‡Šè½¬ä¹‰ç¬¦echo æ¢è¡Œæ•ˆæœ: 1*1=12*1=2 2*2=43*1=3 3*2=6 3*3=94*1=4 4*2=8 4*3=12 4*4=165*1=5 5*2=10 5*3=15 5*4=20 5*5=256*1=6 6*2=12 6*3=18 6*4=24 6*5=30 6*6=367*1=7 7*2=14 7*3=21 7*4=28 7*5=35 7*6=42 7*7=498*1=8 8*2=16 8*3=24 8*4=32 8*5=40 8*6=48 8*7=56 8*8=649*1=9 9*2=18 9*3=27 9*4=36 9*5=45 9*6=54 9*7=63 9*8=72 9*9=81 3.2ã€è‡ªåŠ¨éƒ¨ç½²é›†ç¾¤çš„JDK1ã€ éœ€æ±‚æè¿° 12å…¬å¸å†…æœ‰ä¸€ä¸ªNä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œéœ€è¦ç»Ÿä¸€å®‰è£…ä¸€äº›è½¯ä»¶ï¼ˆjdkï¼‰éœ€è¦å¼€å‘ä¸€ä¸ªè„šæœ¬ï¼Œå®ç°å¯¹é›†ç¾¤ä¸­çš„Nå°èŠ‚ç‚¹æ‰¹é‡è‡ªåŠ¨ä¸‹è½½ã€å®‰è£…jdk 2ã€ æ€è·¯ æ€è€ƒä¸€ä¸‹ï¼šæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªJDKå®‰è£…åŒ…åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šã€‚é‚£æˆ‘ä»¬è¦å®ç°è¿™ä¸ªç›®æ ‡ï¼š 1231ã€ æŠŠåŒ…ä¼ åˆ°æ¯å°æœåŠ¡å™¨ï¼Œæˆ–è€…é€šè¿‡æœ¬åœ°yumæºçš„æ–¹å¼å»æœåŠ¡å™¨å–2ã€ ç»™æ¯å°ä¸€å°æœºå™¨å‘é€ä¸€ä¸ªå®‰è£…è„šæœ¬ï¼Œå¹¶ä¸”è®©è„šæœ¬è‡ªå·±æ‰§è¡Œ3. è¦å†™ä¸€ä¸ªå¯åŠ¨è„šæœ¬ï¼Œç”¨æ¥æ‰§è¡Œä»¥ä¸Šä¸¤éƒ¨æ“ä½œ 3ã€ Expect**çš„ä½¿ç”¨** è›‹ç–¼ç‚¹ï¼šå‡å¦‚åœ¨æ²¡æœ‰é…ç½®SSHå…å¯†ç™»å½•çš„å‰æä¸‹ï¼Œæˆ‘ä»¬è¦è¦æ˜¯scpå‘½ä»¤ä»ä¸€å°æœºå™¨æ‹·è´æ–‡ä»¶å¤¹åˆ°å¦å¤–çš„æœºå™¨ï¼Œä¼šæœ‰äººæœºäº¤äº’è¿‡ç¨‹ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆè®©æœºå™¨è‡ªå·±å®ç°äººæœºäº¤äº’ï¼Ÿ çµä¸¹å¦™è¯ï¼šexpect å‘½ä»¤ æè¿° set å¯ä»¥è®¾ç½®è¶…æ—¶ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å˜é‡ timeout è¶…æ—¶ç­‰å¾…æ—¶é—´ï¼Œé»˜è®¤ 10s spawn æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ send æ‰§è¡Œäº¤äº’ï¼Œç›¸å½“äºæ‰‹åŠ¨è¾“å…¥ expect â€œâ€ï¼ˆexpectå†…éƒ¨å‘½ä»¤ï¼‰ åŒ¹é…è¾“å‡ºçš„å†…å®¹ exp_continue ç»§ç»­æ‰§è¡Œä¸‹é¢åŒ¹é… æ€è·¯ï¼šæ¨¡æ‹Ÿè¯¥äººæœºäº¤äº’è¿‡ç¨‹ï¼Œåœ¨éœ€è¦äº¤äº’çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æˆ‘ä»¬çš„æ£€æµ‹ç»™è¾“å…¥æå‰å‡†å¤‡å¥½çš„å€¼å³å¯ ç¤ºä¾‹ï¼šè§‚çœ‹é…ç½®SSHå…å¯†ç™»å½•çš„è¿‡ç¨‹ å®ç°è„šæœ¬ï¼š 123456789101112131415161718vi testExpect.sh## å®šä¹‰ä¸€ä¸ªå‡½æ•°sshcopyid()&#123; expect -c " spawn ssh-copy-id $1 expect &#123; \"(yes/no)?\" &#123;send \"yes\r\";exp_continue&#125; \"password:\" &#123;send \"$2\r\";exp_continue&#125; &#125; "&#125;## è°ƒç”¨å‡½æ•°æ‰§è¡Œsshcopyid $1 $2# æ³¨æ„ï¼šå¦‚æœæœºå™¨æ²¡æœ‰expectï¼Œåˆ™è¯·å…ˆå®‰è£…expectyum install -y expect 4ã€ è„šæœ¬å®ç° å¯åŠ¨è„šæœ¬initInstallJDK.sh 12345678910111213141516171819202122232425262728293031#!/bin/bashSERVERS="192.168.123.201"PASSWORD=hadoopBASE_SERVER=192.168.123.202auto_ssh_copy_id() &#123; expect -c "set timeout -1; spawn ssh-copy-id $1; expect &#123; *(yes/no)* &#123;send -- yes\r;exp_continue;&#125; *password:* &#123;send -- $2\r;exp_continue;&#125; eof &#123;exit 0;&#125; &#125;";&#125;ssh_copy_id_to_all() &#123; for SERVER in $SERVERS do auto_ssh_copy_id $SERVER $PASSWORD done&#125;ssh_copy_id_to_allfor SERVER in $SERVERSdo scp installJDK.sh root@$SERVER:/root ssh root@$SERVER chmod 755 installJDK.sh ssh root@$SERVER /root/installJDK.shdone å®‰è£…è„šæœ¬installJDK.sh 1234567891011#!/bin/bashBASE_SERVER=192.168.123.202yum install -y wgetwget $BASE_SERVER/soft/jdk-8u73-linux-x64.tar.gztar -zxvf jdk-8u73-linux-x64.tar.gz -C /usr/localcat &gt;&gt; /etc/profile &lt;&lt;EOFexport JAVA_HOME=/usr/local/jdk1.8.0_73export PATH=\$PATH:\$JAVA_HOME/binEOF 4ã€æ€»ç»“å†™è„šæœ¬æ³¨æ„äº‹é¡¹ï¼š 1ã€å¼€å¤´åŠ è§£é‡Šå™¨ï¼š #!/bin/bashï¼Œå’Œæ³¨é‡Šè¯´æ˜ã€‚ 2ã€å‘½åå»ºè®®è§„åˆ™ï¼šå˜é‡åå¤§å†™ã€å±€éƒ¨å˜é‡å°å†™ï¼Œå‡½æ•°åå°å†™ï¼Œåå­—ä½“ç°å‡ºå®é™…ä½œç”¨ã€‚ 3ã€é»˜è®¤å˜é‡æ˜¯å…¨å±€çš„ï¼Œåœ¨å‡½æ•°ä¸­å˜é‡ local æŒ‡å®šä¸ºå±€éƒ¨å˜é‡ï¼Œé¿å…æ±¡æŸ“å…¶ä»–ä½œç”¨åŸŸã€‚ 4ã€set -e é‡åˆ°æ‰§è¡Œé 0 æ—¶é€€å‡ºè„šæœ¬ï¼Œ set -x æ‰“å°æ‰§è¡Œè¿‡ç¨‹ã€‚ 5ã€å†™è„šæœ¬ä¸€å®šå…ˆæµ‹è¯•å†åˆ°ç”Ÿäº§ä¸Šã€‚]]></content>
      <categories>
        <category>Linux</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå­¦ä¹ ç¬”è®°-2]]></title>
    <url>%2F2018%2F05%2F27%2FLinux%2FLinux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%2F</url>
    <content type="text"><![CDATA[1. VIæ–‡æœ¬ç¼–è¾‘å™¨å­¦ä¼šä½¿ç”¨viç¼–è¾‘å™¨æ˜¯å­¦ä¹ Linuxç³»ç»Ÿçš„å¿…å¤‡æŠ€æœ¯ä¹‹ä¸€ï¼Œå› ä¸ºä¸€èˆ¬çš„LinuxæœåŠ¡å™¨æ˜¯æ²¡æœ‰GUIç•Œé¢çš„ï¼ŒLinuxè¿ç»´åŠå¼€å‘äººå‘˜åŸºæœ¬ä¸Šéƒ½æ˜¯é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼è¿›è¡Œæ–‡æœ¬ç¼–è¾‘æˆ–ç¨‹åºç¼–å†™çš„ã€‚viç¼–è¾‘å™¨æ˜¯Linuxå†…ç½®çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå‡ ä¹æ‰€æœ‰çš„ç±»unixç³»ç»Ÿä¸­éƒ½å†…ç½®äº†viç¼–è¾‘å™¨ï¼Œè€Œå…¶å®ƒç¼–è¾‘å™¨åˆ™ä¸ä¸€å®šï¼Œå¦å¤–å¾ˆå¤šè½¯ä»¶ä¼šè°ƒç”¨viç¼–è¾‘è¿›è¡Œå†…å®¹ç¼–å†™ï¼Œä¾‹å¦‚crontabå®šæ—¶ä»»åŠ¡ã€‚è¾ƒä¹‹äºå…¶å®ƒç¼–è¾‘å™¨æˆ–GUIç¼–è¾‘å™¨ï¼Œviç¼–è¾‘é€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚VIMæ˜¯å®ƒçš„å¢å¼ºç‰ˆæœ¬ï¼ŒVIæœ‰ä¸‰ç§åŸºæœ¬å·¥ä½œæ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š å‘½ä»¤æ¨¡å¼ï¼ˆcommand modeï¼‰ã€æˆ–è€…å«ä¸€èˆ¬æ¨¡å¼ æ’å…¥æ¨¡å¼ï¼ˆinsert modeï¼‰ã€æˆ–è€…å«ç¼–è¾‘æ¨¡å¼ åº•è¡Œæ¨¡å¼ï¼ˆlast line modeï¼‰ã€æˆ–è€…å«å‘½ä»¤è¡Œæ¨¡å¼ 1. æœ€åŸºæœ¬ç”¨æ³• 1ã€é¦–å…ˆä¼šè¿›å…¥â€œä¸€èˆ¬æ¨¡å¼â€ï¼Œæ­¤æ¨¡å¼åªæ¥å—å„ç§å‘½ä»¤å¿«æ·é”®ï¼Œä¸èƒ½ç¼–è¾‘æ–‡ä»¶å†…å®¹ 2ã€æŒ‰ié”®ï¼Œå°±ä¼šä»ä¸€èˆ¬æ¨¡å¼è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ­¤æ¨¡å¼ä¸‹ï¼Œæ•²å…¥çš„éƒ½æ˜¯æ–‡ä»¶å†…å®¹ 3ã€ç¼–è¾‘å®Œæˆä¹‹åï¼ŒæŒ‰Escé”®é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå›åˆ°ä¸€èˆ¬æ¨¡å¼ 4ã€å†æŒ‰ï¼šï¼Œè¿›å…¥â€œåº•è¡Œå‘½ä»¤æ¨¡å¼â€ï¼Œè¾“å…¥wqå‘½ä»¤ï¼Œå›è½¦å³å¯ä¿å­˜é€€å‡º 2. ç§»åŠ¨å…‰æ ‡ (ä¸€èˆ¬æ¨¡å¼) 1ã€ ä½¿ç”¨ä¸Šä¸‹å·¦å³é”®å¯ä»¥ç§»åŠ¨å…‰æ ‡ 2ã€ ä½¿ç”¨h,j,k,lï¼Œä¾æ¬¡æ˜¯å‘å·¦ï¼Œä¸‹ï¼Œä¸Šï¼Œå³ç§»åŠ¨ 3ã€ wï¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å¤„ 4ã€ Wï¼šåˆ©ç”¨ç©ºæ ¼å‘åç§»åŠ¨å…‰æ ‡ï¼Œå°±æ˜¯å¿½ç•¥æ ‡ç‚¹ 5ã€ bï¼šåˆ©ç”¨wordåŒ…æ‹¬æ ‡ç‚¹å‘å‰ç§»åŠ¨å…‰æ ‡, ä¸wç›¸å¯¹åº” 6ã€ Bï¼šåˆ©ç”¨ç©ºæ ¼å‘å‰ç§»åŠ¨å…‰æ ‡ï¼Œå¿½ç•¥æ ‡ç‚¹ 7ã€ eï¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªwordçš„å°¾éƒ¨ï¼ŒåŒ…æ‹¬ç¬¦å· 8ã€ E: å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç©ºæ ¼åˆ†éš”å­—çš„å°¾éƒ¨ 9ã€ (ï¼šç§»åŠ¨åˆ°å¥å­å¼€å§‹ 10ã€ )ï¼šç§»åŠ¨åˆ°å¥å­ç»“æŸ 11ã€ 0ï¼šç§»åŠ¨å…‰æ ‡åˆ°æœ¬å¥å¥é¦– 12ã€ $ï¼šç§»åŠ¨å…‰æ ‡åˆ°æœ¬è¡Œè¡Œå°¾ 13ã€ {ï¼šç§»åŠ¨åˆ°æ®µè½å¼€å§‹ 14ã€ }ï¼šç§»åŠ¨åˆ°æ®µè½ç»“æŸ 15ã€ Hï¼šå±å¹•é¡¶ç«¯ 16ã€ Lï¼šå±å¹•åº•ç«¯ 17ã€ Mï¼šç§»åŠ¨åˆ°å±å¹•ä¸­å¤®ä½ç½® 18ã€ ggï¼šç›´æ¥è·³åˆ°æ–‡ä»¶çš„é¦–è¡Œè¡Œé¦– 19ã€ Gï¼šç›´æ¥è·³åˆ°æ–‡ä»¶çš„æœ«è¡Œè¡Œé¦– 20ã€ æœ€å¼ºå…‰æ ‡ç§»åŠ¨ï¼š % : åŒ¹é…æ‹¬å·ç§»åŠ¨ï¼ŒåŒ…æ‹¬(, {, [.ï¼ˆä½ éœ€è¦æŠŠå…‰æ ‡å…ˆç§»åˆ°æ‹¬å·ä¸Šï¼‰ *: åŒ¹é…å…‰æ ‡å½“å‰æ‰€åœ¨çš„å•è¯ï¼Œç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…å•è¯ #: åŒ¹é…å…‰æ ‡å½“å‰æ‰€åœ¨çš„å•è¯ï¼Œç§»åŠ¨å…‰æ ‡åˆ°ä¸Šä¸€ä¸ªåŒ¹é…å•è¯ é‡ç‚¹æ€»ç»“: h l : å·¦å³, j k : ä¸‹ä¸Š. w: ä¸‹ä¸€ä¸ªå•è¯ , b: ä¸Šä¸€ä¸ªå•è¯. 0: æœ¬è¡Œè¡Œé¦–, $: æœ¬è¡Œè¡Œå°¾ (: å¥å­å¼€å§‹, ): å¥å­ç»“æŸ {: æ®µè½å¼€å§‹ }: æ®µè½ç»“æŸ gg: æ–‡ä»¶è¡Œé¦– G: æ–‡ä»¶è¡Œå°¾ %: ä¸‹ä¸€ä¸ªæ‹¬å· *: ä¸‹ä¸€ä¸ªå•è¯ #: ä¸Šä¸€ä¸ªå•è¯ 3. å¸¸ç”¨æ“ä½œ(ä¸€èˆ¬æ¨¡å¼ &gt;&gt; æ’å…¥æ¨¡å¼) å•ä½ æŒ‡ä»¤1 æŒ‡ä»¤2 å½“å‰ä½ å‰ä¸€ä½/åä¸€ä½ i: åœ¨å…‰æ ‡å‰ä¸€ä½å¼€å§‹æ’å…¥ a: å…‰æ ‡åä¸€ä½å¼€å§‹æ’å…¥ å½“å‰è¡Œ æœ€å‰/æœ€å I: åœ¨è¯¥è¡Œçš„æœ€å‰é¢æ’å…¥ A: åœ¨è¯¥è¡Œçš„æœ€åæ’å…¥ å½“å‰è¡Œ ä¸Šä¸€è¡Œ/ä¸‹ä¸€è¡Œ o: å°o, å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œæ’å…¥ç©ºè¡Œ O: å¤§o, å½“å‰å†…å®¹ä¸‹ç§»ä¸€è¡Œ, å½“å‰è¡Œæ’å…¥ç©ºè¡Œ å½“å‰è¡Œ åˆ é™¤ dd: åˆ é™¤å½“å‰è¡Œ 3dd: ndd, åˆ é™¤ä»å½“å‰è¡Œå¼€å§‹çš„ nè¡Œ å½“å‰è¡Œ å¤åˆ¶ yy: å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ 3yy: å¤åˆ¶ä»å½“å‰è¡Œå¼€å§‹çš„3è¡Œ ç²˜è´´ p: ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œ æ’¤é”€ u: undo æ’¤é”€æ“ä½œ, å¯ä¸€ç›´æ’¤é”€åˆ°æœ€å‰é¢ é‡ç‚¹æ€»ç»“: i : å½“å‰å…‰æ ‡å‰å¼€å§‹æ’å…¥; a: å…‰æ ‡åä¸€ä½å¼€å§‹æ’å…¥ I: åœ¨è¯¥è¡Œçš„æœ€å‰é¢æ’å…¥; A: åœ¨è¯¥è¡Œçš„æœ€åæ’å…¥ o: å°o, å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œæ’å…¥ç©ºè¡Œ O: å¤§o, å½“å‰å†…å®¹ä¸‹ç§»ä¸€è¡Œ, å½“å‰è¡Œæ’å…¥ç©ºè¡Œ dd: åˆ é™¤å½“å‰è¡Œ 3dd: ndd, åˆ é™¤ä»å½“å‰è¡Œå¼€å§‹çš„ nè¡Œ yy: å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ 3yy: å¤åˆ¶ä»å½“å‰è¡Œå¼€å§‹çš„3è¡Œ p: ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œ u: undo æ’¤é”€æ“ä½œ, å¯ä¸€ç›´æ’¤é”€åˆ°æœ€å‰é¢ 4. æŸ¥æ‰¾å¹¶æ›¿æ¢ åœ¨åº•è¡Œå‘½ä»¤æ¨¡å¼ä¸­è¾“å…¥ 1. æ˜¾ç¤ºè¡Œå· :set nu 2. éšè—è¡Œå· :set nonu 3 .æŸ¥æ‰¾å…³é”®å­— :/you ## æ•ˆæœï¼šæŸ¥æ‰¾æ–‡ä»¶ä¸­å‡ºç°çš„youï¼Œå¹¶å®šä½åˆ°ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„åœ°æ–¹ï¼ŒæŒ‰ nå¯ä»¥å®šä½åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…ä½ç½®ï¼ˆæŒ‰Nå®šä½åˆ°ä¸Šä¸€ä¸ªï¼‰ æŸ¥è¯¢çš„æ—¶å€™è¢«åŒ¹é…ä¸Šçš„å­—ç¬¦ä¸²ä¼šè¢«é«˜äº®ï¼Œå¯ä»¥åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨:nohå–æ¶ˆé«˜äº® 4. ç›´æ¥è·³è½¬åˆ° 3è¡Œ : 3 5. æ›¿æ¢æ“ä½œ :1 s/sad/bbb å°†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªsadæ›¿æ¢ä¸ºbbb :1,5 s/sad/bbb å°†ç¬¬ä¸€è¡Œåˆ°ç¬¬äº”è¡Œçš„ç¬¬ä¸€ä¸ªsadæ›¿æ¢ä¸ºbbb :1,. s/sad/bbb å°†ç¬¬ä¸€è¡Œåˆ°å…‰æ ‡è¡Œçš„ç¬¬ä¸€ä¸ªsadæ›¿æ¢ä¸ºbbb :.,$ s/sad/bbb å°†å…‰æ ‡è¡Œåˆ°ç¼“å†²åŒºæœ€åä¸€è¡Œçš„sadæ›¿æ¢ä¸ºbbb :s/sad/bbb æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªsadï¼Œæ›¿æ¢ä¸ºbbb :s/sad/bbb/g æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨è¡Œçš„æ‰€æœ‰sadï¼Œæ›¿æ¢ä¸ºbbb :%s/sad/bbb æŸ¥æ‰¾æ–‡ä»¶ä¸­æ‰€æœ‰è¡Œç¬¬ä¸€æ¬¡å‡ºç°çš„sadï¼Œæ›¿æ¢ä¸ºbbb :%s/sad/bbb/g æŸ¥æ‰¾æ–‡ä»¶ä¸­æ‰€æœ‰çš„sadï¼Œæ›¿æ¢ä¸ºbbb 6. å±å¹•ç¿»æ»šç±»å‘½ä»¤ Ctrl + uï¼šå‘æ–‡ä»¶é¦–ç¿»åŠå± Ctrl + dï¼šå‘æ–‡ä»¶å°¾ç¿»åŠå± Ctrl + fï¼šå‘æ–‡ä»¶å°¾ç¿»ä¸€å± Ctrlï¼‹bï¼šå‘æ–‡ä»¶é¦–ç¿»ä¸€å± nzï¼šå°†ç¬¬nè¡Œæ»šè‡³å±å¹•é¡¶éƒ¨ï¼Œä¸æŒ‡å®šnæ—¶å°†å½“å‰è¡Œæ»šè‡³å±å¹•é¡¶éƒ¨ 7. å…¶å®ƒçš„å°æŠ€å·§ r æ›¿æ¢å…‰æ ‡å¤„ä¸€ä¸ªå­—ç¬¦ R è¿›å…¥æ›¿æ¢æ¨¡å¼ï¼Œä»å…‰æ ‡å¤„è¿ç»­æ›¿æ¢ s åˆ é™¤å½“å‰å­—ç¬¦ï¼Œè¿›å…¥æ’å…¥æ¨¡å¼ S åˆ é™¤å½“å‰è¡Œï¼Œè¿›å…¥æ’å…¥æ¨¡å¼ â‰ˆ dd, ddä¹Ÿä¼šåˆ é™¤å½“å‰è¡Œ, ä½†æ˜¯ä¸ä¼šè¿›å…¥æ’å…¥æ¨¡å¼ f s å…‰æ ‡è¡Œå†…å‘åæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„å­—ç¬¦s (å…ˆè¾“f , å†è¾“ s, å‘åæ‰¾ s) F s å…‰æ ‡è¡Œå†…å‘å‰æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„å­—ç¬¦s (å…ˆè¾“F , å†è¾“ s, å‘å‰æ‰¾ s) ~ å¤§å°å†™è½¬æ¢ï¼Œåªè½¬æ¢å…‰æ ‡å¤„å­—ç¬¦ 8. é€ŸæŸ¥ç½‘å€ vimè¯¦è§£ 2. ç½‘ç»œç®¡ç†ifconfigå‘½ä»¤ifconfigå‘½ä»¤ä¸»è¦ç”¨äºé…ç½®ç½‘ç»œæ¥å£ï¼Œå¦‚æœä¸åŠ ä»»ä½•å‚æ•°ï¼Œåˆ™ifconfigå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ‰€æœ‰æ´»åŠ¨ç½‘ç»œæ¥å£çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼š eth0 è¡¨ç¤ºç¬¬ä¸€å—ç½‘å¡ï¼Œå…¶ä¸­HWaddrè¡¨ç¤ºç½‘å¡çš„ç‰©ç†åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰è¿™ä¸ªç½‘å¡çš„ç‰©ç†åœ°å€(MACåœ°å€ï¼‰æ˜¯00:0C:29:D6:C7:0Eã€‚ inet addr ç”¨æ¥è¡¨ç¤ºç½‘å¡çš„IPåœ°å€ï¼Œæ­¤ç½‘å¡çš„IPåœ°å€æ˜¯192.168.179.6ï¼Œå¹¿æ’­åœ°å€192.168.170.255ï¼Œæ©ç åœ°å€Mask:255.255.255.0ã€‚ lo æ˜¯è¡¨ç¤ºä¸»æœºçš„å›ååœ°å€ï¼Œè¿™ä¸ªä¸€èˆ¬æ˜¯ç”¨æ¥æµ‹è¯•ä¸€ä¸ªç½‘ç»œç¨‹åºï¼Œä½†åˆä¸æƒ³è®©å±€åŸŸç½‘æˆ–å¤–ç½‘çš„ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹ï¼Œåªèƒ½åœ¨æ­¤å°ä¸»æœºä¸Šè¿è¡Œå’ŒæŸ¥çœ‹æ‰€ç”¨çš„ç½‘ç»œæ¥å£ã€‚æ¯”å¦‚æŠŠ httpdæœåŠ¡å™¨çš„æŒ‡å®šåˆ°å›ååœ°å€ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥127.0.0.1å°±èƒ½çœ‹åˆ°ä½ æ‰€æ¶WEBç½‘ç«™äº†ã€‚ä½†åªæ˜¯æ‚¨èƒ½çœ‹å¾—åˆ°ï¼Œå±€åŸŸç½‘çš„å…¶å®ƒä¸»æœºæˆ–ç”¨æˆ·æ— ä»çŸ¥é“ã€‚ ifconfigå…¶ä»–å¸¸ç”¨ä½¿ç”¨ -a æ˜¾ç¤ºæ‰€æœ‰ç½‘ç»œæ¥å£ï¼ŒåŒ…æ‹¬åœç”¨çš„ -s çŸ­æ ¼å¼æ˜¾ç¤ºç½‘ç»œä¿¡æ¯ï¼ŒåŒnetstat -i -v æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼Œåœ¨ç½‘ç»œå‡ºé”™çš„æƒ…å†µä¸‹é€‚ç”¨ interface æŒ‡å®šç½‘ç»œæ¥å£ up å¯ç”¨ç½‘ç»œæ¥å£ down å…³é—­ç½‘ç»œæ¥å£ å¯åŠ¨å…³é—­æŒ‡å®šç½‘å¡&amp; å¸¸ç”¨æ“ä½œï¼š 12345ifconfig eth0 up #å¯åŠ¨ç½‘å¡ifconfig eth0 down #å…³é—­ç½‘å¡ ifconfig #å¤„äºæ¿€æ´»çŠ¶æ€çš„ç½‘ç»œæ¥å£ifconfig -a #æ‰€æœ‰é…ç½®çš„ç½‘ç»œæ¥å£ï¼Œä¸è®ºå…¶æ˜¯å¦æ¿€æ´»ifconfig eth0 #æ˜¾ç¤ºeth0çš„ç½‘å¡ä¿¡æ¯ ç½‘ç»œé…ç½®1. ä¸‰ç§é€šä¿¡æ¨¡å¼Vmwareä¸­çš„è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºè¿›è¡Œé€šä¿¡æœ‰ä¸‰ç§ç½‘ç»œæ–¹å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š Bridged ï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰ NAT ï¼ˆç½‘ç»œåœ°å€è½¬æ¢æ¨¡å¼ï¼‰ Host-Only ï¼ˆä»…ä¸»æœºæ¨¡å¼ï¼‰ Bridged ï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰ æ¡¥æ¥æ¨¡å¼å°±æ˜¯å°†ä¸»æœºç½‘å¡ä¸è™šæ‹Ÿæœºè™šæ‹Ÿçš„ç½‘å¡åˆ©ç”¨è™šæ‹Ÿç½‘æ¡¥è¿›è¡Œé€šä¿¡ã€‚åœ¨æ¡¥æ¥çš„ä½œç”¨ä¸‹ï¼Œç±»ä¼¼äºæŠŠç‰©ç†ä¸»æœºè™šæ‹Ÿä¸ºä¸€ä¸ªäº¤æ¢æœºï¼Œæ‰€æœ‰æ¡¥æ¥è®¾ç½®çš„è™šæ‹Ÿæœºè¿æ¥åˆ°è¿™ä¸ªäº¤æ¢æœºçš„ä¸€ä¸ªæ¥å£ä¸Šï¼Œç‰©ç†ä¸»æœºä¹ŸåŒæ ·æ’åœ¨è¿™ä¸ªäº¤æ¢æœºå½“ä¸­ï¼Œæ‰€ä»¥æ‰€æœ‰æ¡¥æ¥ä¸‹çš„ç½‘å¡ä¸ç½‘å¡éƒ½æ˜¯äº¤æ¢æ¨¡å¼çš„ï¼Œç›¸äº’å¯ä»¥è®¿é—®è€Œä¸å¹²æ‰°ã€‚åœ¨æ¡¥æ¥æ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿæœºipåœ°å€éœ€è¦ä¸ä¸»æœºåœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œå¦‚æœéœ€è¦è”ç½‘ï¼Œåˆ™ç½‘å…³ä¸DNSéœ€è¦ä¸ä¸»æœºç½‘å¡ä¸€è‡´ Host-Only ï¼ˆä»…ä¸»æœºæ¨¡å¼ï¼‰å®¿ä¸» åœ¨Host-Onlyæ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿç½‘ç»œæ˜¯ä¸€ä¸ªå…¨å°é—­çš„ç½‘ç»œï¼Œå®ƒå”¯ä¸€èƒ½å¤Ÿè®¿é—®çš„å°±æ˜¯ä¸»æœºã€‚å…¶å®Host-Onlyç½‘ç»œå’ŒNATç½‘ç»œå¾ˆç›¸ä¼¼ï¼Œä¸åŒçš„åœ°æ–¹å°±æ˜¯ Host-Onlyç½‘ç»œæ²¡æœ‰NATæœåŠ¡ï¼Œæ‰€ä»¥è™šæ‹Ÿç½‘ç»œä¸èƒ½è¿æ¥åˆ°Internetã€‚ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡VMware Network Adepter VMnet1è™šæ‹Ÿç½‘å¡æ¥å®ç°çš„ã€‚ NAT æ¨¡å¼ ä½¿ç”¨NATæ¨¡å¼ï¼Œå°±æ˜¯è®©è™šæ‹Ÿç³»ç»Ÿå€ŸåŠ©NAT(ç½‘ç»œåœ°å€è½¬æ¢)åŠŸèƒ½ï¼Œé€šè¿‡å®¿ä¸»æœºå™¨æ‰€åœ¨çš„ç½‘ç»œæ¥è®¿é—®å…¬ç½‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨NATæ¨¡å¼å¯ä»¥å®ç°åœ¨è™šæ‹Ÿç³»ç»Ÿé‡Œè®¿é—®äº’è”ç½‘ã€‚NATæ¨¡å¼ä¸‹çš„è™šæ‹Ÿç³»ç»Ÿçš„TCP/IPé…ç½®ä¿¡æ¯æ˜¯ç”±VMnet8(NAT)è™šæ‹Ÿç½‘ç»œçš„DHCPæœåŠ¡å™¨æä¾›çš„ï¼Œæ— æ³•è¿›è¡Œæ‰‹å·¥ä¿®æ”¹ï¼Œå› æ­¤è™šæ‹Ÿç³»ç»Ÿä¹Ÿå°±æ— æ³•å’Œæœ¬å±€åŸŸç½‘ä¸­çš„å…¶ä»–çœŸå®ä¸»æœºè¿›è¡Œé€šè®¯ã€‚é‡‡ç”¨NATæ¨¡å¼æœ€å¤§çš„ä¼˜åŠ¿æ˜¯è™šæ‹Ÿç³»ç»Ÿæ¥å…¥äº’è”ç½‘éå¸¸ç®€å•ï¼Œä½ ä¸éœ€è¦è¿›è¡Œä»»ä½•å…¶ä»–çš„é…ç½®ï¼Œåªéœ€è¦å®¿ä¸»æœºå™¨èƒ½è®¿é—®äº’è”ç½‘å³å¯ã€‚ 2. NATç½‘ç»œæ¨¡å¼çš„é…ç½®è§Linuxå­¦ä¹ ç¬”è®°3, ç¬¬8æ¡: Linuxè™šæ‹Ÿä¸»æœºé›†ç¾¤æµ‹è¯•ç¯å¢ƒåŸºæœ¬æ­å»º 3. å…¶å®ƒçš„å¸¸ç”¨ç½‘ç»œç®¡ç†å‘½ä»¤ pingå‘½ä»¤: å¸¸ç”¨æ¥æµ‹è¯•ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ å…ˆç¡®å®šèƒ½pingé€š ping www.baidu.com hostå‘½ä»¤: hostå‘½ä»¤ç”¨æ¥è¿›è¡ŒDNSæŸ¥è¯¢ ç„¶åç”¨hostå‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ° host www.baidu.com ç„¶åé€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥åœ°å€ï¼š119.75.213.61 netstatå‘½ä»¤: netstatå‘½ä»¤å¯ä»¥æ˜¾ç¤ºç½‘ç»œæ¥å£çš„å¾ˆå¤šç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ‰“å¼€çš„socketå’Œè·¯ç”±è¡¨ ä»¥ä¸‹æ˜¯å¸¸ç”¨å‘½ä»¤é€‰é¡¹ 123456789101112-a (all)æ˜¾ç¤ºæ‰€æœ‰é€‰é¡¹ï¼Œé»˜è®¤ä¸æ˜¾ç¤ºLISTENç›¸å…³-t (tcp)ä»…æ˜¾ç¤ºtcpç›¸å…³é€‰é¡¹-u (udp)ä»…æ˜¾ç¤ºudpç›¸å…³é€‰é¡¹-n æ‹’ç»æ˜¾ç¤ºåˆ«åï¼Œèƒ½æ˜¾ç¤ºæ•°å­—çš„å…¨éƒ¨è½¬åŒ–æˆæ•°å­—-l ä»…åˆ—å‡ºæœ‰åœ¨ Listen (ç›‘å¬) çš„æœå‹™çŠ¶æ€-p æ˜¾ç¤ºå»ºç«‹ç›¸å…³é“¾æ¥çš„ç¨‹åºå-r æ˜¾ç¤ºè·¯ç”±ä¿¡æ¯ï¼Œè·¯ç”±è¡¨-e æ˜¾ç¤ºæ‰©å±•ä¿¡æ¯ï¼Œä¾‹å¦‚uidç­‰-s æŒ‰å„ä¸ªåè®®è¿›è¡Œç»Ÿè®¡-c æ¯éš”ä¸€ä¸ªå›ºå®šæ—¶é—´ï¼Œæ‰§è¡Œè¯¥netstatå‘½ä»¤ ä¾‹å­ 1ã€åˆ—å‡ºæ‰€æœ‰ç«¯å£ï¼ŒåŒ…æ‹¬ç›‘å¬å’Œæœªç›‘å¬çš„ï¼šnetstat -a 2ã€åˆ—å‡ºæ‰€æœ‰TCPç«¯å£ï¼šnetstat -at 3ã€åˆ—å‡ºæ‰€æœ‰UDPç«¯å£ï¼šnetstat -au 4ã€åˆ—å‡ºæ‰€æœ‰ç›‘å¬çŠ¶æ€çš„TCPç«¯å£ï¼šè¯¥å‘½ä»¤æœ€é‡è¦ç”¨æ¥æŸ¥çœ‹å“ªä¸ªç¨‹åºå ç”¨äº†å“ªä¸ªç½‘ç»œç«¯å£å· 123# æ¯”å¦‚æŸ¥çœ‹è°å ç”¨äº† tcp çš„80 ç«¯å£netstat -nltp | grep 80 [23:04:54]tcp 0 0 :::80 :::* LISTEN 3890/httpd 4. é˜²ç«å¢™é˜²ç«å¢™æ ¹æ®é…ç½®æ–‡ä»¶/etc/sysconfig/iptablesæ¥æ§åˆ¶æœ¬æœºçš„â€œå‡ºã€å…¥â€ç½‘ç»œè®¿é—®è¡Œä¸º å…¶å¯¹è¡Œä¸ºçš„é…ç½®ç­–ç•¥æœ‰å››ä¸ªç­–ç•¥è¡¨ åŸºç¡€å¿…å¤‡æŠ€èƒ½ | æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ | service iptables status || â€”â€”â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€“ || å¼€å¯é˜²ç«å¢™ | service iptables start || å…³é—­é˜²ç«å¢™ | service iptables stop || å…³é—­é˜²ç«å¢™å¼€æœºè‡ªå¯ | chkconfig iptables off || è®¾ç½®é˜²ç«å¢™å¼€æœºè‡ªå¯ | chkconfig iptables on | æ‰©å±•çŸ¥è¯† 1234567891011121314151617181920212223242526# 1ã€åˆ—å‡ºiptablesè§„åˆ™iptables -L -n# åˆ—å‡ºiptablesè§„åˆ™å¹¶æ˜¾ç¤ºè§„åˆ™ç¼–å·iptables -L -n --line-numbers# 2ã€åˆ—å‡ºiptables natè¡¨è§„åˆ™ï¼ˆé»˜è®¤æ˜¯filterè¡¨ï¼‰iptables -L -n -t nat# 3ã€æ¸…é™¤é»˜è®¤è§„åˆ™ï¼ˆæ³¨æ„é»˜è®¤æ˜¯filterè¡¨ï¼Œå¦‚æœå¯¹natè¡¨æ“ä½œè¦åŠ -t natï¼‰#æ¸…é™¤æ‰€æœ‰è§„åˆ™iptables -F#é‡å¯iptableså‘ç°è§„åˆ™ä¾ç„¶å­˜åœ¨ï¼Œå› ä¸ºæ²¡æœ‰ä¿å­˜service iptables restart#ä¿å­˜é…ç½®service iptables save# 4ã€ç¦æ­¢SSHç™»é™†ï¼ˆå¦‚æœæœåŠ¡å™¨åœ¨æœºæˆ¿ï¼Œä¸€å®šè¦å°å¿ƒï¼‰iptables -A INPUT -p tcp --dport 22 -j DROP# 5ã€åˆ é™¤è§„åˆ™iptables -D INPUT -p tcp --dport 22 -j DROP # 6ã€åŠ å…¥ä¸€æ¡INPUTè§„åˆ™å¼€æ”¾80ç«¯å£ iptables -I INPUT -p tcp --dport 80 -j ACCEPT 3. Linuxç³»ç»Ÿå¯åŠ¨çº§åˆ«ç®¡ç†ä½¿ç”¨runlevelå‘½ä»¤å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œçš„çº§åˆ« 12runlevel [23:12:37]N 3 ä¿®æ”¹ç³»ç»Ÿé»˜è®¤å¯åŠ¨çº§åˆ« 1234567891011121314# å¯åŠ¨çº§åˆ«åœ¨è¿™ä¸ªè·¯å¾„æŸ¥çœ‹vi /etc/inittab-------------------# Default runlevel. The runlevels used are:# 0 - halt (Do NOT set initdefault to this)# 1 - Single user mode# 2 - Multiuser, without NFS (The same as 3, if you do not have networking)# 3 - Full multiuser mode# 4 - unused# 5 - X11# 6 - reboot (Do NOT set initdefault to this)#id:3:initdefault: id:3:initdefault: ## é…ç½®é»˜è®¤å¯åŠ¨çº§åˆ« ## é€šå¸¸å°†é»˜è®¤å¯åŠ¨çº§åˆ«è®¾ç½®ä¸ºï¼š3 4. ç”¨æˆ·å’Œç»„1. ç”¨æˆ·å’Œç»„çš„æ¦‚å¿µLinuxæ˜¯ä¸€ä¸ªå¤šä»»åŠ¡å¤šç”¨æˆ·çš„æ“ä½œç³»ç»Ÿï¼Œå½“æˆ‘ä»¬åœ¨ä½¿ç”¨ls -lå‘½ä»¤çš„æ—¶å€™æˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š 123drwxrwxr-x. 2 root root 4096 5æœˆ 24 00:15 test-rw-r--r--. 1 root root 58 5æœˆ 25 11:00 test.sh-rwxr-xr-x. 1 root root 35 5æœˆ 23 23:55 test.txt testï¼šè¡¨ç¤ºæ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œå…·ä½“çš„æ–‡ä»¶ç±»å‹æ˜¯ç”±è¯¥è¡Œæœ€å‰é¢çš„é‚£ä¸ªç¬¦å·è¡¨ç¤º 12345- å½“ä¸º[ *d* ]åˆ™æ˜¯ç›®å½•- å½“ä¸º[ *-* ]åˆ™æ˜¯æ–‡ä»¶ï¼›- è‹¥æ˜¯[ *l* ]åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£(link file)ï¼›- è‹¥æ˜¯[ *b* ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡(å¯éšæœºå­˜å–è£…ç½®)ï¼›- è‹¥æ˜¯[ *c* ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡(ä¸€æ¬¡æ€§è¯»å–è£…ç½®); drwxrwxr-x ï¼šè¯¥æ–‡ä»¶çš„ç±»å‹å’Œæƒé™ä¿¡æ¯ 2 ï¼šé“¾æ¥æ•°ï¼Œå¦‚æœæ˜¯æ–‡ä»¶åˆ™æ˜¯1 ï¼Œ å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹ä¸‹çš„å­æ–‡ä»¶å¤¹ä¸ªæ•° ç¬¬ä¸€ä¸ªroot ï¼šæ–‡ä»¶æˆ–è€…ç›®å½•çš„æ‰€å±è€…** ç¬¬äºŒä¸ªroot ï¼šæ‰€å±ç”¨æˆ·ç»„** 4096 ï¼šæ–‡ä»¶æˆ–è€…ç›®å½•çš„å¤§å°ï¼Œæ˜¯ç›®å½•çš„è¯ä¸€èˆ¬éƒ½æ˜¯4096 5æœˆ 24 00:15ï¼šæ–‡ä»¶çš„æœ€åç¼–è¾‘æ—¶é—´ é€šè¿‡ä»¥ä¸Šä¿¡æ¯å¾—çŸ¥ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½è®¾è®¡åˆ°ç”¨æˆ·å’Œç»„çš„æƒé™é—®é¢˜ åœ¨Linuxä¸­ï¼Œç”¨æˆ·æ˜¯èƒ½å¤Ÿè·å–ç³»ç»Ÿèµ„æºçš„æƒé™çš„é›†åˆï¼Œç»„æ˜¯æƒé™çš„å®¹å™¨ Linux ç”¨æˆ·ç±»å‹ ç”¨æˆ·ç±»å‹ æè¿° ç®¡ç†å‘˜root å…·æœ‰ä½¿ç”¨ç³»ç»Ÿæ‰€æœ‰æƒé™çš„ç”¨æˆ·,å…¶UID ä¸º0 ç³»ç»Ÿç”¨æˆ· ä¿éšœç³»ç»Ÿè¿è¡Œçš„ç”¨æˆ·,ä¸€èˆ¬ä¸æä¾›å¯†ç ç™»å½•ç³»ç»Ÿ,å…¶UIDä¸º1-499ä¹‹é—´ æ™®é€šç”¨æˆ· å³ä¸€èˆ¬ç”¨æˆ·,å…¶ä½¿ç”¨ç³»ç»Ÿçš„æƒé™å—é™,å…¶UIDä¸º500-60000ä¹‹é—´. ä¸Linuxç”¨æˆ·ä¿¡æ¯ç›¸å…³çš„æ–‡ä»¶æœ‰ä¸¤ä¸ªï¼šåˆ†åˆ«æ˜¯/etc/passwdå’Œ /etc/shadow 123456789101112# æŸ¥çœ‹æ–‡ä»¶/etc/passwdæ–‡ä»¶çš„å†…å®¹ï¼Œé€‰å–ç¬¬ä¸€è¡Œï¼šroot:x:0:0:root:/root:/bin/bashroot:ç”¨æˆ·åx:å¯†ç å ä½ç¬¦ï¼Œå¯†ç ä¿å­˜åœ¨shadowæ–‡ä»¶å†…0:ç”¨æˆ·idï¼ŒUID0:ç»„idï¼ŒGIDroot:æ³¨é‡Šä¿¡æ¯/root:ç”¨æˆ·å®¶ç›®å½•/bin/bash:ç”¨æˆ·é»˜è®¤ä½¿ç”¨shellç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿— Linuxç”¨æˆ·ç»„ç±»å‹ ç”¨æˆ·ç»„ç±»å‹ æè¿° ç³»ç»Ÿç»„ ä¸€èˆ¬åŠ å…¥ä¸€äº›ç³»ç»Ÿç”¨æˆ· æ™®é€šç”¨æˆ·ç»„ å¯ä»¥åŠ å…¥å¤šä¸ªç”¨æˆ· ç§æœ‰ç»„/åŸºæœ¬ç»„ å½“åˆ›å»ºç”¨æˆ·æ—¶,å¦‚æœæ²¡æœ‰ä¸ºå…¶æŒ‡æ˜æ‰€å±ç»„ï¼Œåˆ™å°±ä¸ºå…¶å®šä¹‰ä¸€ä¸ªç§æœ‰çš„ç”¨æˆ·ç»„ï¼Œèµ·åç§°ä¸ç”¨æˆ·ååŒåï¼Œå½“æŠŠå…¶ä»–ç”¨æˆ·åŠ å…¥åˆ°è¯¥ç»„ä¸­ï¼Œåˆ™å…¶å°±å˜æˆäº†æ™®é€šç»„ ä¸Linuxç”¨æˆ·ç»„ä¿¡æ¯ç›¸å…³çš„æ–‡ä»¶æœ‰ä¸¤ä¸ªï¼šåˆ†åˆ«æ˜¯/etc/groupå’Œ /etc/gshadow 12345# æŸ¥çœ‹æ–‡ä»¶/etc/groupæ–‡ä»¶å†…å®¹ï¼Œé€‰å–ä¸€ä¸ªæ™®é€šç»„è¡Œï¼šhadoop:x:500:hadoop:ç»„åx:ç»„å¯†ç å ä½ç¬¦500:ç»„id 2. ç”¨æˆ·æ“ä½œLinuxä¸­çš„ç”¨æˆ·ç®¡ç†ä¸»è¦æ¶‰åŠåˆ°ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ã€‚æ‰€æœ‰æ“ä½œéƒ½å½±å“/etc/passwdä¸­çš„æ–‡ä»¶å†…å®¹ é€‰é¡¹12345678910111213-c&lt;å¤‡æ³¨&gt;ï¼šä¿®æ”¹ç”¨æˆ·å¸å·çš„å¤‡æ³¨æ–‡å­—ï¼›-d&lt;ç™»å…¥ç›®å½•&gt;ï¼šä¿®æ”¹ç”¨æˆ·ç™»å…¥æ—¶çš„ç›®å½•ï¼›-e&lt;æœ‰æ•ˆæœŸé™&gt;ï¼šä¿®æ”¹å¸å·çš„æœ‰æ•ˆæœŸé™ï¼›-f&lt;ç¼“å†²å¤©æ•°&gt;ï¼šä¿®æ”¹åœ¨å¯†ç è¿‡æœŸåå¤šå°‘å¤©å³å…³é—­è¯¥å¸å·ï¼›-g&lt;ç¾¤ç»„&gt;ï¼šä¿®æ”¹ç”¨æˆ·æ‰€å±çš„ç¾¤ç»„ï¼›-G&lt;ç¾¤ç»„&gt;ï¼›ä¿®æ”¹ç”¨æˆ·æ‰€å±çš„é™„åŠ ç¾¤ç»„ï¼›-l&lt;å¸å·åç§°&gt;ï¼šä¿®æ”¹ç”¨æˆ·å¸å·åç§°ï¼›-Lï¼šé”å®šç”¨æˆ·å¯†ç ï¼Œä½¿å¯†ç æ— æ•ˆï¼›-U:è§£é™¤å¯†ç é”å®šã€‚-s&lt;shell&gt;ï¼šä¿®æ”¹ç”¨æˆ·ç™»å…¥åæ‰€ä½¿ç”¨çš„shellï¼›-u&lt;uid&gt;ï¼šä¿®æ”¹ç”¨æˆ·IDï¼› å‚æ•° ç™»å½•åï¼šæŒ‡å®šè¦ä¿®æ”¹ä¿¡æ¯çš„ç”¨æˆ·ç™»å½•åã€‚ æ·»åŠ ç”¨æˆ· useradd spark usermod -G bigdata spark ## è®¾ç½®ç»„, sparkç”¨æˆ·æ·»åŠ åˆ°bigdataç»„ä¸­ usermod -c â€œmylove sparkâ€ spark ## -c: æ·»åŠ å¤‡æ³¨ä¿¡æ¯ ä¸€æ­¥å®Œæˆï¼šuseradd -G bigdata -c â€œmyloveâ€ spark # sparkç”¨æˆ·æ·»åŠ åˆ°bigdataç»„ä¸­, å¹¶è®¾ç½®å¤‡æ³¨ä¸º mylover useradd -u 508 -g 514 -G 1001 user3 æ·»åŠ ç”¨æˆ·user3æ—¶, æŒ‡å®šç”¨æˆ·uid å’Œ ä¸»ç»„-g, é™„å±ç»„-G, ç»„å¿…é¡»è¦å…ˆå­˜åœ¨ useradd -u(æ·»åŠ çš„æ—¶å€™ä¿®æ”¹ç”¨æˆ·id) 508 -g 514(-gæ˜¯æ·»åŠ ç»„, æ­¤ç»„å·ç å¿…é¡»å­˜åœ¨) æŒ‡å®šuser4 çš„å®¶ç›®å½• useradd -u 520 -g 1000 -d /home/user44 user4 1234567891011121314151617&gt; &gt; ä¸åˆ›å»ºuser4çš„å®¶ç›®å½•, user5åˆšåˆ›å»ºçš„æ—¶å€™, å®¶å°±è¢«æ¯äº†&gt; &gt; `useradd -u 508 -g 1000 -M user6&gt; &gt; &gt; &gt; å½“user6æ²¡æœ‰å®¶çš„æ—¶å€™, è¿™æ ·æ˜¾ç¤º&gt; &gt; `bash-4.1$ ....&gt; &gt; æ­¤æ—¶åº”è¯¥è¿™æ ·æ“ä½œ&gt; &gt; cp -v /etc/skel/.b* /home/user6&gt; &gt; "/etc/skel/.bash_logout" -&gt; "/home/user6/.bash_logout"&gt; &gt; "/etc/skel/.bash_profile" -&gt; "/home/user6/.bash_profile"&gt; &gt; "/etc/skel/.bashrc" -&gt; "/home/user6/.bashrc"&gt; &gt; su user6&gt; &gt; [user6@cts1 shixuanji]$ &gt; &gt; &gt; &gt; --------&gt; &gt; æŸ¥çœ‹è¿›ç¨‹ ps -au | grep xxx&gt; &gt; æ€æ­»è¿›ç¨‹ kill -9 xxx&gt; &gt; 123456&gt; &gt; # ä¸å…è®¸ç”¨æˆ·ç™»å½•&gt; &gt; useradd -u 523 -g 1000 -s /sbin/nologin user7&gt; &gt; &gt; &gt; # ä¿®æ”¹æ­¤ç”¨æˆ·ç™»å½•æƒé™ä¸º /bin/bash&gt; &gt; usermod -s /bin/bash user7&gt; &gt; è®¾ç½®å¯†ç  passwd spark æ ¹æ®æç¤ºè®¾ç½®å¯†ç å³å¯ åˆ›å»ºå¯†ç å·¥å…· mkpasswd ä¸‹è½½ï¼š yum -y install expect mkpasswd -l 14 åˆ›å»ºä¸€ä¸ª14ä½æ•°çš„å¯†ç  mkpasswd -l 15 -s 0: -sæ˜¯è®¾ç½®ç‰¹æ®Šç¬¦å·çš„é•¿åº¦, è¿™é‡Œæ˜¯ä¸è¦ç‰¹æ®Šç¬¦å· 123456789101112131415161718192021222324&gt; ### ä¿®æ”¹å¯†ç &gt; # æ­¤æ—¶åªéœ€è¦è¾“å…¥ä¸€éå¯†ç &gt; passwd --stdin user4 &gt; &gt; # é€šè¿‡ç®¡é“å¯ä»¥ç›´æ¥æ›´æ”¹&gt; echo "123" | passwd --stdin user4&gt; &gt; # é€šè¿‡æ‰‹åŠ¨è¾“å…¥å›è½¦ç¬¦ `\n` æ¥å®ç°2éç¡®è®¤ -eï¼šæ¿€æ´»è½¬ä¹‰å­—ç¬¦ã€‚&gt; echo -e "123\n123\n" | passwd user4&gt; &gt; =======#é¢å¤–çŸ¥è¯†ç‚¹&gt; # ä½¿ç”¨echo -eé€‰é¡¹æ—¶ï¼Œè‹¥å­—ç¬¦ä¸²ä¸­å‡ºç°ä»¥ä¸‹å­—ç¬¦ï¼Œåˆ™ç‰¹åˆ«åŠ ä»¥å¤„ç†ï¼Œè€Œä¸ä¼šå°†å®ƒå½“æˆä¸€èˆ¬æ–‡å­—è¾“å‡ºï¼š&gt; \a å‘å‡ºè­¦å‘Šå£°ï¼›&gt; \b åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦ï¼›&gt; \c æœ€åä¸åŠ ä¸Šæ¢è¡Œç¬¦å·ï¼›&gt; \f æ¢è¡Œä½†å…‰æ ‡ä»æ—§åœç•™åœ¨åŸæ¥çš„ä½ç½®ï¼›&gt; \n æ¢è¡Œä¸”å…‰æ ‡ç§»è‡³è¡Œé¦–ï¼›&gt; \r å…‰æ ‡ç§»è‡³è¡Œé¦–ï¼Œä½†ä¸æ¢è¡Œï¼›&gt; \t æ’å…¥tabï¼›&gt; \v ä¸\fç›¸åŒï¼›&gt; \ æ’å…¥\å­—ç¬¦ï¼›&gt; \nnn æ’å…¥nnnï¼ˆå…«è¿›åˆ¶ï¼‰æ‰€ä»£è¡¨çš„ASCIIå­—ç¬¦ï¼›&gt; &gt; ä¿®æ”¹ç”¨æˆ· ä¿®æ”¹sparkç™»å½•åä¸ºstormï¼šusermod -l spark storm å°†sparkæ·»åŠ åˆ°bigdataå’Œrootç»„ï¼šusermod -G root,bigdata spark æŸ¥çœ‹sparkçš„ç»„ä¿¡æ¯ï¼šgroups spark 1234567891011121314&gt; # usermod : usermodify&gt; # ä½¿ç”¨çš„å‚æ•°è·Ÿuseradd å‡ ä¹ä¸€æ ·&gt; &gt; chfn user4 : ä¿®æ”¹ç”¨æˆ·çš„finger, ç”µè¯, åŠå…¬å®¤ç­‰...&gt; # ä¿®æ”¹å, å…¶å®è¿™é‡Œå°±æ˜¯ä¿®æ”¹çš„å¤‡æ³¨é€‰é¡¹&gt; $ â˜ grep shixuanji /etc/passwd&gt; shixuanji:x:500:500:airpoet,sh,110,110:/home/shixuanji:/bin/bash&gt; &gt; # ä¿®æ”¹å¤‡æ³¨, è¿™é‡ŒåˆæŠŠä¹‹å‰æ”¹chfnåˆæ”¹äº†&gt; $ â˜ usermod -c "å“å‘€æˆ‘å»" shixuanji&gt; $ â˜ grep shixuanji /etc/passwd &gt; shixuanji:x:500:500:å“å‘€æˆ‘å»:/home/shixuanji:/bin/bash&gt; &gt; åˆ é™¤ç”¨æˆ· userdel -r spark åŠ ä¸€ä¸ª-rå°±è¡¨ç¤ºæŠŠç”¨æˆ·åŠç”¨æˆ·çš„å®¶ç›®å½•, ä¿¡ç®±åœ°å€ç­‰éƒ½åˆ é™¤ æŸ¥çœ‹ç”¨æˆ·çš„ä¿¡æ¯ id ç”¨æˆ·å rootç”¨æˆ·ä»¥å…¶ä»–ç”¨æˆ·çš„æƒé™æ‰§è¡ŒæŸæ¡å‘½ä»¤ 123[~] su -c "touch /tmp/shixuanji.txt" - shixuanji 22:32:02[~] ls -l /tmp/shixuanji.txt 22:32:25-rw-rw-r--. 1 shixuanji shixuanji 0 5æœˆ 29 22:32 /tmp/shixuanji.txt 3. ç»„æ“ä½œå‰é¢æˆ‘ä»¬çŸ¥é“ï¼Œç»„æ˜¯æƒé™çš„é›†åˆã€‚åœ¨linuxç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œæ²¡æœ‰æŒ‡å®šæ—¶éƒ½é»˜è®¤ä¸ºç§æœ‰ç»„ï¼Œç§æœ‰ç»„ååŒç”¨æˆ·åä¸€è‡´ï¼Œå»ºç«‹ç”¨æˆ·ç»„çš„å¥½å¤„æ˜¯ç³»ç»Ÿèƒ½å¯¹ä¸€ä¸ªç”¨æˆ·ç»„ä¸­çš„æ‰€æœ‰ç”¨æˆ·çš„æ“ä½œæƒé™è¿›è¡Œé›†ä¸­ç®¡ç†ã€‚ç»„ç®¡ç†æ¶‰åŠç»„çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ã€‚ç»„çš„å¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹å®é™…ä¸Šå°±å¯¹/etc/groupæ–‡ä»¶çš„æ›´æ–° æ·»åŠ ä¸€ä¸ªå«bigdataçš„ç»„ groupadd bigdata æŸ¥çœ‹ç³»ç»Ÿå½“å‰æœ‰é‚£äº›ç»„ cat /etc/group å°†sparkç”¨æˆ·æ·»åŠ åˆ°bigdataç»„ä¸­ usermod -G bigdata spark æˆ–è€… gpasswd -a spark bigdata è¿™ä¸¤ä¸ªå‘½ä»¤çš„åŒºåˆ†è®°å¿†æŠ€å·§ï¼š å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Œå°±è¯æ˜å¯¹ä»€ä¹ˆåšæ“ä½œï¼Œæ‰€ä»¥æœ€åçš„å‚æ•°å°±æ˜¯å‘½ä»¤çš„æ“ä½œå¯¹è±¡ï¼Œä¸­é—´çš„å¯é€‰é¡¹è¡¨ç¤ºè¦å¹²å˜› å°†sparkç”¨æˆ·ä»bigdataç»„åˆ é™¤ gpasswd -d spark bigdata å°†bigdataç»„åä¿®æ”¹ä¸ºbigspark groupmod -n bigspark bigdata åˆ é™¤ç»„ groupdel bigdata 4. ä¸ºç”¨æˆ·é…ç½®sudoeræƒé™æ™®é€šæƒ…å†µä¸‹ï¼Œä½¿ç”¨æ™®é€šç”¨æˆ·è¿›è¡Œä¸€äº›ç®€å•çš„æ“ä½œå°±OKï¼Œä½†æ˜¯æ™®é€šç”¨æˆ·å’Œrootç”¨æˆ·çš„åŒºåˆ«å°±åœ¨äºrootç”¨æˆ·èƒ½å¯¹ç³»ç»Ÿåšä»»ä½•äº‹ï¼Œä½†æ˜¯æ™®é€šç”¨æˆ·å°±ä¸è¡Œã€‚å¤„å¤„å—é™ã€‚é‚£ä¹ˆå‡å¦‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ™®é€šç”¨æˆ·æƒ³æ‹¥æœ‰æ›´å¤§çš„æƒé™åšæ›´å¤šçš„äº‹æƒ…ï¼Œè™½ç„¶æœ‰æƒé™é™åˆ¶ï¼Œä½†ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ã€‚éƒ¨åˆ†æ“ä½œè¿˜æ˜¯å¯ä»¥èµ‹äºˆæ›´é«˜çš„æƒé™è®©æ™®é€šç”¨æˆ·åšä¸€æ¬¡ã€‚è¿™å°±éœ€è¦ç»™æ™®é€šç”¨æˆ·é…ç½®rootæƒé™äº†ã€‚æ„æ€å°±æ˜¯è®©æ™®é€šç”¨æˆ·ä½¿ç”¨rootæƒé™å»åšä¸€äº›æ“ä½œï¼Œè¿™å½“ç„¶æ˜¯éœ€è¦é…ç½®çš„ã€‚ ç”¨rootç¼–è¾‘ vi /etc/sudoers ç›´æ¥ç”¨å‘½ä»¤ visudoä¹Ÿå¯ä»¥ç›´æ¥ç¼–è¾‘æ­¤æ–‡ä»¶ åœ¨æ–‡ä»¶çš„å¦‚ä¸‹ä½ç½®ï¼Œä¸ºhadoopæ·»åŠ ä¸€è¡Œå³å¯ root ALL=(ALL) ALL hadoop ALL=(ALL) ALL spark ALL=(ALL) ALL ç„¶åï¼Œhadoopç”¨æˆ·å’Œsparkç”¨æˆ·å°±å¯ä»¥ç”¨sudoæ¥æ‰§è¡Œç³»ç»Ÿçº§åˆ«çš„æŒ‡ä»¤ [hadoop\@hadoop01 ~]\$ sudo useradd huangxiaoming 123456789&gt; ~ â¤ su shixuanji # ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ä¹‹å, ç”¨sudoå¯ä»¥è®¿é—®root&gt; [shixuanji@cts1 root]$ sudo /bin/ls /root&gt; [sudo] password for shixuanji:&gt; anaconda-ks.cfg date.txt Documents git-2018-05-22 install.log.syslog Music Public Videos&gt; autojump Desktop Downloads install.log k-vim Pictures Templates wget-log&gt; [shixuanji@cts1 root]$ ls /root&gt; ls: æ— æ³•æ‰“å¼€ç›®å½•/root: æƒé™ä¸å¤Ÿ&gt; [shixuanji@cts1 root]$&gt; è®©ä¸€ä¸ªæ™®é€šç”¨æˆ·å¯ä»¥æ— å¯†ç ç™»å½•åˆ°rootç”¨æˆ·, è¿˜æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/sudoers` ç¦æ­¢è¿œç¨‹ç™»å½• ä¿®æ”¹ vi /etc/ssh/sshd_config æ­¤æ–‡ä»¶ä¸­çš„ #PermitRootLogin yes ä¸º no è¿™æ ·å°±ä¸èƒ½è¿œç¨‹ ssh ç™»å½•äº† æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿— æŸ¥çœ‹ç™»å½•é”™è¯¯ä¹‹ç±»çš„æ—¥å¿— tail /var log/secure æœ‰æ—¶å€™, ç™»å½•æ—¶, è¦è¿‡å‡ ç§’æ‰è®©è¾“å…¥ç™»å½•å¯†ç  ä¿®æ”¹ /etc/ssh/sshd_configä¸­çš„UseDNS=no, å°±ä¸ä¼šå»æ‰¾DNSäº† æ™®é€šç”¨æˆ·å…å¯†ä½¿ç”¨sudo &amp; å…å¯†ç™»å½•ä¸ºroot12345678vi /ect/sudoers# è®¾ç½®ä¸éœ€è¦ä½¿ç”¨å¯†ç ä½¿ç”¨sudoap ALL=(ALL) NOPASSWD: ALL # ä½¿ç”¨ sudo su - å…å¯†ç™»å½•åˆ°rootè´¦æˆ·User_Alias USER_SU=apCmnd_Alias SU=/bin/suUSER_SU ALL=(ALL) NOPASSWD: SU 5. åˆ‡æ¢ç”¨æˆ·åœ¨linuxçš„ç³»ç»Ÿä½¿ç”¨è¿‡ç¨‹å½“ä¸­ï¼Œå…ä¸äº†ä¼šæœ‰å¤šä¸ªç”¨æˆ·æ¥å›åˆ‡æ¢ä½¿ç”¨ã€‚ æ‰€ä»¥åœ¨æ­¤æä¾›åˆ‡æ¢ç”¨æˆ·çš„ä½¿ç”¨æ“ä½œï¼šåˆ‡æ¢ç”¨æˆ·ä½¿ç”¨çš„å‘½ä»¤æ˜¯ suï¼ˆswitch userï¼‰ ä»æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ· , éœ€è¦è¾“å¯†ç  su root æˆ– su ä»rootç”¨æˆ·åˆ‡æ¢åˆ°æ™®é€šç”¨æˆ·, ä¸éœ€è¦è¾“å¯†ç  su xxx 5. æ–‡ä»¶æƒé™1ã€linuxæ–‡ä»¶æƒé™çš„æè¿°æ ¼å¼è§£è¯»Linuxç”¨ æˆ·åˆ†ä¸ºï¼šæ‹¥æœ‰è€…ã€ç»„ç¾¤(Group)ã€å…¶ä»–ï¼ˆotherï¼‰ï¼ŒLinuxç³»ç»Ÿä¸­ï¼Œé¢„è®¾çš„æƒ…æ³ä¸‹ï¼Œç³»ç»Ÿä¸­æ‰€æœ‰çš„å¸å·ä¸ä¸€èˆ¬èº«ä»½ä½¿ç”¨è€…ï¼Œä»¥åŠrootçš„ç›¸å…³ä¿¡ æ¯ï¼Œ éƒ½æ˜¯è®°å½•åœ¨/etc/passwdæ–‡ä»¶ä¸­ã€‚æ¯ä¸ªäººçš„å¯†ç åˆ™æ˜¯è®°å½•åœ¨/etc/shadowæ–‡ä»¶ä¸‹ã€‚ æ­¤å¤–ï¼Œæ‰€æœ‰çš„ç»„ç¾¤åç§°è®°å½•åœ¨/etc/groupå…§ linuxæ–‡ä»¶çš„ç”¨æˆ·æƒé™çš„åˆ†æå›¾ 123456 -rw-r--r-- 1 user staff 651 Oct 12 12:53 .gitmodules# â†‘â•°â”¬â•¯â•°â”¬â•¯â•°â”¬â•¯# â”† â”† â”† â•°â”ˆ 0 å…¶ä»–äºº# â”† â”† â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆ g å±ç»„# â”† â•°â”ˆâ”ˆâ”ˆâ”ˆ u å±ä¸»# â•°â”ˆâ”ˆ ç¬¬ä¸€ä¸ªå­—æ¯ `d` ä»£è¡¨ç›®å½•ï¼Œ`-` ä»£è¡¨æ™®é€šæ–‡ä»¶ dï¼šæ ‡è¯†èŠ‚ç‚¹ç±»å‹ï¼ˆdï¼šæ–‡ä»¶å¤¹ -ï¼šæ–‡ä»¶ lï¼šé“¾æ¥ï¼‰ rï¼šå¯è¯» wï¼šå¯å†™ xï¼šå¯æ‰§è¡Œ æ–‡ä»¶ æ–‡ä»¶å¤¹ r å¯è¯»å–å†…å®¹ å¯ä»¥ls w å¯ä¿®æ”¹æ–‡ä»¶çš„å†…å®¹ å¯ä»¥åœ¨å…¶ä¸­åˆ›å»ºæˆ–è€…åˆ é™¤å­èŠ‚ç‚¹ x èƒ½å¦è¿è¡Œè¿™ä¸ªæ–‡ä»¶ èƒ½å¦cd**è¿›å…¥è¿™ä¸ªç›®å½•** 2ã€ ä¿®æ”¹æ–‡ä»¶æƒé™chmodå‘½ä»¤ ç”¨æ¥å˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚åœ¨UNIXç³»ç»Ÿå®¶æ—é‡Œï¼Œæ–‡ä»¶æˆ–ç›®å½•æƒé™çš„æ§åˆ¶åˆ†åˆ«ä»¥è¯»å–ã€å†™å…¥ã€æ‰§è¡Œ3ç§ä¸€èˆ¬æƒé™æ¥åŒºåˆ†ï¼Œå¦æœ‰3ç§ç‰¹æ®Šæƒé™å¯ä¾›è¿ç”¨ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨chmodæŒ‡ä»¤å»å˜æ›´æ–‡ä»¶ä¸ç›®å½•çš„æƒé™ï¼Œè®¾ç½®æ–¹å¼é‡‡ç”¨æ–‡å­—æˆ–æ•°å­—ä»£å·çš†å¯ã€‚ç¬¦å·è¿æ¥çš„æƒé™æ— æ³•å˜æ›´ï¼Œå¦‚æœç”¨æˆ·å¯¹ç¬¦å·è¿æ¥ä¿®æ”¹æƒé™ï¼Œå…¶æ”¹å˜ä¼šä½œç”¨åœ¨è¢«è¿æ¥çš„åŸå§‹æ–‡ä»¶ã€‚ è¯­æ³•12345chmod(é€‰é¡¹)(å‚æ•°)r=è¯»å–å±æ€§ //å€¼ï¼4 w=å†™å…¥å±æ€§ //å€¼ï¼2 x=æ‰§è¡Œå±æ€§ //å€¼ï¼1 é€‰é¡¹ï¼š u Userï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…ï¼›g Groupï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ï¼›o Otherï¼Œé™¤äº†æ–‡ä»¶æˆ–ç›®å½•æ‹¥æœ‰è€…æˆ–æ‰€å±ç¾¤ç»„ä¹‹å¤–ï¼Œå…¶ä»–ç”¨æˆ·çš†å±äºè¿™ä¸ªèŒƒå›´ï¼›a Allï¼Œå³å…¨éƒ¨çš„ç”¨æˆ·ï¼ŒåŒ…å«æ‹¥æœ‰è€…ï¼Œæ‰€å±ç¾¤ç»„ä»¥åŠå…¶ä»–ç”¨æˆ·ï¼›r è¯»å–æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ4â€;w å†™å…¥æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ2â€ï¼›x æ‰§è¡Œæˆ–åˆ‡æ¢æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ1â€ï¼›- ä¸å…·ä»»ä½•æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ0â€ï¼›s ç‰¹æ®ŠåŠŸèƒ½è¯´æ˜ï¼šå˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚ å‚æ•°: æƒé™æ¨¡å¼ï¼šæŒ‡å®šæ–‡ä»¶çš„æƒé™æ¨¡å¼ï¼›æ–‡ä»¶ï¼šè¦æ”¹å˜æƒé™çš„æ–‡ä»¶ã€‚ ç¤ºä¾‹å˜æ›´ æ–‡ä»¶/ç›®å½• çš„æƒé™ 1234567891011# ç›´æ¥ä¿®æ”¹chmod g-rw haha.dat ## è¡¨ç¤ºå°†haha.datå¯¹æ‰€å±ç»„çš„rwæƒé™å–æ¶ˆchmod o-rw haha.dat ## è¡¨ç¤ºå°†haha.datå¯¹å…¶ä»–äººçš„rwæƒé™å–æ¶ˆchmod u+x haha.dat ## è¡¨ç¤ºå°†haha.datå¯¹æ‰€å±ç”¨æˆ·çš„æƒé™å¢åŠ xchmod a-x haha.dat ## è¡¨ç¤ºå°†haha.datå¯¹æ‰€ç”¨æˆ·å–æ¶ˆxæƒé™# ä¹Ÿå¯ä»¥ç”¨æ•°å­—çš„æ–¹å¼æ¥ä¿®æ”¹æƒé™(å¸¸ç”¨)chmod 664 haha.datå°±ä¼šä¿®æ”¹æˆ rw-rw-r--å¦‚æœè¦å°†ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æ‰€æœ‰å†…å®¹æƒé™ç»Ÿä¸€ä¿®æ”¹ï¼Œåˆ™å¯ä»¥-Rå‚æ•°chmod -R 770 aaa/ å˜æ›´ æ–‡ä»¶/ç›®å½• çš„æ‹¥æœ‰è€… æˆ– æ‰€å±ç»„ 1234# &lt;åªæœ‰rootæƒé™èƒ½æ‰§è¡Œ&gt;chown angela aaa ## æ”¹å˜æ‰€å±ç”¨æˆ·chown :angela aaa ## æ”¹å˜æ‰€å±ç»„chown angela:angela aaa/ ## åŒæ—¶ä¿®æ”¹æ‰€å±ç”¨æˆ·å’Œæ‰€å±ç»„ 6. å‹ç¼©æ‰“åŒ…gzipgzipæ˜¯åœ¨Linuxç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªå¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©å’Œè§£å‹ç¼©çš„å‘½ä»¤ï¼Œæ—¢æ–¹ä¾¿åˆå¥½ç”¨ã€‚ gzipæ˜¯ä¸ªä½¿ç”¨å¹¿æ³›çš„å‹ç¼©ç¨‹åºï¼Œæ–‡ä»¶ç»å®ƒå‹ç¼©è¿‡åï¼Œå…¶åç§°åé¢ä¼šå¤šå¤„â€œ.gzâ€æ‰©å±•åã€‚ è¯­æ³• gzip (é€‰é¡¹) (å‚æ•°) é€‰é¡¹ 123456789101112131415161718-aæˆ–â€”â€”asciiï¼šä½¿ç”¨ASCIIæ–‡å­—æ¨¡å¼ï¼›-dæˆ–--decompressæˆ–----uncompressï¼šè§£å¼€å‹ç¼©æ–‡ä»¶ï¼›-fæˆ–â€”â€”forceï¼šå¼ºè¡Œå‹ç¼©æ–‡ä»¶ã€‚ä¸ç†ä¼šæ–‡ä»¶åç§°æˆ–ç¡¬è¿æ¥æ˜¯å¦å­˜åœ¨ä»¥åŠè¯¥æ–‡ä»¶æ˜¯å¦ä¸ºç¬¦å·è¿æ¥ï¼›-hæˆ–â€”â€”helpï¼šåœ¨çº¿å¸®åŠ©ï¼›-læˆ–â€”â€”listï¼šåˆ—å‡ºå‹ç¼©æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ï¼›-Læˆ–â€”â€”licenseï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¸ç‰ˆæƒä¿¡æ¯ï¼›-næˆ–--no-nameï¼šå‹ç¼©æ–‡ä»¶æ—¶ï¼Œä¸ä¿å­˜åŸæ¥çš„æ–‡ä»¶åç§°åŠæ—¶é—´æˆ³è®°ï¼›-Næˆ–â€”â€”nameï¼šå‹ç¼©æ–‡ä»¶æ—¶ï¼Œä¿å­˜åŸæ¥çš„æ–‡ä»¶åç§°åŠæ—¶é—´æˆ³è®°ï¼›-qæˆ–â€”â€”quietï¼šä¸æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ï¼›-ræˆ–â€”â€”recursiveï¼šé€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç†ï¼›-Sæˆ–&lt;å‹ç¼©å­—å°¾å­—ç¬¦ä¸²&gt;æˆ–----suffix&lt;å‹ç¼©å­—å°¾å­—ç¬¦ä¸²&gt;ï¼šæ›´æ”¹å‹ç¼©å­—å°¾å­—ç¬¦ä¸²ï¼›-tæˆ–â€”â€”testï¼šæµ‹è¯•å‹ç¼©æ–‡ä»¶æ˜¯å¦æ­£ç¡®æ— è¯¯ï¼›-væˆ–â€”â€”verboseï¼šæ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼›-Væˆ–â€”â€”versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼›-&lt;å‹ç¼©æ•ˆç‡&gt;ï¼šå‹ç¼©æ•ˆç‡æ˜¯ä¸€ä¸ªä»‹äº1~9çš„æ•°å€¼ï¼Œé¢„è®¾å€¼ä¸ºâ€œ6â€ï¼ŒæŒ‡å®šæ„ˆå¤§çš„æ•°å€¼ï¼Œå‹ç¼©æ•ˆç‡å°±ä¼šæ„ˆé«˜ï¼›--bestï¼šæ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€œ-9â€å‚æ•°ç›¸åŒï¼›--fastï¼šæ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€œ-1â€å‚æ•°ç›¸åŒã€‚-num ç”¨æŒ‡å®šçš„æ•°å­—numè°ƒæ•´å‹ç¼©çš„é€Ÿåº¦ï¼Œ-1æˆ–--fastè¡¨ç¤ºæœ€å¿«å‹ç¼©æ–¹æ³•ï¼ˆä½å‹ç¼©æ¯”ï¼‰ï¼Œ-9æˆ–--bestè¡¨ç¤ºæœ€æ…¢å‹ç¼©æ–¹æ³•ï¼ˆé«˜å‹ç¼©æ¯”ï¼‰ã€‚ç³»ç»Ÿç¼ºçœå€¼ä¸º6ã€‚ å‚æ•° æ–‡ä»¶åˆ—è¡¨ï¼šæŒ‡å®šè¦å‹ç¼©çš„æ–‡ä»¶åˆ—è¡¨ã€‚ ç¤ºä¾‹ 12345678910111213# æŠŠtest6ç›®å½•ä¸‹çš„æ¯ä¸ªæ–‡ä»¶å‹ç¼©æˆ.gzæ–‡ä»¶gzip *# æŠŠä¸Šä¾‹ä¸­æ¯ä¸ªå‹ç¼©çš„æ–‡ä»¶è§£å‹ï¼Œå¹¶åˆ—å‡ºè¯¦ç»†çš„ä¿¡æ¯gzip -dv *# è¯¦ç»†æ˜¾ç¤ºä¾‹1ä¸­æ¯ä¸ªå‹ç¼©çš„æ–‡ä»¶çš„ä¿¡æ¯ï¼Œå¹¶ä¸è§£å‹gzip -l *# å‹ç¼©ä¸€ä¸ªtarå¤‡ä»½æ–‡ä»¶ï¼Œæ­¤æ—¶å‹ç¼©æ–‡ä»¶çš„æ‰©å±•åä¸º.tar.gzgzip -r log.tar# é€’å½’çš„å‹ç¼©ç›®å½•gzip -rv test6# è¿™æ ·ï¼Œæ‰€æœ‰testä¸‹é¢çš„æ–‡ä»¶éƒ½å˜æˆäº†.gzï¼Œç›®å½•ä¾ç„¶å­˜åœ¨åªæ˜¯ç›®å½•é‡Œé¢çš„æ–‡ä»¶ç›¸åº”å˜æˆäº†.gz.è¿™å°±æ˜¯å‹ç¼©ï¼Œå’Œæ‰“åŒ…ä¸åŒã€‚å› ä¸ºæ˜¯å¯¹ç›®å½•æ“ä½œï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š-ré€‰é¡¹ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å¯¹å­ç›®å½•è¿›è¡Œé€’å½’äº†ã€‚# é€’å½’åœ°è§£å‹ç›®å½•gzip -dr test6 bzipbzip2å‘½ä»¤ ç”¨äºåˆ›å»ºå’Œç®¡ç†ï¼ˆåŒ…æ‹¬è§£å‹ç¼©ï¼‰â€œ.bz2â€æ ¼å¼çš„å‹ç¼©åŒ…ã€‚ è¯­æ³• bzip2 (é€‰é¡¹) (å‚æ•°) é€‰é¡¹ 123456789101112-cæˆ–â€”â€”stdoutï¼šå°†å‹ç¼©ä¸è§£å‹ç¼©çš„ç»“æœé€åˆ°æ ‡å‡†è¾“å‡ºï¼›-dæˆ–â€”â€”decompressï¼šæ‰§è¡Œè§£å‹ç¼©ï¼›-fæˆ–-forceï¼šbzip2åœ¨å‹ç¼©æˆ–è§£å‹ç¼©æ—¶ï¼Œè‹¥è¾“å‡ºæ–‡ä»¶ä¸ç°æœ‰æ–‡ä»¶åŒåï¼Œé¢„è®¾ä¸ä¼šè¦†ç›–ç°æœ‰æ–‡ä»¶ã€‚è‹¥è¦è¦†ç›–ã€‚è¯·ä½¿ç”¨æ­¤å‚æ•°ï¼›-hæˆ–â€”â€”helpï¼šåœ¨çº¿å¸®åŠ©ï¼›-kæˆ–â€”â€”keepï¼šbzip2åœ¨å‹ç¼©æˆ–è§£å‹ç¼©åï¼Œä¼šåˆ é™¤åŸå§‹æ–‡ä»¶ã€‚è‹¥è¦ä¿ç•™åŸå§‹æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨æ­¤å‚æ•°ï¼›-sæˆ–â€”â€”smallï¼šé™ä½ç¨‹åºæ‰§è¡Œæ—¶å†…å­˜çš„ä½¿ç”¨é‡ï¼›-tæˆ–â€”â€”testï¼šæµ‹è¯•.bz2å‹ç¼©æ–‡ä»¶çš„å®Œæ•´æ€§ï¼›-væˆ–â€”â€”verboseï¼šå‹ç¼©æˆ–è§£å‹ç¼©æ–‡ä»¶æ—¶ï¼Œæ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯ï¼›-zæˆ–â€”â€”compressï¼šå¼ºåˆ¶æ‰§è¡Œå‹ç¼©ï¼›-Væˆ–â€”â€”versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼›--repetitive-bestï¼šè‹¥æ–‡ä»¶ä¸­æœ‰é‡å¤å‡ºç°çš„èµ„æ–™æ—¶ï¼Œå¯åˆ©ç”¨æ­¤å‚æ•°æé«˜å‹ç¼©æ•ˆæœï¼›--repetitive-fastï¼šè‹¥æ–‡ä»¶ä¸­æœ‰é‡å¤å‡ºç°çš„èµ„æ–™æ—¶ï¼Œå¯åˆ©ç”¨æ­¤å‚æ•°åŠ å¿«æ‰§è¡Œæ•ˆæœã€‚ å‚æ•° æ–‡ä»¶ï¼šæŒ‡å®šè¦å‹ç¼©çš„æ–‡ä»¶ã€‚ ç¤ºä¾‹ 1234567891011## å‹ç¼©æŒ‡å®šæ–‡ä»¶filename:bzip2 filename æˆ– bzip2 -z filename## è§£å‹æŒ‡å®šçš„æ–‡ä»¶filename.bz2:bzip2 -d filename.bz2 æˆ– bunzip2 filename.bz2# å‹ç¼©è§£å‹çš„æ—¶å€™å°†ç»“æœä¹Ÿè¾“å‡ºï¼šbzip2 -v filename filename: 0.119:1, 67.200 bits/byte, -740.00% saved, 5 in, 42 out.# å‹ç¼©è§£å‹çš„æ—¶å€™ï¼Œé™¤äº†ç”Ÿæˆç»“æœæ–‡ä»¶ï¼Œå°†åŸæ¥çš„æ–‡ä»¶ä¹Ÿä¿å­˜: bzip2 -k filename# è§£å‹åˆ°æ ‡å‡†è¾“å‡º, è¾“å‡ºæ–‡ä»¶çš„å†…å®¹bzip2 -dc filename.bz2 tarLinuxä¸‹çš„å½’æ¡£ä½¿ç”¨å·¥å…·ï¼Œç”¨æ¥æ‰“åŒ…å’Œå¤‡ä»½ã€‚ é¦–å…ˆè¦å¼„æ¸…ä¸¤ä¸ªæ¦‚å¿µï¼šæ‰“åŒ…å’Œå‹ç¼©ã€‚æ‰“åŒ…æ˜¯æŒ‡å°†ä¸€å¤§å †æ–‡ä»¶æˆ–ç›®å½•å˜æˆä¸€ä¸ªæ€»çš„æ–‡ä»¶ï¼›å‹ç¼©åˆ™æ˜¯å°†ä¸€ä¸ªå¤§çš„æ–‡ä»¶é€šè¿‡ä¸€äº›å‹ç¼©ç®—æ³•å˜æˆä¸€ä¸ªå°æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µå‘¢ï¼Ÿè¿™æºäºLinuxä¸­å¾ˆå¤šå‹ç¼©ç¨‹åºåªèƒ½é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·å½“ä½ æƒ³è¦å‹ç¼©ä¸€å¤§å †æ–‡ä»¶æ—¶ï¼Œä½ å¾—å…ˆå°†è¿™ä¸€å¤§å †æ–‡ä»¶å…ˆæ‰“æˆä¸€ä¸ªåŒ…ï¼ˆtarå‘½ä»¤ï¼‰ï¼Œç„¶åå†ç”¨å‹ç¼©ç¨‹åºè¿›è¡Œå‹ç¼©ï¼ˆgzip bzip2å‘½ä»¤ï¼‰ã€‚ å…¶å®æœ€ç®€å•çš„ä½¿ç”¨ tar å°±åªè¦è®°å¿†åº•ä¸‹çš„æ–¹å¼å³å¯ï¼š tar.gz æ ¼å¼: 1234# ä¸€æ¬¡æ€§æ‰“åŒ…å¹¶å‹ç¼©ã€è§£å‹å¹¶è§£åŒ…æ‰“åŒ…å¹¶å‹ç¼©ï¼š tar -zcvf [ç›®æ ‡æ–‡ä»¶å].tar.gz [åŸæ–‡ä»¶å/ç›®å½•å]è§£å‹å¹¶è§£åŒ…ï¼š tar -zxvf [åŸæ–‡ä»¶å].tar.gz -C [ç›®æ ‡ç›®å½•]æ³¨ï¼šzä»£è¡¨ç”¨gzipç®—æ³•æ¥å‹ç¼©/è§£å‹ã€‚ tar.bz2æ ¼å¼: 1234# ä¸€æ¬¡æ€§æ‰“åŒ…å¹¶å‹ç¼©ã€è§£å‹å¹¶è§£åŒ…æ‰“åŒ…å¹¶å‹ç¼©ï¼š tar -jcvf [ç›®æ ‡æ–‡ä»¶å].tar.bz2 [åŸæ–‡ä»¶å/ç›®å½•å]è§£å‹å¹¶è§£åŒ…ï¼š tar -jxvf [åŸæ–‡ä»¶å].tar.bz2æ³¨ï¼šå°å†™jä»£è¡¨ç”¨bzip2ç®—æ³•æ¥å‹ç¼©/è§£å‹ã€‚ å…¶å®ç”¨ä¸åˆ°çš„è¯å°±ä¸ç”¨çœ‹äº†, ä¸‹é¢çš„. è¯­æ³• tar(é€‰é¡¹)(å‚æ•°) é€‰é¡¹ 1234567891011121314151617181920212223-Aæˆ–--catenateï¼šæ–°å¢æ–‡ä»¶åˆ°ä»¥å­˜åœ¨çš„å¤‡ä»½æ–‡ä»¶ï¼›-Bï¼šè®¾ç½®åŒºå—å¤§å°ï¼›-cæˆ–--createï¼šå»ºç«‹æ–°çš„å¤‡ä»½æ–‡ä»¶ï¼›-C &lt;ç›®å½•&gt;ï¼šè¿™ä¸ªé€‰é¡¹ç”¨åœ¨è§£å‹ç¼©ï¼Œè‹¥è¦åœ¨ç‰¹å®šç›®å½•è§£å‹ç¼©ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ã€‚-dï¼šè®°å½•æ–‡ä»¶çš„å·®åˆ«ï¼›-xæˆ–--extractæˆ–--getï¼šä»å¤‡ä»½æ–‡ä»¶ä¸­è¿˜åŸæ–‡ä»¶ï¼›-tæˆ–--listï¼šåˆ—å‡ºå¤‡ä»½æ–‡ä»¶çš„å†…å®¹ï¼›-zæˆ–--gzipæˆ–--ungzipï¼šé€šè¿‡gzipæŒ‡ä»¤å¤„ç†å¤‡ä»½æ–‡ä»¶ï¼›-Zæˆ–--compressæˆ–--uncompressï¼šé€šè¿‡compressæŒ‡ä»¤å¤„ç†å¤‡ä»½æ–‡ä»¶ï¼›-f&lt;å¤‡ä»½æ–‡ä»¶&gt;æˆ–--file=&lt;å¤‡ä»½æ–‡ä»¶&gt;ï¼šæŒ‡å®šå¤‡ä»½æ–‡ä»¶ï¼›-væˆ–--verboseï¼šæ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼›-rï¼šæ·»åŠ æ–‡ä»¶åˆ°å·²ç»å‹ç¼©çš„æ–‡ä»¶ï¼›-uï¼šæ·»åŠ æ”¹å˜äº†å’Œç°æœ‰çš„æ–‡ä»¶åˆ°å·²ç»å­˜åœ¨çš„å‹ç¼©æ–‡ä»¶ï¼›-jï¼šæ”¯æŒbzip2è§£å‹æ–‡ä»¶ï¼›-vï¼šæ˜¾ç¤ºæ“ä½œè¿‡ç¨‹ï¼›-lï¼šæ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œè®¾ç½®ï¼›-kï¼šä¿ç•™åŸæœ‰æ–‡ä»¶ä¸è¦†ç›–ï¼›-mï¼šä¿ç•™æ–‡ä»¶ä¸è¢«è¦†ç›–ï¼›-wï¼šç¡®è®¤å‹ç¼©æ–‡ä»¶çš„æ­£ç¡®æ€§ï¼›-pæˆ–--same-permissionsï¼šç”¨åŸæ¥çš„æ–‡ä»¶æƒé™è¿˜åŸæ–‡ä»¶ï¼›-Pæˆ–--absolute-namesï¼šæ–‡ä»¶åä½¿ç”¨ç»å¯¹åç§°ï¼Œä¸ç§»é™¤æ–‡ä»¶åç§°å‰çš„â€œ/â€å·ï¼›-N &lt;æ—¥æœŸæ ¼å¼&gt; æˆ– --newer=&lt;æ—¥æœŸæ—¶é—´&gt;ï¼šåªå°†è¾ƒæŒ‡å®šæ—¥æœŸæ›´æ–°çš„æ–‡ä»¶ä¿å­˜åˆ°å¤‡ä»½æ–‡ä»¶é‡Œï¼›--exclude=&lt;èŒƒæœ¬æ ·å¼&gt;ï¼šæ’é™¤ç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶ã€‚ å‚æ•° æ–‡ä»¶æˆ–ç›®å½•ï¼šæŒ‡å®šè¦æ‰“åŒ…çš„æ–‡ä»¶æˆ–ç›®å½•åˆ—è¡¨ã€‚ -f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œåˆ‡è®°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚ 12345- zï¼šæœ‰gzipå±æ€§çš„- jï¼šæœ‰bz2å±æ€§çš„- Zï¼šæœ‰compresså±æ€§çš„- vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹- Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º å®ä¾‹ zipæ ¼å¼ 123å‹ç¼©ï¼š zip -r [ç›®æ ‡æ–‡ä»¶å].zip [åŸæ–‡ä»¶/ç›®å½•å]è§£å‹ï¼š unzip [åŸæ–‡ä»¶å].zipæ³¨ï¼š -rå‚æ•°ä»£è¡¨é€’å½’ taræ ¼å¼ï¼ˆè¯¥æ ¼å¼ä»…ä»…æ‰“åŒ…ï¼Œä¸å‹ç¼©ï¼‰ 123æ‰“åŒ…ï¼štar -cvf [ç›®æ ‡æ–‡ä»¶å].tar [åŸæ–‡ä»¶å/ç›®å½•å]è§£åŒ…ï¼štar -xvf [åŸæ–‡ä»¶å].taræ³¨ï¼šcå‚æ•°ä»£è¡¨createï¼ˆåˆ›å»ºï¼‰ï¼Œxå‚æ•°ä»£è¡¨extractï¼ˆè§£åŒ…ï¼‰ï¼Œvå‚æ•°ä»£è¡¨verboseï¼ˆè¯¦ç»†ä¿¡æ¯ï¼‰ï¼Œfå‚æ•°ä»£è¡¨filenameï¼ˆæ–‡ä»¶åï¼‰ï¼Œæ‰€ä»¥fåå¿…é¡»æ¥æ–‡ä»¶åã€‚ tar.gzæ ¼å¼(æ–¹å¼äºŒå¸¸ç”¨) 12345678# æ–¹å¼ä¸€ï¼šåˆ©ç”¨å‰é¢å·²ç»æ‰“åŒ…å¥½çš„taræ–‡ä»¶ï¼Œç›´æ¥ç”¨å‹ç¼©å‘½ä»¤ã€‚å‹ç¼©ï¼šgzip [åŸæ–‡ä»¶å].tarè§£å‹ï¼šgunzip [åŸæ–‡ä»¶å].tar.gz# æ–¹å¼äºŒï¼šä¸€æ¬¡æ€§æ‰“åŒ…å¹¶å‹ç¼©ã€è§£å‹å¹¶è§£åŒ…æ‰“åŒ…å¹¶å‹ç¼©ï¼š tar -zcvf [ç›®æ ‡æ–‡ä»¶å].tar.gz [åŸæ–‡ä»¶å/ç›®å½•å]è§£å‹å¹¶è§£åŒ…ï¼š tar -zxvf [åŸæ–‡ä»¶å].tar.gzæ³¨ï¼šzä»£è¡¨ç”¨gzipç®—æ³•æ¥å‹ç¼©/è§£å‹ã€‚ tar.bz2æ ¼å¼ 12345678æ–¹å¼ä¸€ï¼šåˆ©ç”¨å·²ç»æ‰“åŒ…å¥½çš„taræ–‡ä»¶ï¼Œç›´æ¥æ‰§è¡Œå‹ç¼©å‘½ä»¤ï¼šå‹ç¼©ï¼šbzip2 [åŸæ–‡ä»¶å].tarè§£å‹ï¼šbunzip2 [åŸæ–‡ä»¶å].tar.bz2æ–¹å¼äºŒï¼šä¸€æ¬¡æ€§æ‰“åŒ…å¹¶å‹ç¼©ã€è§£å‹å¹¶è§£åŒ…æ‰“åŒ…å¹¶å‹ç¼©ï¼š tar -jcvf [ç›®æ ‡æ–‡ä»¶å].tar.bz2 [åŸæ–‡ä»¶å/ç›®å½•å]è§£å‹å¹¶è§£åŒ…ï¼š tar -jxvf [åŸæ–‡ä»¶å].tar.bz2æ³¨ï¼šå°å†™jä»£è¡¨ç”¨bzip2ç®—æ³•æ¥å‹ç¼©/è§£å‹ã€‚ jaræ ¼å¼ 12345678910å‹ç¼©ï¼šjar -cvf [ç›®æ ‡æ–‡ä»¶å].jar [åŸæ–‡ä»¶å/ç›®å½•å]è§£å‹ï¼šjar -xvf [åŸæ–‡ä»¶å].jar# æ³¨ï¼šå¦‚æœæ˜¯æ‰“åŒ…çš„æ˜¯Javaç±»åº“ï¼Œå¹¶ä¸”è¯¥ç±»åº“ä¸­å­˜åœ¨ä¸»ç±»ï¼Œé‚£ä¹ˆéœ€è¦å†™ä¸€ä¸ªMETA-INF/MANIFEST.MFé…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼šManifest-Version: 1.0Created-By: 1.6.0_27 (Sun Microsystems Inc.)Main-class: the_name_of_the_main_class_should_be_put_here# ç„¶åç”¨å¦‚ä¸‹å‘½ä»¤æ‰“åŒ…ï¼šjar -cvfm [ç›®æ ‡æ–‡ä»¶å].jar META-INF/MANIFEST.MF [åŸæ–‡ä»¶å/ç›®å½•å] è¿™æ ·ä»¥åå°±èƒ½ç”¨â€œjava -jar [æ–‡ä»¶å].jarâ€å‘½ä»¤ç›´æ¥è¿è¡Œä¸»ç±»ä¸­çš„public static void mainæ–¹æ³•äº†ã€‚ 7zæ ¼å¼ 12345å‹ç¼©ï¼š7z a [ç›®æ ‡æ–‡ä»¶å].7z [åŸæ–‡ä»¶å/ç›®å½•å]è§£å‹ï¼š7z x [åŸæ–‡ä»¶å].7zæ³¨ï¼šè¿™ä¸ª7zè§£å‹å‘½ä»¤æ”¯æŒraræ ¼å¼ï¼Œå³ï¼š7z x [åŸæ–‡ä»¶å].rar å…¶å®ƒä¾‹å­ å‚è€ƒç½‘å€ 7. Linuxå¼€å…³æœºå’Œé‡å¯ å¼€æœºï¼šå¼€æœºé”® å…³æœºï¼šshutdownï¼Œhaltï¼Œinit 0ï¼Œpoweroff é‡å¯ï¼šrebootï¼Œinit 6 Shutdownå‘½ä»¤è¯¦è§£ï¼š shutdown -h now ## ç«‹åˆ»å…³æœº shutdown -h +10 ## 10åˆ†é’Ÿä»¥åå…³æœº shutdown -h 12:00:00 ##12ç‚¹æ•´çš„æ—¶å€™å…³æœº]]></content>
      <categories>
        <category>Linux</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå­¦ä¹ ç¬”è®°-1]]></title>
    <url>%2F2018%2F05%2F26%2FLinux%2FLinux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1%2F</url>
    <content type="text"><![CDATA[1&gt; åˆè¯†Linux1. Linuxä»‹ç»Linuxç³»ç»Ÿæ˜¯ä¸€å¥—å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„ç±»UNIXæ“ä½œç³»ç»Ÿï¼ˆä¸»è¦ç”¨åœ¨æœåŠ¡å™¨ä¸Šï¼‰ï¼Œæ˜¯ä¸€ä¸ªåŸºäºPOSIXå’ŒUNIXçš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡ã€æ”¯æŒå¤šçº¿ç¨‹å’Œå¤šCPUçš„æ“ä½œç³»ç»Ÿã€‚å®ƒèƒ½è¿è¡Œä¸»è¦çš„UNIXå·¥å…·è½¯ä»¶ã€åº”ç”¨ç¨‹åºå’Œç½‘ç»œåè®®ã€‚å®ƒæ”¯æŒ32ä½å’Œ64ä½ç¡¬ä»¶ã€‚Linuxç»§æ‰¿äº†UNIXä»¥ç½‘ç»œä¸ºæ ¸å¿ƒçš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯ä¸€ä¸ªæ€§èƒ½ç¨³å®šçš„å¤šç”¨æˆ·ç½‘ç»œæ“ä½œç³»ç»Ÿã€‚ UNIXï¼šæ“ä½œç³»ç»Ÿï¼Œæ˜¯ç¾å›½AT&amp;Tå…¬å¸è´å°”å®éªŒå®¤äº1969å¹´å®Œæˆçš„æ“ä½œç³»ç»Ÿï¼Œæœ€æ—©ç”±è‚¯Â·æ±¤æ™®é€Šï¼ˆKen Thompsonï¼‰ï¼Œä¸¹å°¼æ–¯Â·é‡Œå¥‡ï¼ˆDennis Ritchieï¼‰å¼€å‘ã€‚åœ¨1971å¹´é¦–æ¬¡å¯¹å¤–å‘å¸ƒï¼Œåˆšå¥½åœ¨1971ï¼Œä¸¹å°¼æ–¯Â·é‡Œå¥‡ï¼ˆDennis Ritchieï¼‰å‘æ˜äº†Cè¯­è¨€ï¼Œåæ¥åœ¨1973ï¼ŒUnixè¢«ä»–ç”¨Cè¯­è¨€é‡æ–°ç¼–å†™ã€‚Unixå‰èº«æºè‡ªäºMultiCSï¼Œå«UniCSï¼Œåæ¥æ”¹åå«Unixã€‚ POSIXï¼šå¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼ˆè‹±è¯­ï¼šPortable Operating System Interface of UNIXï¼Œç¼©å†™ä¸ºPOSIXï¼‰ï¼Œæ˜¯IEEEï¼ˆç”µæ°”å’Œç”µå­å·¥ç¨‹å¸ˆåä¼šï¼‰ä¸ºè¦åœ¨å„ç§UNIXæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œè½¯ä»¶ï¼Œè€Œå®šä¹‰APIçš„ä¸€ç³»åˆ—äº’ç›¸å…³è”çš„æ ‡å‡†çš„æ€»ç§°ã€‚ GNUï¼š1983å¹´ï¼ŒRichard Stallmanï¼ˆç†æŸ¥å¾·Â·é©¬ä¿®Â·æ–¯æ‰˜æ›¼ï¼‰åˆ›ç«‹GNUè®¡åˆ’ã€‚ä¸€å¥—å®Œå…¨è‡ªç”±çš„æ“ä½œç³»ç»Ÿï¼Œå…¶å†…å®¹è½¯ä»¶å®Œå…¨ä»¥GPLæ–¹å¼å‘å¸ƒã€‚è¿™ä¸ªæ“ä½œç³»ç»Ÿæ˜¯GNUè®¡åˆ’çš„ä¸»è¦ç›®æ ‡ï¼ˆå‘å±•å‡ºä¸€å¥—å®Œæ•´çš„å¼€æ”¾æºä»£ç æ“ä½œç³»ç»Ÿæ¥å–ä»£Unixï¼‰ï¼Œåç§°æ¥è‡ªGNU\â€™s Not Unix!çš„é€’å½’ç¼©å†™ã€‚ GPLï¼šä¸€ç§GNUé€šç”¨å…¬å…±è®¸å¯åè®®ï¼Œä¸ºä¿è¯GNUè½¯ä»¶å¯ä»¥è‡ªç”±çš„ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹å’Œå‘å¸ƒï¼Œæ‰€æœ‰çš„GNUè½¯ä»¶éƒ½æœ‰ä¸€ä»½åœ¨ç¦æ­¢å…¶ä»–äººæ·»åŠ ä»»ä½•é™åˆ¶çš„æƒ…å†µä¸‹æˆæƒæ‰€æœ‰æƒåˆ©ç»™ä»»ä½•äººçš„åè®®æ¡æ¬¾ï¼Œæ˜¯ä¸€ä¸ªè¢«å¹¿æ³›ä½¿ç”¨çš„è‡ªç”±è½¯ä»¶è®¸å¯åè®®æ¡æ¬¾ï¼Œä¿è¯ç»ˆç«¯ç”¨æˆ·è¿è¡Œã€å­¦ä¹ ã€åˆ†äº«ï¼ˆå¤åˆ¶ï¼‰åŠç¼–è¾‘è½¯ä»¶ä¹‹è‡ªç”±ï¼ŒGPLæ˜¯è‡ªç”±è½¯ä»¶å’Œå¼€æºè½¯ä»¶çš„æœ€æµè¡Œè®¸å¯è¯ï¼Œç‰¹è‰²è¡¨ç°ï¼š â€¢å–å¾—è½¯ä»¶ä¸åŸå§‹ç ï¼šæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥æ‰§è¡Œè¿™ä¸ªè‡ªç”±è½¯ä»¶ â€¢å¤åˆ¶ï¼šæ‚¨å¯ä»¥è‡ªç”±çš„å¤åˆ¶è¯¥è½¯ä»¶ â€¢ä¿®æ”¹ï¼šæ‚¨å¯ä»¥å°†å–å¾—çš„åŸå§‹ç è¿›è¡Œç¨‹åºä¿®æ”¹å·¥ä½œï¼Œä½¿ä¹‹é€‚åˆæ‚¨çš„å·¥ä½œ â€¢å†å‘è¡Œï¼šæ‚¨å¯ä»¥å°†æ‚¨ä¿®æ”¹è¿‡çš„ç¨‹åºï¼Œå†åº¦çš„è‡ªç”±å‘è¡Œï¼Œè€Œä¸ä¼šä¸åŸå…ˆçš„æ’°å†™è€…å†²çª â€¢å›é¦ˆï¼šæ‚¨åº”è¯¥å°†æ‚¨ä¿®æ”¹è¿‡çš„ç¨‹åºä»£ç å›é¦ˆäºç¤¾ç¾¤ ==ä¸åŒè®¸å¯è¯çš„åŒºåˆ«== 1985å¹´ï¼ŒRichard Stallmanåˆåˆ›ç«‹äº†è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFree Software Foundationï¼ŒFSFï¼‰æ¥ä¸ºGNUè®¡åˆ’æä¾›æŠ€æœ¯ã€æ³•å¾‹ä»¥åŠè´¢æ”¿æ”¯æŒã€‚ 1990å¹´ï¼ŒGNUè®¡åˆ’å¼€å‘ä¸»è¦é¡¹ç›®æœ‰Emacsï¼ˆæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰ã€GCCï¼ˆGUN Compiler Collectionï¼ŒGNUç¼–è¯‘å™¨é›†åˆï¼‰ã€Bashç­‰ï¼ŒGCCæ˜¯ä¸€å¥—GNUå¼€å‘çš„ç¼–ç¨‹è¯­è¨€ç¼–è¯‘å™¨ã€‚è¿˜æœ‰å¼€å‘ä¸€äº›UNIXç³»ç»Ÿçš„ç¨‹åºåº“å’Œå·¥å…·ã€‚ Linuxæ“ä½œç³»ç»Ÿè¯ç”Ÿäº1991å¹´10æœˆ5æ—¥ï¼ˆè¿™æ˜¯ç¬¬ä¸€æ¬¡æ­£å¼å‘å¤–å…¬å¸ƒæ—¶é—´ï¼‰ï¼Œä¸UNIXå…¼å®¹ï¼Œå¹¶åœ¨GPLæ¡æ¬¾ä¸‹å‘å¸ƒã€‚ç°åœ¨ï¼ŒLinuxäº§ç”Ÿäº†è®¸å¤šä¸åŒçš„Linuxå‘è¡Œç‰ˆæœ¬ï¼Œä½†å®ƒä»¬éƒ½ä½¿ç”¨äº†Linuxå†…æ ¸ã€‚Linuxå¯å®‰è£…åœ¨å„ç§è®¡ç®—æœºç¡¬ä»¶è®¾å¤‡ä¸­ï¼Œæ¯”å¦‚æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€è·¯ç”±å™¨ã€è§†é¢‘æ¸¸æˆæ§åˆ¶å°ã€å°å¼è®¡ç®—æœºã€å¤§å‹æœºå’Œè¶…çº§è®¡ç®—æœºã€‚ 1992å¹´ï¼ŒLinuxä¸å…¶ä»–GUNè½¯ä»¶ç»“åˆï¼Œå®Œå…¨è‡ªç”±çš„GNU/Linuxæ“ä½œç³»ç»Ÿæ­£å¼è¯ç”Ÿï¼Œç®€ç§°Linux ==Linuxçš„åŸºæœ¬æ€æƒ³æœ‰ä¸¤ç‚¹== ç¬¬ä¸€ï¼Œä¸€åˆ‡éƒ½æ˜¯æ–‡ä»¶ ç¬¬äºŒï¼Œæ¯ä¸ªè½¯ä»¶éƒ½æœ‰ç¡®å®šçš„ç”¨é€” ä¸Unixæ€æƒ³ååˆ†ç›¸è¿‘ã€‚ 2. Linuxç‰¹ç‚¹1ã€åˆ†æ—¶çš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿ 2ã€å¤šæ•°ç½‘ç»œåè®®æ”¯æŒã€æ–¹ä¾¿çš„è¿œç¨‹ç®¡ç† 3ã€å¼ºå¤§çš„å†…å­˜ç®¡ç†å’Œæ–‡ä»¶ç³»ç»Ÿç®¡ç† 4ã€å¤§é‡çš„å¯ç”¨çš„è½¯ä»¶å’Œå…è´¹çš„è½¯ä»¶ 5ã€ä¼˜è‰¯çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ 6ã€è‰¯å¥½çš„å¯ç§»æ¤æ€§å’Œçµæ´»æ€§ 7ã€å¯ä¾›é€‰æ‹©çš„å‚å•†å¤š 3. Linuxæ“ä½œç³»ç»Ÿæ¶æ„ è¡¥å……ï¼šlinuxå†…æ ¸å¿…é¡»åŠ ä¸Šä¸€ä¸ªâ€ç•Œé¢â€è½¯ä»¶ï¼Œæ‰èƒ½è®©ç”¨æˆ·å»ä½¿ç”¨ï¼Œâ€ç•Œé¢â€åˆ†ä¸¤ç±»ï¼š aã€å‘½ä»¤è¡Œç•Œé¢CLI SHELLï¼ˆæœ‰å¾ˆå¤šç§ï¼Œæœ€æµè¡Œçš„ä¸€ç§æ˜¯bash shellï¼‰ bã€å›¾å½¢ç•Œé¢GUI SHELLï¼ˆä¹Ÿæœ‰å¾ˆå¤šç§ï¼Œç›®å‰æœ€æµè¡Œçš„æœ‰ä¸¤ç§ï¼šgnomeå’Œkdeï¼‰ 4. Linuxå†…æ ¸ä¸¥æ ¼æ¥è®²ï¼ŒLinuxä¸æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼ŒLinuxåªæ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­çš„å†…æ ¸ã€‚ å†…æ ¸å»ºç«‹äº†è®¡ç®—æœºè½¯ä»¶ä¸ç¡¬ä»¶ä¹‹é—´é€šè®¯çš„å¹³å°ï¼Œå†…æ ¸æä¾›ç³»ç»ŸæœåŠ¡ï¼Œæ¯”å¦‚æ–‡ä»¶ç®¡ç†ã€è™šæ‹Ÿå†…å­˜ã€è®¾å¤‡I/Oã€è¿›ç¨‹ç®¡ç†ç­‰ã€‚ å†…æ ¸å®˜ç½‘ï¼š[http://www.kernel.org/]{.underline}ã€‚ç›®å‰æœ€æ–°çš„å†…æ ¸ç‰ˆæœ¬ï¼š4.13.5 è¦æ³¨æ„åŒºåˆ†linuxå‘å‹ç‰ˆæœ¬å’Œlinuxå†…æ ¸ç‰ˆæœ¬ã€‚ä¸¤è€…ä¸æ˜¯åŒä¸€ä¸ªäº‹ç‰© ä¸‹é¢è¿™ä½æ˜¯Linuxå†…æ ¸çš„ä½œè€…ï¼š è¿™æ˜¯Linuxçš„logo 5. å¸¸è§å‘è¡Œç‰ˆçº¢å¸½ä¼ä¸šç³»ç»Ÿï¼ˆRedHat Enterprise Linux, RHELï¼‰ å…¨çƒæœ€å¤§çš„å¼€æºæŠ€æœ¯å‚å•†ï¼Œå…¨ä¸–ç•Œå†…ä½¿ç”¨æœ€å¹¿æ³›çš„Linuxå‘å¸ƒå¥—ä»¶ï¼Œ æä¾›æ€§èƒ½ä¸ç¨³å®šæ€§æå¼ºçš„Linuxå¥—ä»¶ç³»ç»Ÿå¹¶æ‹¥æœ‰å®Œå–„çš„å…¨çƒæŠ€æœ¯æ”¯æŒã€‚ å®˜ç½‘ï¼š[http://www.redhat.com]{.underline} ç¤¾åŒºä¼ä¸šæ“ä½œç³»ç»Ÿï¼ˆCentOSï¼‰ æœ€åˆæ˜¯å°†çº¢å¸½ä¼ä¸šç³»ç»Ÿâ€é‡æ–°ç¼–è¯‘/å‘å¸ƒâ€ç»™ç”¨æˆ·å…è´¹ä½¿ç”¨è€Œå¹¿æ³›ä½¿ç”¨ï¼Œ å½“å‰å·²æ­£å¼åŠ å…¥çº¢å¸½å…¬å¸å¹¶ç»§ç»­ä¿æŒå…è´¹ï¼ˆéšRHELæ›´æ–°è€Œæ›´æ–°ï¼‰ã€‚ å®˜ç½‘ï¼š[http://www.centos.org/]{.underline} çº¢å¸½ç”¨æˆ·æ¡Œé¢ç‰ˆï¼ˆFedora [Linux]ï¼‰ æœ€åˆç”±çº¢å¸½å…¬å¸å‘èµ·çš„æ¡Œé¢ç‰ˆç³»ç»Ÿå¥—ä»¶ï¼ˆç›®å‰å·²ç»ä¸é™äºæ¡Œé¢ç‰ˆï¼‰ï¼Œ ç”¨æˆ·å¯å…è´¹ä½“éªŒåˆ°æœ€æ–°çš„æŠ€æœ¯æˆ–å·¥å…·ï¼Œè€ŒåŠŸèƒ½æˆç†ŸååŠ å…¥åˆ°RHELä¸­ã€‚ å®˜ç½‘ï¼š[http://fedora.redhat.com]{.underline} å›½é™…åŒ–ç»„ç»‡çš„å¼€æºæ“ä½œç³»ç»Ÿï¼ˆDebianï¼‰ æä¾›è¶…è¿‡37500ç§ä¸åŒçš„è‡ªç”±è½¯ä»¶ä¸”æ‹¥æœ‰å¾ˆé«˜çš„è®¤å¯åº¦ï¼Œ å¯¹äºå„ç±»å†…æ ¸æ¶æ„æ”¯æŒæ€§è‰¯å¥½ï¼Œç¨³å®šæ€§ã€å®‰å…¨æ€§å¼ºæ›´æœ‰å…è´¹çš„æŠ€æœ¯æ”¯æŒã€‚ å®˜ç½‘ï¼š[http://www.debian.org/]{.underline} åŸºäºDebiançš„æ¡Œé¢ç‰ˆï¼ˆUbuntuï¼‰ Ubuntuæ˜¯ä¸€æ¬¾åŸºäºDebianæ´¾ç”Ÿçš„äº§å“ï¼Œå¯¹æ–°æ¬¾ç¡¬ä»¶å…·æœ‰æå¼ºçš„å…¼å®¹èƒ½åŠ›ã€‚ æ™®éè®¤ä¸ºUbuntuä¸Fedoraéƒ½æ˜¯æå…¶å‡ºè‰²çš„LINUXæ¡Œé¢ç³»ç»Ÿã€‚ å®˜ç½‘ï¼š[http://www.ubuntulinux.org/]{.underline} å½“ç„¶è¿˜æœ‰å›½å†…çš„å›½é˜²ç§‘æŠ€å¤§å­¦å‘è¡Œéº’éºŸkylinå’Œä¸­ç§‘é™¢å‘è¡Œçº¢æ——RedFlag 2&gt; Linuxæ–‡ä»¶ç³»ç»Ÿ1. CentOSçš„ç›®å½•ç»“æ„ 2. æ ¹ç›®å½•ä¸‹æ¯ä¸ªç›®å½•çš„ç®€å•è§£é‡Š /**ï¼š**æ ¹ç›®å½•ï¼Œä¸€èˆ¬æ ¹ç›®å½•ä¸‹åªå­˜æ”¾ç›®å½•ï¼Œä¸è¦å­˜æ”¾æ–‡ä»¶ï¼Œ/etcã€/binã€/devã€/libã€/sbinåº”è¯¥å’Œæ ¹ç›®å½•æ”¾ç½®åœ¨ä¸€ä¸ªåˆ†åŒºä¸­ /bin:/usr/bin: å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚å¸¸ç”¨çš„å‘½ä»¤lsã€tarã€mvã€catç­‰ /boot**ï¼š**æ”¾ç½®linuxç³»ç»Ÿå¯åŠ¨æ—¶ç”¨åˆ°çš„ä¸€äº›æ–‡ä»¶ã€‚/boot/vmlinuzä¸ºlinuxçš„å†…æ ¸æ–‡ä»¶ï¼Œä»¥åŠ/boot/gurbã€‚å»ºè®®å•ç‹¬åˆ†åŒºï¼Œåˆ†åŒºå¤§å°100Må³å¯ /dev**ï¼š**å­˜æ”¾linuxç³»ç»Ÿä¸‹çš„è®¾å¤‡æ–‡ä»¶ï¼Œè®¿é—®è¯¥ç›®å½•ä¸‹æŸä¸ªæ–‡ä»¶ï¼Œç›¸å½“äºè®¿é—®æŸä¸ªè®¾å¤‡ï¼Œå¸¸ç”¨çš„æ˜¯æŒ‚è½½å…‰é©±mount /dev/cdrom /mnt /etc**ï¼š**ç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œä¸å»ºè®®åœ¨æ­¤ç›®å½•ä¸‹å­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‡è¦çš„é…ç½®æ–‡ä»¶æœ‰/etc/inittabã€/etc/gatewaysã€/etc/resolv.confã€/etc/fstabã€/etc/init.dã€/etc/X11ã€/etc/sysconfigã€/etc/xinetd.dä¿®æ”¹é…ç½®æ–‡ä»¶ä¹‹å‰è®°å¾—å¤‡ä»½ã€‚æ³¨ï¼š/etc/X11å­˜æ”¾ä¸x windowsæœ‰å…³çš„è®¾ç½® /home**ï¼š**ç³»ç»Ÿé»˜è®¤çš„ç”¨æˆ·å®¶ç›®å½•ï¼Œæ–°å¢ç”¨æˆ·è´¦å·æ—¶ï¼Œç”¨æˆ·çš„å®¶ç›®å½•éƒ½å­˜æ”¾åœ¨æ­¤ç›®å½•ä¸‹ï¼Œ~è¡¨ç¤ºå½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œ~testè¡¨ç¤ºç”¨æˆ·testçš„å®¶ç›®å½•ã€‚å»ºè®®å•ç‹¬åˆ†åŒºï¼Œå¹¶è®¾ç½®è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ï¼Œæ–¹ä¾¿ç”¨æˆ·å­˜æ”¾æ•°æ® /lib:/lib64:/usr/lib:/usr/local/lib**ï¼š**ç³»ç»Ÿä½¿ç”¨çš„å‡½æ•°åº“çš„ç›®å½•ï¼Œç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è°ƒç”¨ä¸€äº›é¢å¤–çš„å‚æ•°æ—¶éœ€è¦å‡½æ•°åº“çš„ååŠ©ï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•ä¸º/lib/modules /lost+fount**ï¼š**ç³»ç»Ÿå¼‚å¸¸äº§ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šå°†ä¸€äº›é—å¤±çš„ç‰‡æ®µæ”¾ç½®äºæ­¤ç›®å½•ä¸‹ï¼Œé€šå¸¸è¿™ä¸ªç›®å½•ä¼šè‡ªåŠ¨å‡ºç°åœ¨è£…ç½®ç›®å½•ä¸‹ã€‚å¦‚åŠ è½½ç¡¬ç›˜äº/disk ä¸­ï¼Œæ­¤ç›®å½•ä¸‹å°±ä¼šè‡ªåŠ¨äº§ç”Ÿç›®å½•/disk/lost+found /mnt:/media**ï¼š**å…‰ç›˜é»˜è®¤æŒ‚è½½ç‚¹ï¼Œé€šå¸¸å…‰ç›˜æŒ‚è½½äº/mnt/cdromä¸‹ï¼Œä¹Ÿä¸ä¸€å®šï¼Œå¯ä»¥é€‰æ‹©ä»»æ„ä½ç½®è¿›è¡ŒæŒ‚è½½ /opt**ï¼š**ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚å¦‚ï¼šFC4ä½¿ç”¨çš„Fedora ç¤¾ç¾¤å¼€å‘è½¯ä»¶ï¼Œå¦‚æœæƒ³è¦è‡ªè¡Œå®‰è£…æ–°çš„KDEæ¡Œé¢è½¯ä»¶ï¼Œå¯ä»¥å°†è¯¥è½¯ä»¶å®‰è£…åœ¨è¯¥ç›®å½•ä¸‹ã€‚ä»¥å‰çš„Linuxç³»ç»Ÿä¸­ï¼Œä¹ æƒ¯æ”¾ç½®åœ¨ /usr/localç›®å½•ä¸‹option /proc**ï¼š*æ­¤ç›®å½•çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œå¦‚ç³»ç»Ÿæ ¸å¿ƒï¼Œå¤–éƒ¨è®¾å¤‡ï¼Œç½‘ç»œçŠ¶æ€ï¼Œç”±äºæ•°æ®éƒ½å­˜æ”¾äºå†…å­˜ä¸­ï¼Œæ‰€ä»¥ä¸å ç”¨ç£ç›˜ç©ºé—´ï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•æœ‰/proc/cpuinfoã€/proc/interruptsã€/proc/dmaã€/proc/ioportsã€/proc/net/ç­‰process /root**ï¼š**ç³»ç»Ÿç®¡ç†å‘˜rootçš„å®¶ç›®å½•ï¼Œç³»ç»Ÿç¬¬ä¸€ä¸ªå¯åŠ¨çš„åˆ†åŒºä¸º/ï¼Œæ‰€ä»¥æœ€å¥½å°†/rootå’Œ/æ”¾ç½®åœ¨ä¸€ä¸ªåˆ†åŒºä¸‹ /sbin:/usr/sbin:/usr/local/sbin**ï¼š**æ”¾ç½®ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„å¯æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚fdiskã€shutdownã€mountç­‰ã€‚ä¸/binä¸åŒçš„æ˜¯ï¼Œè¿™å‡ ä¸ªç›®å½•æ˜¯ç»™ç³»ç»Ÿç®¡ç†å‘˜rootä½¿ç”¨çš„å‘½ä»¤ï¼Œä¸€èˆ¬ç”¨æˆ·åªèƒ½â€æŸ¥çœ‹â€è€Œä¸èƒ½è®¾ç½®å’Œä½¿ç”¨ã€‚ /selinux**ï¼š**selinuxè½¯ä»¶ç›®å½•ï¼Œç”¨äºä¿è¯ç³»ç»Ÿå®‰å…¨ /srv**ï¼š**æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦è®¿é—®çš„æ•°æ®ç›®å½•ï¼Œå¦‚wwwæœåŠ¡éœ€è¦è®¿é—®çš„ç½‘é¡µæ•°æ®å­˜æ”¾åœ¨/srv/wwwå†…service /sys**ï¼š**ç±»ä¼¼äº/procçš„ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿï¼Œå­˜æ”¾å†…æ ¸æ•°æ®ä¿¡æ¯ /tmp**ï¼š**ä¸€èˆ¬ç”¨æˆ·æˆ–æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºä¸´æ—¶å­˜æ”¾æ–‡ä»¶çš„ç›®å½•,ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®,é‡è¦æ•°æ®ä¸å¯æ”¾ç½®åœ¨æ­¤ç›®å½•ä¸‹ /usr**ï¼šåº”ç”¨ç¨‹åºå­˜æ”¾ç›®å½•ï¼Œ /usr/bin å­˜æ”¾åº”ç”¨ç¨‹åº /usr/share å­˜æ”¾å…±äº«æ•°æ® /usr/lib å­˜æ”¾ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œå´æ˜¯è®¸å¤šç¨‹åºè¿è¡Œæ‰€å¿…éœ€çš„ä¸€äº›å‡½æ•°åº“æ–‡ä»¶ /usr/local:å­˜æ”¾è½¯ä»¶å‡çº§åŒ… /usr/share/doc: ç³»ç»Ÿè¯´æ˜æ–‡ä»¶å­˜æ”¾ç›®å½• /usr/share/man: ç¨‹åºè¯´æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œä½¿ç”¨man lsæ—¶ä¼šæŸ¥è¯¢/usr/share/man/man1/ls.1.gzçš„å†…å®¹å»ºè®®å•ç‹¬åˆ†åŒºï¼Œè®¾ç½®è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ usr**ï¼šuser share resources/unix share resouces /var**ï¼š**æ”¾ç½®ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­ç»å¸¸å˜åŒ–çš„æ–‡ä»¶ï¼Œå¦‚ï¼š /var/logï¼šéšæ—¶æ›´æ”¹çš„æ—¥å¿—æ–‡ä»¶ /var/log/messageï¼šæ‰€æœ‰çš„ç™»å½•æ–‡ä»¶å­˜æ”¾ç›®å½• /var/spool/mailï¼šé‚®ä»¶å­˜æ”¾çš„ç›®å½• /var/runï¼šç¨‹åºæˆ–æœåŠ¡å¯åŠ¨ ä½¿ç”¨å»ºè®®ï¼š ç”¨æˆ·åº”è¯¥å°†æ–‡ä»¶å­˜å‚¨åœ¨è‡ªå·±çš„ä¸»ç›®å½•åŠå…¶å­ç›®å½•ä¸‹ ç³»ç»Ÿç»å¤§å¤šæ•°è®¾ç½®éƒ½åœ¨/etcç›®å½•ä¸‹ ä¸è¦ä¿®æ”¹/æˆ–è€…/usrç›®å½•ä¸‹çš„ä»»ä½•å†…å®¹ï¼Œé™¤éä½ çœŸçš„æ¸…æ¥šä½ åœ¨åšä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯è¯´/ç›®å½•æœ€å¥½å’Œå®‰è£…å¥½ç³»ç»Ÿä¹‹åˆä¿æŒä¸€è‡´ å¤§å¤šæ•°å·¥å…·å’Œåº”ç”¨è½¯ä»¶ç¨‹åºéƒ½å®‰è£…åœ¨/binï¼Œ/sbinï¼Œ/usr/binï¼Œ/usr/sbinï¼Œ/usr/local/bin æ–‡ä»¶æˆ–è€…ç›®å½•éƒ½æœ‰å”¯ä¸€çš„ç»å¯¹è·¯å¾„ï¼Œæ²¡æœ‰ç›˜ç¬¦çš„æ¦‚å¿µ 3&gt; Linuxå‘½ä»¤ç»ˆç«¯1. Linux çš„å‘½ä»¤æ ¼å¼ï¼šå‘½ä»¤é€‰é¡¹ å‘½ä»¤å‚æ•°æ³¨æ„ï¼šä¸‰è€…ä¹‹é—´è¦ç©ºæ ¼éš”å¼€ï¼Œå…¶ä¸­å‘½ä»¤é€‰é¡¹åˆ†ä¸ºé•¿æ ¼å¼å’ŒçŸ­æ ¼å¼ã€‚ çŸ­æ ¼å¼ç”¨â€™-â€˜è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š-lï¼Œ é•¿æ ¼å¼ç”¨â€â€“â€è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼šâ€“helpï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ç»„åˆæ ¼å¼ï¼Œæ¯”å¦‚ï¼š-a -l ç­‰ä»·äº-laæˆ–è€…-al 2. Linuxçš„é»˜è®¤å‘½ä»¤æç¤ºç¬¦ï¼š#ï¼šç®¡ç†å‘˜ç”¨æˆ· $ï¼šæ™®é€šç”¨æˆ· PS: Linuxä»¥å›è½¦é”®è¡¨ç¤ºå‘½ä»¤ç»“æŸï¼Œå¦‚æœ linuxå‘½ä»¤éœ€è¦æŠ˜è¡Œè¾“å…¥ï¼Œé‚£ä¹ˆå¯ä»¥ä»¥ \è¡¨ç¤ºæ¯è¡Œç»“æŸ 4&gt; å¸¸ç”¨å‘½ä»¤å½’çº³åˆ†ç±»åŸºæœ¬å‘½ä»¤ æ–‡ä»¶ç®¡ç† mkdir, rmdir, mv, rm, cp, touch, cat, tac, echo, more, less, head, tail, file, find, rename, ln, pwd, scp, alias ç£ç›˜ç®¡ç† ls, cd, du, df, mount, unmounts, fdisk æ–‡æ¡£å¤„ç† wc, sort, uniq, cut, sed, awk, grep, vi, diff ç”¨æˆ·å’Œç»„ useradd, usermod, passwd, userdel, groupadd, groupdel, chgrp, su æ–‡ä»¶ä¼ è¾“ get, put, wget ç½‘ç»œé€šä¿¡ telnet, nc, ifconfig, ping, netstat, ip, host å¤‡ä»½å‹ç¼© gzip, bzip2, bunzip2, tar, zip ç³»ç»Ÿç®¡ç† exit, kill, last, ps, top, free, pstree, reboot, halt, shutdown, sudo, who, w, whoami, whereis, which, last, whatis ç³»ç»Ÿè®¾ç½® clear, set, unset, hwclock, time, date, å…¶ä»– history, hostname, nohup, service, init, rpm, ssh, cal, yum ç½‘ç«™é€ŸæŸ¥http://man.linuxde.net/ http://www.jb51.net/linux/ https://jaywcjlove.github.io/linux-command ps: ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­, ç”¨ man xx, ä¹Ÿå¯ä»¥æŸ¥çœ‹å‘½ä»¤ä¿¡æ¯ 5&gt; å¸¸ç”¨æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤è¯¦è§£ç£ç›˜ç®¡ç† cd change directory å¸¸ä½¿ç”¨æ–¹å¼ï¼š cd sourcedir è¿›å…¥ç”¨æˆ·ä¸»ç›®å½• cd ~ è¿›å…¥ç”¨æˆ·ä¸»ç›®å½• cd - è¿”å›è¿›å…¥æ­¤ç›®å½•ä¹‹å‰æ‰€åœ¨çš„ç›®å½• cd .. è¿”å›ä¸Šçº§ç›®å½•ï¼ˆè‹¥å½“å‰ç›®å½•ä¸ºâ€/â€œï¼Œåˆ™æ‰§è¡Œå®Œåè¿˜åœ¨â€/â€œï¼›â€..â€ä¸ºä¸Šçº§ç›®å½•çš„æ„æ€ï¼‰ cd ../.. è¿”å›ä¸Šä¸¤çº§ç›®å½• pwd print working directory pwd æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½• ls listï¼šæ˜¾ç¤ºç›®å½•å†…å®¹åˆ—è¡¨ ä½¿ç”¨æ ¼å¼ï¼šls é€‰é¡¹ ç›®å½•æˆ–æ–‡ä»¶å å¸¸ç”¨é€‰é¡¹ -lï¼šè¯¦ç»†ä¿¡æ¯æ˜¾ç¤º -aï¼šæ˜¾ç¤ºæ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ -Aï¼šç±»ä¼¼äºâ€œ-aâ€ï¼Œä½†ä¸æ˜¾ç¤ºâ€œ.â€å’Œâ€œ..â€ç›®å½•çš„ä¿¡æ¯ -Rï¼šé€’å½’æ˜¾ç¤ºå†…å®¹ -hï¼šä»¥å‹å¥½æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å° ä¾‹å­ï¼š ls -l ## åˆ—å‡ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼Œ ä¹Ÿå¯ä»¥å†™ä½œ ll ls -lah ## ä»¥å‹å¥½æ–¹å¼æ˜¾ç¤ºåŒ…æ‹¬éšè—æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ du disk usageï¼šæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„ç£ç›˜ä½¿ç”¨ç©ºé—´ ä½¿ç”¨æ ¼å¼ï¼šdu é€‰é¡¹ ç›®å½•æˆ–æ–‡ä»¶å å¸¸ç”¨é€‰é¡¹ï¼š -aï¼šç»Ÿè®¡æ—¶åŒ…æ‹¬æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…åªç»Ÿè®¡ç›®å½• -hï¼šä»¥æ›´æ˜“è¯»çš„å­—èŠ‚å•ä½ï¼ˆKã€Mç­‰ï¼‰æ˜¾ç¤ºä¿¡æ¯ -sï¼šåªç»Ÿè®¡æ¯ä¸ªå‚æ•°æ‰€å ç”¨ç©ºé—´æ€»çš„å¤§å° ä¾‹å­ï¼š du -ah ## df disk freeï¼šæ˜¾ç¤ºç£ç›˜ç›¸å…³ä¿¡æ¯ å¸¸ç”¨é€‰é¡¹ï¼š -hï¼šä»¥æ›´æ˜“è¯»çš„å­—èŠ‚å•ä½ï¼ˆKã€Mç­‰ï¼‰æ˜¾ç¤ºä¿¡æ¯ -Tï¼šæ˜¾ç¤ºåˆ†åŒºæ ¼å¼ ä¾‹å­ï¼š df -h ## æ˜¾ç¤ºç£ç›˜ä¿¡æ¯ï¼Œä»¥å‹å¥½æ–¹å¼ df -T -h ## ä»¥å‹å¥½æ ¼å¼æ˜¾ç¤ºç£ç›˜ä¿¡æ¯ï¼Œå¹¶ä¸”é™„åŠ ç£ç›˜æ ¼å¼ æ–‡ä»¶ç®¡ç† touch åˆ›å»ºç©ºæ–‡ä»¶ æˆ–æ›´æ–°æ–‡ä»¶æ—¶é—´æ ‡è®° ä½¿ç”¨æ ¼å¼ï¼š touch æ–‡ä»¶å file æŸ¥çœ‹æ–‡ä»¶ç±»å‹ ä½¿ç”¨æ ¼å¼ï¼š file æ–‡ä»¶å æ ¹æ®æ–‡ä»¶å†…å®¹æ ¼å¼åˆ¤æ–­æ–‡ä»¶ç±»å‹ã€‚è€Œä¸æ˜¯æ ¹æ®åç¼€å mkdir åˆ›å»ºæ–‡ä»¶å¤¹ make directory ä½¿ç”¨æ ¼å¼ï¼šmkdir é€‰é¡¹ å‚æ•° å¸¸ç”¨é€‰é¡¹ï¼š -pï¼šå·²çº§è”çš„æ–¹å¼åˆ›å»ºæ–‡ä»¶å¤¹ ä¾‹å­ï¼š mkdir -p /root/ma/niu/zhu/dagou ## ä¸Šçº§ç›®å½•ä¸å­˜åœ¨è‡ªåŠ¨åˆ›å»ºä¸Šä¸€çº§ç›®å½•ï¼Œå¸¸ç”¨ cp å¤åˆ¶æ–‡ä»¶ ä½¿ç”¨æ ¼å¼ï¼š cp é€‰é¡¹ æºæ–‡ä»¶æˆ–ç›®å½•â€¦ ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½• å¸¸ç”¨é€‰é¡¹ï¼š -rï¼šé€’å½’å¤åˆ¶æ•´ä¸ªç›®å½•æ ‘ -pï¼šä¿æŒæºæ–‡ä»¶çš„å±æ€§ä¸å˜ -iï¼šéœ€è¦è¦†ç›–æ–‡ä»¶æˆ–ç›®å½•æ—¶è¿›è¡Œæé†’ rm åˆ é™¤æ–‡ä»¶æˆ–ç›®å½• ä½¿ç”¨æ ¼å¼ï¼šrm [é€‰é¡¹] æ–‡ä»¶æˆ–ç›®å½• å¸¸ç”¨é€‰é¡¹ï¼š -fï¼šå¼ºè¡Œåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸è¿›è¡Œæé†’ -iï¼šåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•æ—¶æé†’ç”¨æˆ·ç¡®è®¤ -rï¼šé€’å½’åˆ é™¤æ•´ä¸ªç›®å½•æ ‘ ä¾‹å­ï¼š rm -rf /root/ma/ ## ä¸æé†’é€’å½’åˆ é™¤æ•´ä¸ªç›®å½•ï¼Œæ…ç”¨æ…ç”¨æ…ç”¨ mv ç§»åŠ¨æ–‡ä»¶ å¦‚æœä¸æºæ–‡ä»¶ä½ç½®ä¸€æ ·ï¼Œåˆ™ç›¸å½“äºé‡å‘½å ä½¿ç”¨æ ¼å¼ï¼š mv [é€‰é¡¹]â€¦ æºæ–‡ä»¶æˆ–ç›®å½•â€¦ ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½• å¸¸ç”¨é€‰é¡¹ï¼š -fï¼šè‹¥ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•ä¸ç°æœ‰çš„æ–‡ä»¶æˆ–ç›®å½•é‡å¤ï¼Œåˆ™ç›´æ¥è¦†ç›–ç°æœ‰çš„æ–‡ä»¶æˆ–ç›®å½• -uï¼šå½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æˆ–è€…ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œæ‰æ‰§è¡Œç§»åŠ¨æ“ä½œ rmdir åˆ é™¤ç©ºæ–‡ä»¶å¤¹ å¸¸ç”¨é€‰é¡¹ï¼š -pæˆ–â€“parentsï¼šåˆ é™¤æŒ‡å®šç›®å½•åï¼Œè‹¥è¯¥ç›®å½•çš„ä¸Šå±‚ç›®å½•å·²å˜æˆç©ºç›®å½•ï¼Œåˆ™å°†å…¶ä¸€å¹¶åˆ é™¤ï¼› rmdir -p /root/aa/bb/cc/dd/ee åˆ é™¤æ–‡ä»¶å¤¹eeï¼Œå¦‚æœåˆ é™¤eeåï¼Œddå˜ä¸ºç©ºï¼Œåˆ™åˆ é™¤ddï¼Œä¾æ¬¡ç±»æ¨ cat è¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Š å¸¸ç”¨é€‰é¡¹ï¼š -næˆ–â€“numberï¼šç”±1å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å· cat /home/hadoop/data.txt ## æŸ¥çœ‹æ–‡ä»¶å†…å®¹ tac å€’åºè¾“å‡ºæ–‡ä»¶å†…å®¹ tac /home/hadoop/data.txt echo è¾“å‡ºæŒ‡å®šçš„å­—ç¬¦ä¸²æˆ–è€…å˜é‡ å¸¸ç”¨é€‰é¡¹ï¼š -eï¼šè‹¥å­—ç¬¦ä¸²ä¸­å‡ºç°ä»¥ä¸‹å­—ç¬¦ï¼Œåˆ™ç‰¹åˆ«åŠ ä»¥å¤„ç†ï¼Œè€Œä¸ä¼šå°†å®ƒå½“æˆä¸€èˆ¬æ–‡å­—è¾“å‡ºï¼š \a å‘å‡ºè­¦å‘Šå£°ï¼› \b åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦ï¼› \c æœ€åä¸åŠ ä¸Šæ¢è¡Œç¬¦å·ï¼› \f æ¢è¡Œä½†å…‰æ ‡ä»æ—§åœç•™åœ¨åŸæ¥çš„ä½ç½®ï¼› \n æ¢è¡Œä¸”å…‰æ ‡ç§»è‡³è¡Œé¦–ï¼› \r å…‰æ ‡ç§»è‡³è¡Œé¦–ï¼Œä½†ä¸æ¢è¡Œï¼› \t æ’å…¥tabï¼› \v ä¸\fç›¸åŒï¼› \ æ’å…¥\å­—ç¬¦ï¼› \nnn æ’å…¥nnnï¼ˆå…«è¿›åˆ¶ï¼‰æ‰€ä»£è¡¨çš„ASCIIå­—ç¬¦ï¼› ä¾‹å­ï¼š echo â€˜maâ€™ ## è¾“å‡ºma echo -e â€˜ma\nâ€™ ## æ‰“å°maä¹‹åæ¢è¡Œ echo -ne â€˜maâ€™ â€˜zhonghuaâ€™ ## æ‰“å°å®Œä¸æ¢è¡Œ echo â€˜maâ€™ &gt; ma.dat ## è¦†ç›– echo â€˜maâ€™ &gt;&gt; ma.dat ## è¿½åŠ  echo $PWD ## è¾“å‡ºå˜é‡å†…å®¹ head åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„å¼€å¤´è‹¥å¹²è¡Œ é»˜è®¤æ˜¾ç¤º10è¡Œ å¸¸ç”¨é€‰é¡¹ï¼š -n&lt;æ•°å­—&gt;ï¼šæŒ‡å®šæ˜¾ç¤ºå¤´éƒ¨å†…å®¹çš„è¡Œæ•°ï¼› ä¾‹å­ï¼š head -n 5 install.log ## æ˜¾ç¤ºè¯¥æ–‡ä»¶å‰äº”è¡Œå†…å®¹ tail åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„æœ«å°¾è‹¥å¹²è¡Œ å¸¸ç”¨é€‰é¡¹ï¼š -fï¼šæ˜¾ç¤ºæ–‡ä»¶æœ€æ–°è¿½åŠ çš„å†…å®¹ tail -f install.log ## æ˜¾ç¤ºæœ€æ–°è¿½åŠ çš„å†…å®¹ ## æ˜¾ç¤ºæ–‡ä»¶fileçš„æœ€å10è¡Œ tail -1 file ## æ˜¾ç¤ºæ–‡ä»¶fileæœ€åä¸€è¡Œçš„å†…å®¹ tail -c 10 file ## æ˜¾ç¤ºæ–‡ä»¶fileçš„æœ€å10ä¸ªå­—ç¬¦ more æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæ¯æ¬¡æ˜¾ç¤ºä¸€å± ä½¿ç”¨æ–¹å¼ï¼š æŒ‰Spaceé”®ï¼šæ˜¾ç¤ºæ–‡æœ¬çš„ä¸‹ä¸€å±å†…å®¹ã€‚ æŒ‰Enteré”®ï¼šåªæ˜¾ç¤ºæ–‡æœ¬çš„ä¸‹ä¸€è¡Œå†…å®¹ã€‚ æŒ‰hé”®ï¼šæ˜¾ç¤ºå¸®åŠ©å±ï¼Œè¯¥å±ä¸Šæœ‰ç›¸å…³çš„å¸®åŠ©ä¿¡æ¯ã€‚ æŒ‰bé”®ï¼šæ˜¾ç¤ºä¸Šä¸€å±å†…å®¹ã€‚ æŒ‰qé”®ï¼šé€€å‡ºmoreå‘½ä»¤ã€‚ less åˆ†å±ä¸Šä¸‹ç¿»é¡µæµè§ˆæ–‡ä»¶å†…å®¹ å’Œmoreä½¿ç”¨æ–¹å¼åŸºæœ¬ç±»ä¼¼ æŒ‰eé”®ï¼šå‘ä¸Šæ»šåŠ¨ä¸€è¡Œ æŒ‰yé”®ï¼šå‘ä¸‹æ»šåŠ¨ä¸€è¡Œ Gï¼šè·³åˆ°æ–‡ä»¶æœ«å°¾ ggï¼šè·³åˆ°æ–‡ä»¶é¦–è¡Œ ln ç”¨æ¥ä¸ºæ–‡ä»¶åˆ›ä»¶è¿æ¥ è½¯é“¾æ¥ -s å’Œ ç¡¬é“¾æ¥ ln /mnt/cdrom1 /var/www/html/centos/ â€”&gt;ç¡¬é“¾æ¥ ln -s /mnt/cdrom2 /var/www/html/centos/ â€“&gt;è½¯é“¾æ¥-ç¬¦å·é“¾æ¥ alias åˆ«å æŸ¥çœ‹åˆ«åï¼šalias å®šä¹‰åˆ«åï¼šalias la=&#39;ll -a å–æ¶ˆåˆ«åï¼šunalias la è½¯/ç¡¬ é“¾æ¥ç›¸å…³è½¯é“¾æ¥, ln -s æ–‡ä»¶/æ–‡ä»¶å¤¹ äº§ç”Ÿçš„é“¾æ¥ åˆ›å»ºæ–‡ä»¶çš„è½¯é“¾æ¥ 1ln -s /tmp/yum.log /root/yuntest åˆ›å»ºæ–‡ä»¶å¤¹çš„è½¯é“¾æ¥ 1234# åé¢çš„é“¾æ¥ä¸æŒ‡å®šåå­—, å°±é»˜è®¤ç”¨å‰é¢çš„æºæ–‡ä»¶/æ–‡ä»¶å¤¹åå­—ln -s /tmp /root ---lrwxrwxrwx. 1 root root 4 5æœˆ 29 20:53 tmp -&gt; /tmp å¦‚æœè½¯é“¾æ¥æ˜¯æŒ‡å‘ç›®å½•çš„è¯, æ˜¯å¯ä»¥ç›´æ¥cdè¿›å»çš„, cdè¿›å»çš„æ˜¯çœŸå®çš„ç›®å½•! 12pwd -P: æŸ¥çœ‹è½¯é“¾æ¥çš„çœŸå®æŒ‡å‘æŸç›®å½•(ç‰©ç†ç›®å½•)pwd -L: é€»è¾‘ç›®å½• ç¡¬é“¾æ¥, ln ä¸åŠ s, ä¸€èˆ¬ä¸ä¼šç”¨ ä¸èƒ½é“¾æ¥ç›®å½• ä¸èƒ½è·¨åˆ†åŒºåšç¡¬é“¾æ¥ å…¶å®ƒæœ‰ç”¨çš„å‘½ä»¤123456789101112131415161718manï¼šæ˜¾ç¤ºå‘½ä»¤å¸®åŠ©ä¿¡æ¯clearï¼šæ¸…å±ï¼Œæˆ–è€…æŒ‰ctrl + lä¹Ÿè¡Œctrl + cï¼šé€€å‡ºå½“å‰è¿›ç¨‹ctrl + zï¼šæŒ‚èµ·å½“å‰å‰å°è¿›ç¨‹whatisï¼šå‘½ä»¤æ˜¯ä»€ä¹ˆwhereisï¼šåœ¨æ ‡å‡†è·¯å¾„ä¸‹æœç´¢ä¸åç§°ç›¸å…³çš„æ–‡ä»¶ï¼Œwhereiså°†æ‰€æœ‰æœç´¢åˆ°çš„æ–‡ä»¶éƒ½æ˜¾ç¤ºwhichï¼šwhichåœ¨è®¾å®šçš„æœç´¢è·¯å¾„ä¸‹è¿›è¡Œç›®å½•æœç´¢ï¼Œåªæ˜¾ç¤ºæœç´¢åˆ°çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶suï¼šåˆ‡æ¢ç”¨æˆ·historyï¼šæ˜¾ç¤ºå†å²å‘½ä»¤hostnameï¼šæ˜¾ç¤ºä¸»æœºåsetï¼šæŸ¥çœ‹ç³»ç»Ÿå˜é‡getï¼šä¸‹è½½æ–‡ä»¶putï¼šä¸Šä¼ æ–‡ä»¶sudoï¼šä»¥rootç”¨æˆ·æƒé™æ‰§è¡Œä¸€æ¬¡å‘½ä»¤exitï¼šé€€å‡ºç™»å½•çŠ¶æ€wï¼šæ˜¾ç¤ºå½“å‰è¿æ¥çš„ç”¨æˆ·whoï¼šæ˜¾ç¤ºå½“å‰ä¼šè¯ä¿¡æ¯uptimeï¼šæŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´ ä½¿ç”¨å°æŠ€å·§(é‡ç‚¹)12345678910111213141516ctrl + uï¼šæ¸…é™¤å…‰æ ‡å‰çš„å‘½ä»¤ï¼Œç›¸å½“äºå‰ªåˆ‡ # !ctrl + kï¼šæ¸…é™¤å…‰æ ‡åçš„å‘½ä»¤ï¼Œç›¸å½“äºå‰ªåˆ‡ # !ctrl + yï¼šç²˜è´´ # !ctrl + tï¼šæŠŠå…‰æ ‡å‰é¢çš„é‚£ä¸ªå­—ç¬¦å¾€åæŒªåŠ¨ä¸€ä½ctrl + lï¼šæ¸…å±ctrl + a: ç§»åˆ°å‘½ä»¤è¡Œé¦– # !ctrl + e: ç§»åˆ°å‘½ä»¤è¡Œå°¾ # !ctrl + â† â†’: å…‰æ ‡ç§»åŠ¨ä¸€ä¸ªå•è¯ # !!!ï¼šæ‰§è¡Œä¸Šä¸€æ¬¡å‘½ä»¤ # !!$ï¼šä¸Šä¸ªå‘½ä»¤çš„æœ€åä¸€ä¸ªå•è¯ctrl + wï¼šåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå•è¯cd data; cat sed.txtï¼šè¡¨ç¤ºå…ˆæ‰§è¡Œcdï¼Œç„¶åæ‰§è¡Œcatï¼Œå·¥ä½œç›®å½•ä¼šåˆ‡æ¢(cd data; cat sed.txt)ï¼šè·Ÿä¸Šä¸ªå‘½ä»¤ç›¸æ¯”ï¼Œä¸åˆ‡æ¢å·¥ä½œç›®å½•|ï¼šç®¡é“ç¬¦ï¼Œè¡¨ç¤ºæŠŠå‰é¢å‘½ä»¤å†…å®¹çš„è¾“å‡ºå½“åšåé¢å‘½ä»¤çš„è¾“å…¥&gt;ï¼šè¡¨ç¤ºå†…å®¹è¦†ç›–&gt;&gt;ï¼šè¡¨ç¤ºå†…å®¹è¿½åŠ ]]></content>
      <categories>
        <category>Linux</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå­¦ä¹ ç¬”è®°-3]]></title>
    <url>%2F2018%2F05%2F25%2FLinux%2FLinux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3%2F</url>
    <content type="text"><![CDATA[1. ç³»ç»ŸæœåŠ¡ç®¡ç† æ£€æŸ¥æœ¬æœºhttpdæœåŠ¡æ˜¯å¦å¼€å¯, ä½¿ç”¨å‘½ä»¤service httpd status å¼€å¯/å…³é—­/é‡å¯ httpdæœåŠ¡ service httpd start/stop/restart æŸ¥çœ‹æ‰€æœ‰çš„æœåŠ¡çŠ¶æ€ service --status-all è¿‡æ»¤å‡ºæŸä¸ªæœåŠ¡service â€“status-all | grep httpd` é˜²ç«å¢™æœåŠ¡ sevice iptables status/stop/start/restart é…ç½®åå°æœåŠ¡è¿›ç¨‹å¼€æœºè‡ªå¯ 12345# å¼€å¯å¼€æœºè‡ªå¯httpè¿›ç¨‹-&gt; chkconfig httpd on# æŸ¥çœ‹httpdçš„å¼€æœºè‡ªå¯çŠ¶æ€-&gt; chkconfig --list | grep httpdhttpd 0:å…³é—­ 1:å…³é—­ 2:å¯ç”¨ 3:å¯ç”¨ 4:å¯ç”¨ 5:å¯ç”¨ 6:å…³é—­ ç¼ºçœç³»ç»Ÿè¿è¡Œçº§åˆ« 0 ä¸ºåœæœºï¼Œæœºå™¨å…³é—­ã€‚ 1 ä¸ºå•ç”¨æˆ·æ¨¡å¼ï¼Œå°±åƒWin9xä¸‹çš„å®‰å…¨æ¨¡å¼ç±»ä¼¼ã€‚ 2 ä¸ºå¤šç”¨æˆ·æ¨¡å¼ï¼Œä½†æ˜¯æ²¡æœ‰NFSæ”¯æŒã€‚ 3 ä¸ºå®Œæ•´çš„å¤šç”¨æˆ·æ¨¡å¼ï¼Œæ˜¯æ ‡å‡†çš„è¿è¡Œçº§ã€‚ 4 ä¸€èˆ¬ä¸ç”¨ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥ç”¨å®ƒæ¥åšä¸€äº›äº‹æƒ…ã€‚ä¾‹å¦‚åœ¨ç¬”è®°æœ¬ ç”µè„‘çš„ç”µæ± ç”¨å°½æ—¶ï¼Œå¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªæ¨¡å¼æ¥åšä¸€äº›è®¾ç½®ã€‚ 5 å°±æ˜¯X11ï¼Œè¿›åˆ°X Windowç³»ç»Ÿäº†ã€‚ 6 ä¸ºé‡å¯ï¼Œè¿è¡Œinit 6æœºå™¨å°±ä¼šé‡å¯ã€‚ Centosä¸­æ—¶åŒº å½“å‰æ­£åœ¨ä½¿ç”¨çš„æ—¶dåŒºæ–‡ä»¶ä½äº /etc/localtime å…¶ä»–æ—¶åŒºæ–‡ä»¶åˆ™ä½äº /usr/share/zoneinfo ä¸­å›½æ—¶åŒºä½¿ç”¨ /usr/share/zoneinfo/Asia/Shanghai æ›´æ”¹æ—¶åŒº cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime å¦‚æœæ²¡æœ‰ Asia/Shanghai æ—¶åŒºæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨tzselectå‘½ä»¤å»ç”Ÿæˆæ—¶åŒºæ–‡ä»¶ï¼Œç”Ÿæˆå¥½çš„æ—¶åŒºæ–‡ä»¶å°±åœ¨ /usr/share/zoneinfoç›®å½•ä¸‹ ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ date : ç›´æ¥æŸ¥çœ‹æ—¶é—´ date -s : æ‰‹åŠ¨è®¾ç½®æ—¶é—´ ntpdate time.windows.www : åŒæ­¥æ—¶é—´æœåŠ¡å™¨æ—¶é—´ 2. ç®€å•ç£ç›˜ç®¡ç† dfï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡ -h äººæ€§åŒ–çš„åˆ—å‡ºæ–‡ä»¶çš„å¤§å°ç­‰ 123-&gt; # df -h /dev/sr0Filesystem Size Used Avail Use% Mounted on/dev/sr0 3.7G 3.7G 0 100% /media/cdrom duï¼šæ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡ fdiskï¼šç”¨äºç£ç›˜åˆ†åŒº 3. æ–‡ä»¶çš„åŸºæœ¬å±æ€§å‰ç¼€çš„å«ä¹‰ 1234567# æŸ¥çœ‹ç›®å½•çš„æƒé™-&gt; # ll -d /var/www/html/localyum ls -ld ä¹Ÿæ˜¯ä¸€æ ·, æŸ¥çœ‹ç›®å½•çš„æƒé™drwxr-xr-x. 7 root root 4096 5æœˆ 25 07:50 autojump-rw-r--r--. 1 root root 50434 5æœˆ 23 10:11 install.loglrwxrwxrwx. 1 root root 13 5æœˆ 25 21:04 localyum -&gt; /media/cdrom/ å½“ä¸º[ d ]åˆ™æ˜¯ç›®å½• å½“ä¸º[ - ]åˆ™æ˜¯æ–‡ä»¶ï¼› è‹¥æ˜¯[ l ]åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£(link file)ï¼› è‹¥æ˜¯[ b ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡(å¯éšæœºå­˜å–è£…ç½®)ï¼› è‹¥æ˜¯[ c ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡(ä¸€æ¬¡æ€§è¯»å–è£…ç½®); rã€wã€x å¯¹äºæ–‡ä»¶å’Œç›®å½•çš„å«ä¹‰ æƒé™ å¯¹æ–‡ä»¶çš„å«ä¹‰ å¯¹ç›®å½•çš„å«ä¹‰ r è¯»æƒé™ å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ å¯ä»¥åˆ—å‡ºç›®å½•ä¸­çš„å†…å®¹ w å†™æƒé™ å¯ä»¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ å¯ä»¥å†ç›®å½•ä¸­åˆ›å»ºã€åˆ é™¤æ–‡ä»¶ x æ‰§è¡Œæƒé™ å¯ä»¥æ‰§è¡Œæ–‡ä»¶ å¯ä»¥è¿›å…¥ç›®å½• 4. è½¯ä»¶å®‰è£… TODO1. äºŒè¿›åˆ¶å‘å¸ƒåŒ…å®‰è£… TODO:è½¯ä»¶å·²ç»é’ˆå¯¹å…·ä½“å¹³å°ç¼–è¯‘æ‰“åŒ…å‘å¸ƒï¼Œåªè¦è§£å‹ï¼Œä¿®æ”¹é…ç½®å³å¯ å®‰è£…jdk , å®‰è£…tomcatä¹Ÿä¸€æ · TODO: é€šè¿‡ ftpå·¥å…·æŠŠ jdkä¼ åˆ° linuxæœåŠ¡å™¨ åˆ›å»ºä¸€ä¸ª /var/www/html/soft/jdk8 çš„è½¯é“¾æ¥, æŒ‡å‘æœåŠ¡å™¨ä¸­çš„å®‰è£…åŒ… â€”â€” è¿™ä¸€æ­¥å¤±è´¥äº†, å…ˆæç½®æŠŠ, å…ˆcopyè¿‡å». 2. æºç ç¼–è¯‘å®‰è£… TODO:è½¯ä»¶ä»¥æºç å·¥ç¨‹çš„å½¢å¼å‘å¸ƒï¼Œéœ€è¦è·å–åˆ°æºç å·¥ç¨‹åç”¨ç›¸åº”å¼€å‘å·¥å…·è¿›è¡Œç¼–è¯‘æ‰“åŒ…éƒ¨ç½² å®‰è£…/å¸è½½ redis å¸è½½: é¦–å…ˆæŸ¥çœ‹redis-serveræ˜¯å¦å¯åŠ¨ ps aux | grep redis æœ‰çš„è¯, å…³é—­è¿™äº›è¿›ç¨‹ kill -9 è¿›ç¨‹pid åˆ é™¤redisç›¸åº”çš„æ–‡ä»¶å¤¹å°±å¯ä»¥äº†ã€‚ find / -name redis å®‰è£…: æ‹·è´åˆ°/usr/local, è§£å‹, åˆ æ‰åŸå®‰è£…åŒ… 12tar -zxvf redis-3.0.0.tar.gz rm redis-3.0.0.tar.gz æ£€æŸ¥è¿è¡Œç¯å¢ƒ 123# æ£€æµ‹ä¸€ä¸‹æ˜¯å¦å¯ä»¥å®‰è£…makemake test å®‰è£…åˆ°æŒ‡å®šç›®å½• 1make PREFIX=/root/apps/redis install æ‹·è´é…ç½®ä¿¡æ¯ 1cp /usr/local/redis-3.0.0/redis.conf /usr/local/redis/bin å¯åŠ¨ å‰ç«¯æ¨¡å¼ bin/redis-server åç«¯æ¨¡å¼å¯åŠ¨ ä¿®æ”¹redis.confé…ç½®æ–‡ä»¶ï¼Œdaemonize yes` ä»¥åç«¯æ¨¡å¼å¯åŠ¨ : TODO 3. RPMå‘å¸ƒåŒ…è½¯ä»¶å·²ç»æŒ‰ç…§RedHatï¼ˆRedhat Package Managerï¼‰çš„åŒ…ç®¡ç†å·¥å…·è§„èŒƒRPMè¿›è¡Œæ‰“åŒ…å‘å¸ƒï¼Œéœ€è¦è·å–åˆ°ç›¸åº”çš„è½¯ä»¶RPMå‘å¸ƒåŒ…ï¼Œç„¶åç”¨rpmå‘½ä»¤è¿›è¡Œå®‰è£… Mysqlå®‰è£… 1234567891011121314151617181920# rpmå®‰è£…å‘½ä»¤1ã€å®‰è£…åŒ…ï¼šrpm -ivh åŒ…åå‚æ•°ï¼š-i ï¼šå®‰è£…çš„æ„æ€-v ï¼šå¯è§†åŒ–-h ï¼šæ˜¾ç¤ºå®‰è£…è¿›åº¦å¦å¤–åœ¨å®‰è£…ä¸€ä¸ªrpmåŒ…æ—¶å¸¸ç”¨çš„é™„å¸¦å‚æ•°æœ‰ï¼š--force å¼ºåˆ¶å®‰è£…ï¼Œå³ä½¿è¦†ç›–å±äºå…¶ä»–åŒ…çš„æ–‡ä»¶ä¹Ÿè¦å®‰è£…--nodeps å½“è¦å®‰è£…çš„rpmåŒ…ä¾èµ–å…¶ä»–åŒ…æ—¶ï¼Œå³ä½¿å…¶ä»–åŒ…æ²¡æœ‰å®‰è£…ï¼Œä¹Ÿè¦å®‰è£…è¿™ä¸ªåŒ…2ã€å‡çº§åŒ…ï¼šrpm -Uvh filename-U å‡çº§3ã€å¸è½½åŒ…rpm -e filename ï¼ˆè¿™é‡Œçš„filenameæ˜¯é€šè¿‡rpmçš„æŸ¥è¯¢åŠŸèƒ½æ‰€æŸ¥è¯¢åˆ°çš„ï¼‰4ã€æŸ¥è¯¢ä¸€ä¸ªåŒ…æ˜¯å¦å®‰è£…ï¼šrpm -q åŒ…åï¼ˆè¿™é‡Œçš„åŒ…åï¼Œæ˜¯ä¸å¸¦æœ‰å¹³å°ä¿¡æ¯ä»¥åŠåç¼€åçš„ï¼‰5.æŸ¥è¯¢å½“å‰å®‰è£…çš„æ‰€æœ‰rpmåŒ…ï¼šrpm -qaæŸ¥è¯¢å½“å‰å®‰è£…çš„å’Œsqlç›¸å…³çš„åŒ…ï¼šrpm -qa | grep 'sql'æŸ¥è¯¢sqliteå®‰è£…è·¯å¾„ï¼šrpm -ql sqlite 5. è®¾ç½®æœ¬åœ°/ç½‘ç»œyumæº é¦–å…ˆæ£€æŸ¥è™šæ‹Ÿæœºçš„ CD/DVDé©±åŠ¨å™¨æ˜¯å¦æœ‰æŒ‚è½½isoé•œåƒæ–‡ä»¶ æ‰¾åˆ°æŒ‚è½½æºçš„ä½ç½® åœ¨ /dev/sr0ä¸‹, å°†å…¶æŒ‚è½½åˆ°/mntä¸‹åˆ›å»ºçš„cdromæ–‡ä»¶å¤¹ä¸‹ mount -t iso9660 -o ro /dev/sr0 /media/cdrom é…ç½®å¼€æœºæŒ‚è½½ , vi /etc/fstab, å¢åŠ ä¸€è¡Œ /dev/cdrom /media/cdrom iso9660 defaults 0 0 åˆ›å»ºè½¯è¿æ¥, è®¾ç½®å¯ä»¥é€šè¿‡webè®¿é—® ln -s /mnt/cdrom/ /var/www/html/yumsorurce ä¿®æ”¹etc/yum.repos.dä¸­çš„æ–‡ä»¶entOS-Media.repoä¸­çš„enabled=1, å¼€å¯ä»æœ¬åœ°å¯»æ‰¾, å› ä¸ºæ–‡ä»¶ä¸­, åŸæœ¬å°±é…ç½®äº†baseurl: file:///media/cdrom/, è€Œæˆ‘ä»¬è‡ªå·±åˆ›å»ºäº†media/cdromè¿™ä¸ªç›®å½•, æ‰€ä»¥å°±å¯ä»¥ä»è¿™é‡Œé¢è¯»å–äº† æ‰§è¡Œyum repolist, å‘ç°å·²ç»èƒ½è¯»å–å‡ºmediaä¸­çš„repoäº†, å¤§åŠŸå‘Šæˆ c6-media CentOS-6 - Media 6,575 tips: ä¸ªäººè§‰å¾—è¿˜æ˜¯é…ç½®ä¸ªç½‘ç»œæºæ¯”è¾ƒå¥½, æ¯”å¦‚163/é˜¿é‡Œçš„. 12345678910111213141516171819# æ“ä½œæ­¥éª¤# 1.å¤‡ä»½åŸæ¥çš„Baseæºcd /etc/yum.repos.d/mv CentOS-Base.repo CentOS-Base.repo_bak# 2. ä¸‹è½½ç½‘æ˜“/é˜¿é‡Œæº åˆ°/etc/yum.repos.dä¸‹, æ›¿æ¢æ‰åŸæœ¬çš„# ç½‘æ˜“æºwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS6-Base-163.repo# é˜¿é‡Œæºwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repoyum clean allyum makecache# yumä½¿ç”¨yum update ô»¦ô»§ô·‰ô·Šå‡çº§ç³»ç»Ÿyum install -y xxx ç›´æ¥å®‰è£…, ä¸ç”¨ç¡®è®¤ô»ˆyum update ~ ô»¦ô»§ô¸»ô¹ºô·œ å‡çº§æŒ‡å®šè½¯ä»¶åŒ…yum remove ~ ôºŒô·ô¸»ô¹ºô·œô·• å¸è½½æŒ‡å®šè½¯ä»¶ æŒ‚è½½, é…ç½®æºçš„å…¶ä»–è¯´æ˜ 12345678910111213141516171819202122232425# å…³äºæŒ‚è½½# lrwxrwxrwx. 1 root root 3 5æœˆ 25 16:47 cdrom -&gt; sr0cdromå…¶å®æ˜¯sr0çš„è½¯é“¾æ¥, å› æ­¤ç›´æ¥æ‰¾sr0å³å¯# æŒ‚è½½çš„åŸºæœ¬è¯­æ³•mont -t iso9660 -o ro(åªè¯») /dev/sr0 /mnt/cdrom (æŒ‚è½½ç±»å‹) (æŒ‚è½½æ–¹å¼) (æŒ‚è½½æº) (æŒ‚è½½ç‚¹)# å¸è½½çš„è¯­æ³•umount /mnt/cdrom å¦‚æœå¸è½½æ—¶é‡åˆ° umount: /mnt/cdrom: device is busy.è§£å†³æ–¹å¼: 1. æŸ¥æ‰¾å“ªä¸ªè¿›ç¨‹åœ¨ç”¨: fuser /mnt/cdrom 2. æŸ¥æ‰¾è¿›ç¨‹: ps -ef | grep è¿›ç¨‹å· 3. æ’æ­»è¿›ç¨‹: kill -9 è¿›ç¨‹å·, å¦‚æœæ˜¯rootç”¨æˆ·, å¯èƒ½ä¼šæ–­å¼€è¿æ¥, éœ€è¦é‡è¿ 4. ç„¶åç»§ç»­ umount, å¦‚æœä¸è¡Œ, å°±å¼ºåˆ¶å¸è½½ umount -f /mnt/cdrom# å…³äºetc/yum.repos.d ä¸­æ–‡ä»¶çš„è¯´æ˜ CentOS-Base.repoï¼šæœ‰ç½‘çš„ç¯å¢ƒä¸‹é»˜è®¤ä½¿ç”¨è¿™ä¸ªï¼Œè¿™ä¸ªæ˜¯ç¬¬ä¸€ä¼˜å…ˆçº§ã€‚å› ä¸ºæ²¡ç½‘ï¼Œæ‰€ä»¥ä¿®æ”¹æ–‡ä»¶åï¼Œè®¾ç½®æˆå¤‡ä»½æ–‡ä»¶ã€‚è¿™æ ·ç³»ç»Ÿå°±ä¼šä½¿ç”¨ç¬¬äºŒä¼˜å…ˆçº§çš„æ–‡ä»¶ã€‚ CentOS-Media.repoï¼šæ²¡ç½‘çš„ç¯å¢ƒä¸‹ä½¿ç”¨è¿™ä¸ªï¼Œåœ¨ä¸Šå›¾ä¸­ä¼šå‘ç°ä»–é»˜è®¤é…ç½®äº†4ä¸ªè·¯å¾„ï¼Œç¬¬4ä¸ªyumsourceæ˜¯æˆ‘è‡ªå·±åŠ çš„ã€‚æ„æ€æ˜¯è¯´ï¼Œå¦‚æœç³»ç»Ÿæ£€æµ‹yumä½¿ç”¨äº†ç¦»çº¿å®‰è£…ï¼Œé‚£ä¹ˆä¼šä»ä¸Šåˆ°ä¸‹ä»è¿™4ä¸ªè·¯å¾„ä¸­æŸ¥æ‰¾å®‰è£…è½¯ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬åªè¦æŠŠå…‰ç›˜æŒ‚è½½åœ¨è¿™å››ä¸ªç›®å½•ä¸‹çš„ä»»æ„ä¸€ä¸ªç›®å½•å³å¯ã€‚åŒæ—¶ï¼Œè¯¥é…ç½®æ–‡ä»¶é»˜è®¤æ˜¯ä¸å¯ç”¨çš„ï¼Œå¦‚æœæƒ³ä½¿ç”¨éœ€è¦ä¿®æ”¹å€’æ•°ç¬¬äºŒè¡Œçš„enabledä¸º1ï¼Œå¦åˆ™è¯¥æ–‡ä»¶æ— æ•ˆã€‚ # /mnt &amp; /media ç›®å½•çš„åŒºåˆ«mediaï¼šæŒ‚è½½ä¸€äº›ç§»åŠ¨è®¾å¤‡ï¼Œä¾‹å¦‚å…‰ç›˜ï¼ŒUç›˜ç­‰ã€‚mntï¼š æŒ‚è½½ä¸€äº›ç¡¬ç›˜ç­‰è®¾å¤‡ã€‚æ‰€ä»¥æˆ‘ä»¬çš„å…‰ç›˜åº”è¯¥æŒ‚è½½åœ¨mediaç›®å½•ä¸‹ï¼Œä»yumç»™çš„é»˜è®¤é…ç½®æ–‡ä»¶ä¹Ÿèƒ½çœ‹å‡ºã€‚ 6. è¿›ç¨‹ç›¸å…³1. pså‘½ä»¤pså‘½ä»¤ç”¨äºæŠ¥å‘Šå½“å‰ç³»ç»Ÿçš„è¿›ç¨‹çŠ¶æ€ã€‚å¯ä»¥æ­é…killæŒ‡ä»¤éšæ—¶ä¸­æ–­ã€åˆ é™¤ä¸å¿…è¦çš„ç¨‹åºã€‚ å¸¸ç”¨é€‰é¡¹åŒ…æ‹¬ï¼š 123456ps -1ã€-aæ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·çš„è¿›ç¨‹2ã€-uæ˜¾ç¤ºç”¨æˆ·åå’Œå¯åŠ¨æ—¶é—´3ã€-xæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼ŒåŒ…æ‹¬æ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹4ã€-eæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼ŒåŒ…æ‹¬æ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼Œè¾ƒxé€‰é¡¹ï¼Œä¿¡æ¯æ›´ä¸ºç®€ç•¥5ã€-læ˜¾ç¤ºè¿›ç¨‹è¯¦ç»†ä¿¡æ¯ï¼ŒæŒ‰é•¿æ ¼å¼æ˜¾ç¤º å¸¸ç”¨ç»„åˆ ps -au æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·è¿›ç¨‹ï¼Œå¹¶ç»™å‡ºç”¨æˆ·åå’Œå¯åŠ¨æ—¶é—´ç­‰è¯¦ç»†ä¿¡æ¯ ps -aux æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·è¿›ç¨‹ï¼ŒåŒ…æ‹¬æ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼Œå¹¶ç»™å‡ºç”¨æˆ·å’Œå’Œå¯åŠ¨åŸ‹å•ç­‰è¯¦ç»†ä¿¡æ¯ ps -el æŒ‰é•¿æ ¼å¼æ˜¾ç¤ºè¿›ç¨‹è¯¦ç»†ä¿¡æ¯ 1234567891011121314151617181920212223242526272829303132# ä¸Šè¿°å‘½ä»¤å¯èƒ½å‡ºç°çš„å­—æ®µå«ä¹‰USER: è¿›ç¨‹æ‰€æœ‰è€…PID: è¿›ç¨‹å·PPID: è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ID%CPU: CPUå ç”¨ç‡C: è¿›ç¨‹çš„CPUå ç”¨ç‡%MEM: å†…å­˜å ç”¨ç‡VSZ: è¡¨ç¤ºå¦‚æœä¸€ä¸ªç¨‹åºå®Œå…¨é©»ç•™åœ¨å†…å­˜çš„è¯éœ€è¦å ç”¨å¤šå°‘å†…å­˜ç©ºé—´;RSS: æŒ‡æ˜äº†å½“å‰å®é™…å ç”¨äº†å¤šå°‘å†…å­˜;TTY: ç»ˆç«¯çš„æ¬¡è¦è£…ç½®å·ç  (minor device number of tty)Fï¼šè¿›ç¨‹çš„æ ‡å¿—Sï¼šè¿›ç¨‹çš„çŠ¶æ€STAT: è¯¥è¿›ç¨‹ç¨‹çš„çŠ¶æ€ï¼Œæœ‰ä»¥ä¸‹å€¼D: ä¸å¯ä¸­æ–­çš„é™æ­¢R: æ­£åœ¨æ‰§è¡Œä¸­S: é™æ­¢çŠ¶æ€T: æš‚åœæ‰§è¡ŒZ: ä¸å­˜åœ¨ä½†æš‚æ—¶æ— æ³•æ¶ˆé™¤W: æ²¡æœ‰è¶³å¤Ÿçš„è®°å¿†ä½“åˆ†é¡µå¯åˆ†é…&lt;: é«˜ä¼˜å…ˆåºçš„è¿›ç¨‹N: ä½ä¼˜å…ˆåºçš„è¿›ç¨‹L: æœ‰è®°å¿†ä½“åˆ†é¡µåˆ†é…å¹¶é”åœ¨è®°å¿†ä½“å†…PRIï¼šè¿›ç¨‹çš„ä¼˜å…ˆæƒNIï¼šè¿›ç¨‹çš„Niceå€¼ADDRï¼šè¿›ç¨‹çš„åœ°å€ç©ºé—´SZï¼šè¿›ç¨‹å ç”¨å†…å­˜çš„å¤§å°WCHANï¼šè¿›ç¨‹å½“å‰æ˜¯å¦åœ¨è¿è¡ŒTTYï¼šè¿›ç¨‹æ‰€å±ç»ˆç«¯START: è¿›ç¨‹å¼€å§‹æ—¶é—´TIME: æ‰§è¡Œçš„è¿è¡Œæ—¶é—´COMMANDï¼šæ‰€æ‰§è¡Œçš„æŒ‡ä»¤CMDï¼šè¿›ç¨‹çš„å‘½ä»¤ 2. kill / pidof / pkill å‘½ä»¤æœ‰æ—¶å€™æŸä¸ªè¿›ç¨‹å¯èƒ½ä¼šé•¿æœŸå ç”¨CPUèµ„æºæˆ–æ— æ³•æ­£å¸¸æ‰§è¡Œæˆ–è¶…å‡ºè¿è¡Œæ—¶é—´ç­‰ï¼Œæ­¤æ—¶å¯èƒ½å¸Œæœ›äººå·¥å¹²é¢„ç›´æ¥å°†è¿›ç¨‹æ€æ­»ï¼Œè¿™æ—¶å€™killå‘½ä»¤å¯ä»¥æ´¾ä¸Šç”¨åœº 12341ã€kill pid ç›´æ¥æ€æ­»è¿›ç¨‹ï¼Œä½†ä¸èƒ½ä¿è¯ä¸€å®šèƒ½æ€æ­»2ã€kill -9 pid å¼ºåˆ¶æ€æ­»è¿›ç¨‹3ã€pidofå‘½ä»¤ç”¨äºæŸ¥çœ‹æŸä¸ªè¿›ç¨‹çš„è¿›ç¨‹å·ï¼ˆä¾‹å¦‚ï¼špidof mysqldï¼‰4ã€pkillå‘½ä»¤å¯ä»¥æŒ‰ç…§è¿›ç¨‹åæ€æ­»è¿›ç¨‹ã€‚pkillå’Œkillallåº”ç”¨æ–¹æ³•å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ç›´æ¥æ€æ­»è¿è¡Œä¸­çš„ç¨‹åºï¼›å¦‚æœæ‚¨æƒ³æ€æ‰å•ä¸ªè¿›ç¨‹ï¼Œè¯·ç”¨killæ¥æ€æ‰ 3. è¿›ç¨‹åˆ‡æ¢å‰å°è¿›ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹åœ¨æ‰§è¡Œæ—¶ä¼šå°†å‘½ä»¤è¡Œé˜»å¡ï¼Œç›´åˆ°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ï¼›åå°è¿›ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹åœ¨æ‰§è¡Œæ—¶ä¸ä¼šé˜»å¡å½“å‰å‘½ä»¤è¡Œï¼Œè€Œæ˜¯åœ¨ç³»ç»Ÿåå°æ‰§è¡Œ 123451ã€ctrl + c ç»ˆæ­¢è¿›ç¨‹2ã€ctrl + z æŒ‚èµ·è¿›ç¨‹3ã€fgå‘½ä»¤å°†è¿›ç¨‹è½¬æ¢åˆ°å‰å°æ‰§è¡Œ4ã€bgå‘½ä»¤å°†è¿›ç¨‹è½¬æ¢åˆ°åå°æ‰§è¡Œ5ã€jobså‘½ä»¤æŸ¥çœ‹ä»»åŠ¡ 4. topå‘½ä»¤top å‘½ä»¤å¯ä»¥å®šæœŸæ˜¾ç¤ºæ‰€æœ‰æ­£åœ¨è¿è¡Œå’Œå®é™…è¿è¡Œå¹¶ä¸”æ›´æ–°åˆ°åˆ—è¡¨ä¸­ï¼Œå®ƒæ˜¾ç¤ºå‡º CPU çš„ä½¿ç”¨ã€å†…å­˜çš„ä½¿ç”¨ã€äº¤æ¢å†…å­˜ã€ç¼“å­˜å¤§å°ã€ç¼“å†²åŒºå¤§å°ã€è¿‡ç¨‹æ§åˆ¶ã€ç”¨æˆ·å’Œæ›´å¤šå‘½ä»¤ã€‚å®ƒä¹Ÿä¼šæ˜¾ç¤ºå†…å­˜å’Œ CPU ä½¿ç”¨ç‡è¿‡é«˜çš„æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚ æŒ‰qé”®é€€å‡ºæŸ¥çœ‹. 5. pstreeå‘½ä»¤å°†è¿›ç¨‹é—´çš„å…³ç³»ä»¥æ ‘ç»“æ„çš„å½¢å¼å±•ç¤ºï¼Œèƒ½æ¸…æ¥šçœ‹å„è¿›ç¨‹ä¹‹é—´çš„çˆ¶å­å…³ç³» 12pstree ï¼šä»¥æ ‘çŠ¶å½¢å¼æ˜¾ç¤ºè¿›ç¨‹pstree -p ï¼š ä»¥æ ‘çŠ¶å½¢å¼æ˜¾ç¤ºè¿›ç¨‹ï¼Œå¹¶ä¸”æ˜¾ç¤ºè¿›ç¨‹å· 6. JPSå‘½ä»¤JPSå‘½ä»¤æ˜¯JDKæä¾›çš„ä¸€ä¸ªæ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å¯åŠ¨äº†JVMè¿›ç¨‹çš„ä¸€ä¸ªè¿›ç¨‹ã€‚ä¸æ˜¯linuxç³»ç»Ÿè‡ªå¸¦çš„ã€‚ä¸»è¦ä»»åŠ¡å°±æ˜¯ç”¨æ¥æ£€æŸ¥javaè¿›ç¨‹çš„ã€‚ 7. è®¡åˆ’ä»»åŠ¡æ¦‚å¿µè®¡åˆ’ä»»åŠ¡åœ¨Linuxçš„ä½“ç°ä¸»è¦åˆ†ä¸ºatå’Œcrontabï¼Œå…¶ä¸­ï¼š atï¼šé€šè¿‡atå‘½ä»¤å®‰æ’ä»»åŠ¡åœ¨æŸä¸€æ—¶åˆ»æ‰§è¡Œä¸€æ¬¡ crontabï¼šé€šè¿‡crontab å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›ºå®šçš„é—´éš”æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell scriptè„šæœ¬ã€‚æ—¶é—´é—´éš”çš„å•ä½å¯ä»¥æ˜¯åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨åŠä»¥ä¸Šçš„ä»»æ„ç»„åˆã€‚è¿™ä¸ªå‘½ä»¤éå¸¸é€‚åˆå‘¨æœŸæ€§çš„æ—¥å¿—åˆ†ææˆ–æ•°æ®å¤‡ä»½ç­‰å·¥ä½œã€‚ å‘½ä»¤æœåŠ¡ç®¡ç†crontabåœ¨CentOSç³»ç»Ÿä¸Šï¼ŒcrontabæœåŠ¡çš„åç§°å«åšcrond å®‰è£… yum -y install crontabs æœåŠ¡æ“ä½œè¯´æ˜ 1234567891011service crond start #å¯åŠ¨æœåŠ¡service crond stop #å…³é—­æœåŠ¡service crond restart #é‡å¯æœåŠ¡service crond reload #é‡æ–°è½½å…¥é…ç½®service crond status #æœåŠ¡çŠ¶æ€#æŸ¥çœ‹crontabæœåŠ¡æ˜¯å¦å·²è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šchkconfig --list#åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼šchkconfig --level 35 crond on crontabåŠŸèƒ½ä½¿ç”¨ å‘½ä»¤æ ¼å¼ 123456789101112131415161718192021222324252627282930313233crontab [-u user] filecrontab [-u user] [ -e | -l | -r ]# crontab å‚æ•°è¯´æ˜ï¼š-u userï¼šç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„crontabæœåŠ¡ï¼Œä¾‹å¦‚ï¼Œâ€-u ixdbaâ€è¡¨ç¤ºè®¾å®šixdbaç”¨æˆ·çš„crontabæœåŠ¡ï¼Œæ­¤å‚æ•°ä¸€èˆ¬æœ‰rootç”¨æˆ·æ¥è¿è¡Œã€‚fileï¼šfileæ˜¯å‘½ä»¤æ–‡ä»¶çš„åå­—,è¡¨ç¤ºå°†fileåšä¸ºcrontabçš„ä»»åŠ¡åˆ—è¡¨æ–‡ä»¶å¹¶è½½å…¥crontabã€‚-eï¼šç¼–è¾‘æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ã€‚-lï¼šæ˜¾ç¤ºæŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚-rï¼šåˆ é™¤å®šæ—¶ä»»åŠ¡é…ç½®ï¼Œä»/var/spool/cronç›®å½•ä¸­åˆ é™¤æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ã€‚-iï¼šåœ¨åˆ é™¤ç”¨æˆ·çš„crontabæ–‡ä»¶æ—¶ç»™ç¡®è®¤æç¤ºã€‚# å‘½ä»¤ç¤ºä¾‹ï¼šcrontab file [-u user] ## ç”¨æŒ‡å®šçš„æ–‡ä»¶æ›¿ä»£ç›®å‰çš„crontabã€‚ # å¿…é¡»æŒæ¡ï¼šcrontab -l [-u user] ## åˆ—å‡ºç”¨æˆ·ç›®å‰çš„crontab. crontab -e [-u user] ## ç¼–è¾‘ç”¨æˆ·ç›®å‰çš„crontab.# é€šè¿‡crontabæ·»åŠ çš„è®¡åˆ’ä»»åŠ¡éƒ½ä¼šå­˜å‚¨åœ¨/var/spool/cron/ç›®å½•é‡Œ# æŸ¥çœ‹å½“å‰æœåŠ¡çŠ¶æ€service crond status# æ“ä½œæœåŠ¡/sbin/service crond start //å¯åŠ¨æœåŠ¡/sbin/service crond stop //å…³é—­æœåŠ¡/sbin/service crond restart //é‡å¯æœåŠ¡/sbin/service crond reload //é‡æ–°è½½å…¥é…ç½®# æŸ¥çœ‹å¼€æœºå¯åŠ¨æœåŠ¡ntsysv # é€€å‡ºæ—¶, æŒ‰tabåˆ‡æ¢# åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨chkconfig â€“level 35 crond on é…ç½®è¯´æ˜ 123456789101112131415161718# åŸºæœ¬æ ¼å¼ : * * * * * command åˆ† æ—¶ æ—¥ æœˆ å‘¨ å‘½ä»¤ # æ¯ä¸ªå°æ—¶çš„ç¬¬å‡ åˆ†é’Ÿæ‰§è¡Œè¯¥ä»»åŠ¡. å…¶å®ƒçš„ç±»ä¼¼ç¬¬1åˆ—è¡¨ç¤ºåˆ†é’Ÿ1ï½59 æ¯åˆ†é’Ÿç”¨*æˆ–è€… */1è¡¨ç¤º ç¬¬2åˆ—è¡¨ç¤ºå°æ—¶0ï½23ï¼ˆ0è¡¨ç¤º0ç‚¹ï¼‰ 7-9è¡¨ç¤ºï¼š8ç‚¹åˆ°10ç‚¹ä¹‹é—´ç¬¬3åˆ—è¡¨ç¤ºæ—¥æœŸ1ï½31 ç¬¬4åˆ—è¡¨ç¤ºæœˆä»½1ï½12 ç¬¬5åˆ—æ ‡è¯†å·æ˜ŸæœŸ0ï½6ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰ ç¬¬6åˆ—è¦è¿è¡Œçš„å‘½ä»¤# è®°ä½å‡ ä¸ªç‰¹æ®Šç¬¦å·çš„å«ä¹‰:â€œ*â€ä»£è¡¨å–å€¼èŒƒå›´å†…çš„æ•°å­—,â€œ/â€ä»£è¡¨â€æ¯â€,â€œ-â€ä»£è¡¨ä»æŸä¸ªæ•°å­—åˆ°æŸä¸ªæ•°å­—,â€œ,â€åˆ†å¼€å‡ ä¸ªç¦»æ•£çš„æ•°å­— é…ç½®ç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233# * * * * * command # åˆ† æ—¶ æ—¥ æœˆ å‘¨ å‘½ä»¤ */1 * * * * date &gt;&gt; /root/date.txtä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºæ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡dateå‘½ä»¤å¯ç”¨ tail -fæŸ¥çœ‹30 21 * * * /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºæ¯æ™šçš„21:30é‡å¯apache45 4 1,10,22 * * /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºæ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯apache10 1 * * 6,0 /usr/local/etc/rc.d/httpd restart ä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºæ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯apache0,30 18-23 * * * /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºåœ¨æ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯apache0 23 * * 6 /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºæ¯æ˜ŸæœŸå…­çš„11 : 00 pmé‡å¯apache* */1 * * * /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­æ¯ä¸€å°æ—¶é‡å¯apache* 23-7/1 * * * /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯apache0 11 4 * mon-wed /usr/local/etc/rc.d/httpd restartä¸Šé¢çš„ä¾‹å­æ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯apache0 4 1 jan * /usr/local/etc/rc.d/httpd restart ä¸Šé¢çš„ä¾‹å­ä¸€æœˆä¸€å·çš„4ç‚¹é‡å¯apache æ›´è¯¦ç»†çš„è§è¿™é‡Œ 8. Linuxè™šæ‹Ÿä¸»æœºé›†ç¾¤æµ‹è¯•ç¯å¢ƒåŸºæœ¬æ­å»º æ³¨æ„ç‚¹: é¦–æ¬¡ä½¿ç”¨ NAT æ¨¡å¼è£…å¥½CentOSä¹‹å, ä½¿ç”¨ifconfigæŸ¥çœ‹ip, è™šæ‹Ÿæœºæ˜¯æ²¡æœ‰ipçš„, éœ€è¦æ‰‹åŠ¨å¼€å¯ipæœåŠ¡, å‘½ä»¤æ˜¯ dhclient, å¦‚æœå·²å¼€å¯å°±ä¸èƒ½å†æ¬¡å¼€å¯ 1. ç¬¬ä¸€å°è™šæ‹Ÿä¸»æœºçš„é™æ€ipé…ç½®(é’ˆå¯¹äºmacç¯å¢ƒ) æ‰§è¡Œifconfigå‘½ä»¤, å¦‚ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667shixuanji@x:~|â‡’ ifconfiglo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384 options=1203&lt;RXCSUM,TXCSUM,TXSTATUS,SW_TIMESTAMP&gt; inet 127.0.0.1 netmask 0xff000000 inet6 ::1 prefixlen 128 inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1 nd6 options=201&lt;PERFORMNUD,DAD&gt;gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280stf0: flags=0&lt;&gt; mtu 1280EHC29: flags=0&lt;&gt; mtu 0EHC26: flags=0&lt;&gt; mtu 0XHC20: flags=0&lt;&gt; mtu 0en0: flags=8823&lt;UP,BROADCAST,SMART,SIMPLEX,MULTICAST&gt; mtu 1500 ether 60:03:08:a1:ac:ee nd6 options=201&lt;PERFORMNUD,DAD&gt; media: autoselect (&lt;unknown type&gt;) status: inactivep2p0: flags=8802&lt;BROADCAST,SIMPLEX,MULTICAST&gt; mtu 2304 ether 02:03:08:a1:ac:ee media: autoselect status: inactiveawdl0: flags=8902&lt;BROADCAST,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1484 ether 72:25:b2:c8:2a:03 nd6 options=201&lt;PERFORMNUD,DAD&gt; media: autoselect status: inactiveen1: flags=8963&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1500 options=60&lt;TSO4,TSO6&gt; ether 32:00:1a:0d:12:00 media: autoselect &lt;full-duplex&gt; status: inactiveen2: flags=8963&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1500 options=60&lt;TSO4,TSO6&gt; ether 32:00:1a:0d:12:01 media: autoselect &lt;full-duplex&gt; status: inactivebridge0: flags=8822&lt;BROADCAST,SMART,SIMPLEX,MULTICAST&gt; mtu 1500 options=63&lt;RXCSUM,TXCSUM,TSO4,TSO6&gt; ether 32:00:1a:0d:12:00 Configuration: id 0:0:0:0:0:0 priority 0 hellotime 0 fwddelay 0 maxage 0 holdcnt 0 proto stp maxaddr 100 timeout 1200 root id 0:0:0:0:0:0 priority 0 ifcost 0 port 0 ipfilter disabled flags 0x2 member: en1 flags=3&lt;LEARNING,DISCOVER&gt; ifmaxaddr 0 port 10 priority 0 path cost 0 member: en2 flags=3&lt;LEARNING,DISCOVER&gt; ifmaxaddr 0 port 11 priority 0 path cost 0 media: &lt;unknown type&gt; status: inactiveutun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 2000 inet6 fe80::2ed8:c28:27b2:f5d2%utun0 prefixlen 64 scopeid 0xd nd6 options=201&lt;PERFORMNUD,DAD&gt;vmnet1: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500 ether 00:50:56:c0:00:01 inet 172.16.63.1 netmask 0xffffff00 broadcast 172.16.63.255vmnet8: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500 ether 00:50:56:c0:00:08 inet 192.168.170.1 netmask 0xffffff00 broadcast 192.168.170.255en4: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500 options=3&lt;RXCSUM,TXCSUM&gt; ether 00:0e:c6:cc:ae:d7 inet6 fe80::1c60:7fe2:3947:4ec0%en4 prefixlen 64 secured scopeid 0x11 inet 192.168.63.148 netmask 0xffffff00 broadcast 192.168.63.255 nd6 options=201&lt;PERFORMNUD,DAD&gt; media: autoselect (100baseTX &lt;full-duplex,flow-control&gt;) status: active æ‰¾åˆ°æœ€åçš„vmnet8, å…¶ä¸­çš„ inet å°±æ˜¯è™šæ‹Ÿä¸»æœºçš„ç½‘æ®µ, é…ç½®è™šæ‹Ÿä¸»æœºçš„é™æ€ipçš„æ—¶å€™, å°±é…ç½®æ­¤ç½‘æ®µå†…çš„. å¹¿æ’­åœ°å€ broadcastä¹Ÿæ˜¯è™šæ‹Ÿä¸»æœºNATçš„å¹¿æ’­åœ°å€, é…ç½®æ—¶å¯ä»¥ä¸å¡« 123vmnet8: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500 ether 00:50:56:c0:00:08 inet 192.168.170.1 netmask 0xffffff00 broadcast 192.168.170.255 ä¿®æ”¹è™šæ‹Ÿæœºç½‘å¡é…ç½®vi /etc/sysconfig/network-scripts/ifcfg-eth0, åšå¦‚ä¸‹é…ç½® 123456789101112DEVICE=eth0HWADDR=00:0C:29:D6:C7:0ETYPE=EthernetUUID=bebc1b63-4f20-405a-860a-32d0d8211582ONBOOT=yesNM_CONTROLLED=yesBOOTPROTO=static # ipç±»å‹IPADDR=192.168.170.6 # ipåœ°å€, ä¸ vmnet8 åœ¨åŒä¸€ç½‘æ®µNETMASK=255.255.255.0 # å­ç½‘æ©ç GATEWAY=192.168.170.2 # ç½‘å…³, è·Ÿ ipåœ¨åŒä¸€ç½‘æ®µDNS1=192.168.170.2 # ä¸ ip åŒä¸€ç½‘æ®µ DNS2=8.8.8.8 # googleçš„ dns é‡å¯ç½‘ç»œæœåŠ¡ service network restart 2. å¤åˆ¶åŸæœ¬çš„è™šæ‹Ÿä¸»æœº å¤åˆ¶è™šæ‹Ÿä¸»æœº1åˆ°2 æŒ‰ç…§åŸè™šæ‹Ÿä¸»æœºçš„rootç”¨æˆ·å&amp;å¯†ç ç™»å½•2 3. ä¿®æ”¹æ–°æœºç½‘å¡ ä¿®æ”¹ç½‘å¡vi /etc/udev/rules.d/70-persistent-net.rules, åˆ é™¤eth0æ‰€åœ¨çš„æ•´ä¸ªæ®µè½, æŠŠä¸‹é¢çš„eth1æ”¹ä¸ºeth0, ä¿å­˜é€€å‡º ä¿®æ”¹ç½‘å¡é…ç½®vi /etc/sysconfig/network-scripts/ifcfg-eth0, å¦‚æœæœ‰UUID, HARDDR, åˆ æ‰, IPADDRæ”¹ä¸ºä¸åŸè™šæ‹Ÿä¸»æœºä¸åŒçš„åœ°å€, ä½†è¦åœ¨åŒä¸€ç½‘æ®µ, BOOTPROTOæ”¹ä¸ºstatic4. ä¿®æ”¹æ–°æœºhostname â€‹ ä¿®æ”¹hostname, vi /etc/sysconfig/network, æŠŠHOSTNAMEæ”¹ä¸ºè¦ä¿®æ”¹çš„åå­— 5. å…å¯†ç™»å½• æ–°æœºç”Ÿæˆè‡ªå·±å…¬é’¥ ssh-keygen, æ³¨æ„: å¦‚æœåŸæœ¬ä¸»æœºä¸­å·²ç»ç”Ÿæˆ, æ­¤å¤„åœ¨æç¤ºverwrite (y/n)?çš„æ—¶å€™è¦é€‰æ‹©y, æ‰ä¼šé‡æ–°ç”Ÿæˆè¦†ç›– æŠŠæ–°ä¸»æœºå…¬é’¥å‘é€ç»™å…¶å®ƒæœºå™¨ ssh-copy-id root@xxx(å…¶å®ƒä¸»æœºip), æ­¤å‘½ä»¤ç›¸å½“äº ä¸‹é¢2æ¡å‘½ä»¤çš„æ•ˆæœ 12cat id_rsa.pub &gt; authorized_keysscp -r authorized_keys root@192.168.123.202:/root/.ssh/ å…¶ä»–ä¸»æœºä¹ŸæŠŠå…¬é’¥å‘ç»™æ–°ä¸»æœº, æ­¤æ—¶å°±å¯ä»¥å®ç°ä¸»æœºé—´çš„å…å¯†ç™»å½•äº†. 6. åŠŸèƒ½å¢å¼º(å¯é€‰) å¯ä»¥åœ¨ æ¯å°æœºå™¨ä¸­è®¾ç½®hoståˆ«å, vi /etc/hosts, åŠ ä¸Šxxx.xxx.xx.xxx cts1/2/3..., è¿™æ ·åœ¨è®¿é—®å…¶ä»–ä¸»æœºæ—¶, å¯ä»¥ç›´æ¥ç”¨åˆ«åæ›¿ä»£åŸŸå å¦‚æœæ˜¯ç”¨çš„zshçš„shell, å¯ä»¥åœ¨æ‰€æœ‰ä¸»æœºçš„ ~.zshrcä¸­, æ·»åŠ alias login1=&#39;ssh root@cts1&#39; &gt;&gt; ~/.zshrc, è¿™æ ·å¯ä»¥ç›´æ¥ ç”¨ login1ç™»å½•åˆ°å¯¹åº”çš„ä¸»æœº. 9. å®‰è£…, ä½¿ç”¨ zsh &amp; oh-my-zsh &amp;ç›¸å…³æ’ä»¶ä¸»éª¨æ¶å®‰è£…&amp;ä»‹ç» å®‰è£…zshå¥—ä»¶ 1yum install zsh -y å®‰è£… oh-my-zshå¥—ä»¶ 1sh -c "$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)" zsh çš„ä¸€äº›åŸºæœ¬é…ç½®æ“ä½œ, å¸¸ç”¨æ’ä»¶å®‰è£…è§è¿™é‡Œ! 12345678910111213141516171819202122# æŸ¥çœ‹oh-my-zsh çš„ä¸»é¢˜ls ~/.oh-my-zsh/themes------#è¿™é‡Œéƒ½æ˜¯ .zshrcä¸­çš„é…ç½®------# å¯ä»¥æ›´æ”¹ä¸ºrandom, è¿™æ ·ä¼šéšæœºæ˜¾ç¤º, å¾ˆæœ‰ä¹è¶£, ç›´æ¥è¾“å…¥zshä¹Ÿä¼šåˆ‡æ¢vi ~/.zshrcZSH_THEME="random"# æ·»åŠ plugin, æŒ‰ç…§å¯¹åº”æ–¹å¼å®‰è£…plugins=(git ... ... )# æ·»åŠ alias åˆ° ~/.zshrcalias vi='vim'alias zshconfig='vi ~/.zshrc'alias vimconfig='vi ~/.vimrc'-----------------------# è®¾ç½®å½“å‰ç”¨æˆ·ä½¿ç”¨zshä¸ºé»˜è®¤çš„shellchsh -s /bin/zsh# å¸è½½ oh-my-zshuninstall_oh_my_zsh zsh zsh çš„ä¸€äº›éªšæ°”æ“ä½œ 12345671. å…¼å®¹ bash, è¿™ä¸ªå°±ä¸ç”¨è¯´äº†2. è¾“å…¥æŸæ¡å‘½ä»¤, æ¯”å¦‚ cat, ç„¶åç”¨ä¸Šä¸‹é”®, å¯ä»¥ç¿»é˜…æ‰€æœ‰æ‰§è¡Œè¿‡çš„å‘½ä»¤3. å„ç§è¡¥å…¨, è¾“å…¥ä»»ä½•å‘½ä»¤, æŒ‰ 2ä¸‹ tabé”®, ä¸‹é¢ä¼šå‡ºç°æ‰€æœ‰å¯èƒ½çš„è¡¥å…¨, å¯ä»¥ tab, æˆ– ä¸Šä¸‹å·¦å³åˆ‡æ¢.4. æ¯”å¦‚è¦æ€æ‰è¿›ç¨‹java, åŸæ¥æ˜¯éœ€è¦ ps aux | grep java, æŸ¥è¿›ç¨‹çš„ PIDï¼Œç„¶å kill PID; ç°åœ¨åªéœ€è¦ kill java, ç„¶åæŒ‰ä¸‹ tab, javaä¼šè¢«æ›¿æ¢ä¸º å¯¹åº”çš„ PID, ç‚¹å›è½¦, kill !5. ç›®å½•æµè§ˆå’Œè·³è½¬, è¾“å…¥ d, å¯ä»¥åˆ—å‡ºåœ¨è¿™ä¸ªå›è¯ä¸­è®¿é—®è¿‡çš„ç›®å½•åˆ—è¡¨, å†è¾“å…¥åˆ—è¡¨å‰çš„åºå·, å³å¯ç›´æ¥è·³è½¬.6. åœ¨å½“å‰ç›®å½•ä¸‹è¾“å…¥ .. æˆ– ... , æˆ–è€…ç›´æ¥è¾“å…¥ç›®å½•å, éƒ½å¯ä»¥ç›´æ¥è·³è½¬, ç”šè‡³éƒ½ä¸éœ€è¦ä½¿ç”¨ cdå‘½ä»¤äº†.7. é€šé…ç¬¦æœç´¢ï¼šls -l */.shï¼Œå¯ä»¥é€’å½’æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„ shell æ–‡ä»¶ï¼Œæ–‡ä»¶å°‘æ—¶å¯ä»¥ä»£æ›¿ findï¼Œæ–‡ä»¶å¤ªå¤šå°±æ­‡èœäº†. zshä¸»é¢˜ä»‹ç», zshæ’ä»¶ä»‹ç» zshå¸¸ç”¨æ’ä»¶å®‰è£…å®‰è£… zsh-autosuggestions1234567891011121314151617181920æ–¹å¼1: # ä¸‹è½½åˆ°æœ¬åœ°git clone git://github.com/zsh-users/zsh-autosuggestions ~/.zsh/zsh-autosuggestions# æ·»åŠ åˆ°.zshrc, è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡sourceäº†æ·»åŠ  source ~/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh åˆ° .zshrc å°¾éƒ¨plugins=() ä¸­æ·»åŠ ä¸Š zsh-autosuggestions, ç”¨ç©ºæ ¼éš”å¼€å³å¯======================æ–¹å¼2: å®˜æ–¹å»ºè®®# å°‘äº†æ·»åŠ sourceåˆ° ~/.zshrcè¿™ä¸€æ­¥, çŒœæƒ³æ˜¯ä¼šæŒ‰ç…§é»˜è®¤çš„è·¯å¾„åŠ è½½? ==&gt; æ˜¯çš„, æ˜¯å¯è¡Œçš„, å»ºè®®è¿™ä¸ª# çŒœæƒ³, oh-my-zshä¼šè‡ªåŠ¨å¯¹å®‰è£…åˆ° ~/.oh-my-zsh/custom&#125;/plugins/ æ­¤è·¯å¾„ä¸‹çš„æ’ä»¶source, å°±ä¸éœ€è¦æ‰‹åŠ¨åœ¨ ~/.zshrcä¸­æ·»åŠ sourceäº†, å…¶å®ƒçš„æ’ä»¶å°±å…ˆä¸æŠ˜è…¾äº†, ä»¥åæœ‰æœºä¼šå†è¯•è¯•# 1.Clone this repository into $ZSH_CUSTOM/plugins (by default ~/.oh-my-zsh/custom/plugins)git clone https://github.com/zsh-users/zsh-autosuggestions $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions# 2.Add the plugin to the list of plugins for Oh My Zsh to load:plugins=(zsh-autosuggestions)# 3.Start a new terminal session. å®‰è£… autojump12345678910111213# ä¸‹è½½åˆ°æœ¬åœ°git clone git://github.com/joelthelion/autojump.git# æ‰§è¡Œå®‰è£…è„šæœ¬cd autojump./install.py# å®‰è£…å®Œæˆåœ¨~/ä¸‹é¢æœ‰.autojumpç›®å½•, åœ¨.zshrcä¸­åŠ ä¸€å¥[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh# åœ¨plugins=(git zsh-autosuggestions autojump) åŠ ä¸Šautojump, ä¸å‰è€…ç”¨ç©ºæ ¼éš”å¼€# æ¥ä¸‹æ¥å¯ä»¥æ„‰æ‚¦çš„ä½¿ç”¨ j äº† å®‰è£… zsh-syntax-highlighting 123456789101112131415# åˆ° ~/.zshrc ç›®å½•, å…‹éš†ä»“åº“# è¿™é‡Œé»˜è®¤çš„æ˜¯ä¸»ç›®å½•, å½“ç„¶å¯ä»¥ä¸‹è½½åˆ°å…¶å®ƒç›®å½•# ps: åœ¨é‚£ä¸ªç›®å½•, git cloneå°±ä¼šä¸‹è½½åˆ°å“ªä¸ªç›®å½•git clone https://github.com/zsh-users/zsh-syntax-highlighting.git# source the script åˆ° ~/.zshrc# è¿™ä¸ªåœ¨å“ªä¸ªç›®å½•ä¸‹echoçš„, å°±ä¼šæŠŠå½“å‰ç›®å½•æ‹¼åˆ°å‰é¢?? ç»“æœå¥½åƒæ˜¯è¿™æ ·echo "source $&#123;(q-)PWD&#125;/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" &gt;&gt; $&#123;ZDOTDIR:-$HOME&#125;/.zshrc# åœ¨plugins=(git zsh-autosuggestions autojump zsh-syntax-highlighting) zsh-syntax-highlighting, ä¸å‰è€…ç”¨ç©ºæ ¼éš”å¼€# å…¶å®è¿™é‡Œä¸åŠ å¥½åƒä¹Ÿæ²¡äº‹, è¿˜æ˜¯åŠ ä¸Šä¸ºå¥½# åœ¨å½“å‰ shellç”Ÿæ•ˆ# çœ‹è¿™ä¸ªæ–‡ä»¶åœ¨å“ªä¸ªç›®å½•, åœ¨å“ªä¸ªç›®å½•å°±source å“ªä¸ªç›®å½•, ç«‹å³ç”Ÿæ•ˆsource ./zsh-syntax-highlighting/zsh-syntax-highlighting.zsh]]></content>
      <categories>
        <category>Linux</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åŸåˆ›</tag>
        <tag>æŠ€æœ¯</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
